(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["ElectronUpdater"]=t():e["ElectronUpdater"]=t()})(global,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports=require("path")},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a});var r="installer.exe",i="package.7z";function o(e){return null==e?[]:Array.isArray(e)?e:[e]}function a(e,t){var n=new Error(e);return n.code=t,n}},function(e,t,n){"use strict";e.exports=Object.assign({},n(36),n(38),n(42),n(56),n(58),n(64),n(8),n(68),n(69),n(70),n(11),n(24));const r=n(21);Object.getOwnPropertyDescriptor(r,"promises")&&Object.defineProperty(e.exports,"promises",{get(){return r.promises}})},function(e,t,n){"use strict";var r=n(12),i=n(2),o=n(18),a=n(10),s=n(14),u=n(1);function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function f(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}var x=function(e){function t(e,n,r){var i;return l(this,t),i=f(this,m(t).call(this)),i.total=e,i.cancellationToken=n,i.onProgress=r,i.start=Date.now(),i.transferred=0,i.delta=0,i.nextUpdate=i.start+1e3,i}return y(t,e),p(t,[{key:"_transform",value:function(e,t,n){if(this.cancellationToken.cancelled)n(new Error("Cancelled"),null);else{this.transferred+=e.length,this.delta+=e.length;var r=Date.now();r>=this.nextUpdate&&this.transferred!==this.total&&(this.nextUpdate=r+1e3,this.onProgress({total:this.total,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.total*100,bytesPerSecond:Math.round(this.transferred/((r-this.start)/1e3))}),this.delta=0),n(null,e)}}},{key:"_flush",value:function(e){this.cancellationToken.cancelled?e(new Error("Cancelled")):(this.onProgress({total:this.total,delta:this.delta,transferred:this.total,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,e(null))}}]),t}(o["Transform"]);function g(e){return g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){w(e,t,n[t])})}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function E(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){b(o,r,i,a,s,"next",e)}function s(e){b(o,r,i,a,s,"throw",e)}a(void 0)})}}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){return!t||"object"!==g(t)&&"function"!==typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}function T(e){var t="function"===typeof Map?new Map:void 0;return T=function(e){if(null===e||!B(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return I(e,arguments,_(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),N(n,e)},T(e)}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function I(e,t,n){return I=P()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),o=new i;return n&&N(o,n.prototype),o},I.apply(null,arguments)}function B(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function N(e,t){return N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},N(e,t)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}n.d(t,"b",function(){return R}),n.d(t,"f",function(){return M}),n.d(t,"c",function(){return U}),n.d(t,"e",function(){return z}),n.d(t,"a",function(){return J}),n.d(t,"g",function(){return q}),n.d(t,"d",function(){return K}),n.d(t,"h",function(){return W});var j=new Map([[429,"Too many requests"],[400,"Bad request"],[403,"Forbidden"],[404,"Not found"],[405,"Method not allowed"],[406,"Not acceptable"],[408,"Request timeout"],[413,"Request entity too large"],[500,"Internal server error"],[502,"Bad gateway"],[503,"Service unavailable"],[504,"Gateway timeout"],[505,"HTTP version not supported"]]),R=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HTTP error: ".concat(j.get(e)||e),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return k(this,t),n=A(this,_(t).call(this,r)),n.statusCode=e,n.description=i,n.name="HttpError",n}return O(t,e),t}(T(Error));function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new R(e.statusCode||-1,"".concat(e.statusCode," ").concat(e.statusMessage).concat(null==t?"":"\n".concat(JSON.stringify(t,null,"  ")),"\nHeaders: ").concat(W(e.headers)),t)}var U=function(){function e(){k(this,e),this.maxRedirects=10}return C(e,[{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new s["b"],n=arguments.length>2?arguments[2]:void 0;K(e);var r=null==n?void 0:Buffer.from(JSON.stringify(n));return null!=r&&(e.method="post",e.headers["Content-Type"]="application/json",e.headers["Content-Length"]=r.length),this.doApiRequest(e,t,function(e){e.end(r)})}},{key:"doApiRequest",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return t.createPromise(function(o,a,s){var u=r.createRequest(e,function(s){try{r.handleResponse(s,e,t,o,a,i,n)}catch(u){a(u)}});r.addErrorAndTimeoutHandlers(u,a),r.addRedirectHandlers(u,e,a,i,function(e){r.doApiRequest(e,t,n,i).then(o).catch(a)}),n(u,a),s(function(){return u.abort()})})}},{key:"addRedirectHandlers",value:function(e,t,n,r,i){}},{key:"addErrorAndTimeoutHandlers",value:function(e,t){this.addTimeOutHandler(e,t),e.on("error",t),e.on("aborted",function(){t(new Error("Request has been aborted by the server"))})}},{key:"handleResponse",value:function(t,n,r,i,o,a,s){if(404!==t.statusCode)if(204!==t.statusCode){var u=q(t,"location");if(null!=u)return a>this.maxRedirects?void o(this.createMaxRedirectError()):void this.doApiRequest(e.prepareRedirectUrlOptions(u,n),r,s,a).then(i).catch(o);t.setEncoding("utf8");var c="";t.on("data",function(e){return c+=e}),t.on("end",function(){try{if(null!=t.statusCode&&t.statusCode>=400){var e=q(t,"content-type"),n=null!=e&&(Array.isArray(e)?null!=e.find(function(e){return e.includes("json")}):e.includes("json"));o(M(t,n?JSON.parse(c):c))}else i(0===c.length?null:c)}catch(r){o(r)}})}else i();else o(M(t,"method: ".concat(n.method," url: ").concat(n.protocol||"https:","//").concat(n.hostname).concat(n.path,"\n\nPlease double check that your authentication token is correct. Due to security reasons actual status maybe not reported, but 404.\n")))}},{key:"downloadToBuffer",value:function(){var e=E(regeneratorRuntime.mark(function e(t,n){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.cancellationToken.createPromise(function(e,i,o){var a=null,s={headers:n.headers||void 0,redirect:"manual"};z(t,s),K(s),r.doDownload(s,{destination:null,options:n,onCancel:o,callback:function(t){null==t?e(a):i(t)},responseHandler:function(e,t){var n=q(e,"content-length"),r=-1;if(null!=n){var i=parseInt(n,10);if(i>0){if(i>5242880)return void t(new Error("Maximum allowed size is 5 MB"));a=Buffer.alloc(i),r=0}}e.on("data",function(e){if(-1!==r)e.copy(a,r),r+=e.length;else if(null==a)a=e;else{if(a.length>5242880)return void t(new Error("Maximum allowed size is 5 MB"));a=Buffer.concat([a,e])}}),e.on("end",function(){null!=a&&-1!==r&&r!==a.length?t(new Error("Received data length ".concat(r," is not equal to expected ").concat(a.length))):t(null)})}},0)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"doDownload",value:function(t,n,r){var i=this,o=this.createRequest(t,function(o){if(o.statusCode>=400)n.callback(new Error('Cannot download "'.concat(t.protocol||"https:","//").concat(t.hostname).concat(t.path,'", status ').concat(o.statusCode,": ").concat(o.statusMessage)));else{var a=q(o,"location");null==a?null==n.responseHandler?H(n,o):n.responseHandler(o,n.callback):r<i.maxRedirects?i.doDownload(e.prepareRedirectUrlOptions(a,t),n,r++):n.callback(i.createMaxRedirectError())}});this.addErrorAndTimeoutHandlers(o,n.callback),this.addRedirectHandlers(o,t,n.callback,r,function(e){i.doDownload(e,n,r++)}),o.end()}},{key:"createMaxRedirectError",value:function(){return new Error("Too many redirects (> ".concat(this.maxRedirects,")"))}},{key:"addTimeOutHandler",value:function(e,t){e.on("socket",function(n){n.setTimeout(6e4,function(){e.abort(),t(new Error("Request timed out"))})})}}],[{key:"prepareRedirectUrlOptions",value:function(e,t){var n=L(e,D({},t)),r=n.headers;if(null!=r&&null!=r.authorization&&r.authorization.startsWith("token")){var i=new a["URL"](e);i.hostname.endsWith(".amazonaws.com")&&delete r.authorization}return n}}]),e}();function L(e,t){var n=K(t);return z(new a["URL"](e),n),n}function z(e,t){t.protocol=e.protocol,t.hostname=e.hostname,e.port?t.port=e.port:t.port&&delete t.port,t.path=e.pathname+e.search}var J=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sha512",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"base64";return k(this,t),n=A(this,_(t).call(this)),n.expected=e,n.algorithm=i,n.encoding=o,n._actual=null,n.isValidateOnEnd=!0,n.digester=Object(r["createHash"])(i),n}return O(t,e),C(t,[{key:"actual",get:function(){return this._actual}}]),C(t,[{key:"_transform",value:function(e,t,n){this.digester.update(e),n(null,e)}},{key:"_flush",value:function(e){if(this._actual=this.digester.digest(this.encoding),this.isValidateOnEnd)try{this.validate()}catch(t){return void e(t)}e(null)}},{key:"validate",value:function(){if(null==this._actual)throw Object(u["d"])("Not finished yet","ERR_STREAM_NOT_FINISHED");if(this._actual!==this.expected)throw Object(u["d"])("".concat(this.algorithm," checksum mismatch, expected ").concat(this.expected,", got ").concat(this._actual),"ERR_CHECKSUM_MISMATCH");return null}}]),t}(o["Transform"]);function X(e,t,n){return null==e||null==t||e===t||(n(new Error("checksum mismatch: expected ".concat(t," but got ").concat(e," (X-Checksum-Sha2 header)"))),!1)}function q(e,t){var n=e.headers[t];return null==n?null:Array.isArray(n)?0===n.length?null:n[n.length-1]:n}function H(e,t){if(X(q(t,"X-Checksum-Sha2"),e.options.sha2,e.callback)){var n=[];if(null!=e.options.onProgress){var r=q(t,"content-length");null!=r&&n.push(new x(parseInt(r,10),e.options.cancellationToken,e.options.onProgress))}var o=e.options.sha512;null!=o?n.push(new J(o,"sha512",128!==o.length||o.includes("+")||o.includes("Z")||o.includes("=")?"base64":"hex")):null!=e.options.sha2&&n.push(new J(e.options.sha2,"sha256","hex"));var a=Object(i["createWriteStream"])(e.destination);n.push(a);var s=t;n.forEach(function(t){t.on("error",function(t){e.options.cancellationToken.cancelled||e.callback(t)}),s=s.pipe(t)}),a.on("finish",function(){a.close(e.callback)})}}function K(e,t,n){null!=n&&(e.method=n);var r=e.headers;return null==r&&(r={},e.headers=r),null!=t&&(r.authorization=t.startsWith("Basic")?t:"token ".concat(t)),null==r["User-Agent"]&&(r["User-Agent"]="electron-builder"),null!=n&&"GET"!==n&&null!=r["Cache-Control"]||(r["Cache-Control"]="no-cache"),null==e.protocol&&null!=process.versions.electron&&(e.protocol="https:"),e}function W(e,t){return JSON.stringify(e,function(e,n){return e.endsWith("authorization")||e.endsWith("Password")||e.endsWith("PASSWORD")||e.endsWith("Token")||e.includes("password")||e.includes("token")||null!=t&&t.has(e)?"<stripped sensitive data>":n},2)}},function(e,t,n){"use strict";var r=n(22),i=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],o=["scalar","sequence","mapping"];function a(e){var t={};return null!==e&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})}),t}function s(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(-1===i.indexOf(t))throw new r('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t["kind"]||null,this.resolve=t["resolve"]||function(){return!0},this.construct=t["construct"]||function(e){return e},this.instanceOf=t["instanceOf"]||null,this.predicate=t["predicate"]||null,this.represent=t["represent"]||null,this.defaultStyle=t["defaultStyle"]||null,this.styleAliases=a(t["styleAliases"]||null),-1===o.indexOf(this.kind))throw new r('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}e.exports=s},function(e,t,n){var r=n(21),i=n(47),o=n(49),a=n(50),s=[],u=n(51);function c(){}var l=c;function h(e){i(e),e.gracefulify=h,e.FileReadStream=x,e.FileWriteStream=D,e.createReadStream=b,e.createWriteStream=E;var t=e.readFile;function n(e,n,r){return"function"===typeof n&&(r=n,n=null),i(e,n,r);function i(e,n,r){return t(e,n,function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"===typeof r&&r.apply(this,arguments),f()):p([i,[e,n,r]])})}}e.readFile=n;var r=e.writeFile;function a(e,t,n,i){return"function"===typeof n&&(i=n,n=null),o(e,t,n,i);function o(e,t,n,i){return r(e,t,n,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"===typeof i&&i.apply(this,arguments),f()):p([o,[e,t,n,i]])})}}e.writeFile=a;var s=e.appendFile;function u(e,t,n,r){return"function"===typeof n&&(r=n,n=null),i(e,t,n,r);function i(e,t,n,r){return s(e,t,n,function(o){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"===typeof r&&r.apply(this,arguments),f()):p([i,[e,t,n,r]])})}}s&&(e.appendFile=u);var c=e.readdir;function l(e,t,n){var r=[e];return"function"!==typeof t?r.push(t):n=t,r.push(i),d(r);function i(e,t){t&&t.sort&&t.sort(),!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"===typeof n&&n.apply(this,arguments),f()):p([d,[r]])}}function d(t){return c.apply(e,t)}if(e.readdir=l,"v0.8"===process.version.substr(0,4)){var m=o(e);x=m.ReadStream,D=m.WriteStream}var y=e.ReadStream;y&&(x.prototype=Object.create(y.prototype),x.prototype.open=g);var v=e.WriteStream;function x(e,t){return this instanceof x?(y.apply(this,arguments),this):x.apply(Object.create(x.prototype),arguments)}function g(){var e=this;C(e.path,e.flags,e.mode,function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())})}function D(e,t){return this instanceof D?(v.apply(this,arguments),this):D.apply(Object.create(D.prototype),arguments)}function w(){var e=this;C(e.path,e.flags,e.mode,function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))})}function b(e,t){return new x(e,t)}function E(e,t){return new D(e,t)}v&&(D.prototype=Object.create(v.prototype),D.prototype.open=w),e.ReadStream=x,e.WriteStream=D;var S=e.open;function C(e,t,n,r){return"function"===typeof n&&(r=n,n=null),i(e,t,n,r);function i(e,t,n,r){return S(e,t,n,function(o,a){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"===typeof r&&r.apply(this,arguments),f()):p([i,[e,t,n,r]])})}}return e.open=C,e}function p(e){l("ENQUEUE",e[0].name,e[1]),s.push(e)}function f(){var e=s.shift();e&&(l("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}u.debuglog?l=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(l=function(){var e=u.format.apply(u,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){l(s),n(37).equal(s.length,0)}),e.exports=h(a(r)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!r.__patched&&(e.exports=h(r),r.__patched=!0),e.exports.close=function(e){return function(t,n){return e.call(r,t,function(e){e||f(),"function"===typeof n&&n.apply(this,arguments)})}}(r.close),e.exports.closeSync=function(e){return function(t){var n=e.apply(r,arguments);return f(),n}}(r.closeSync),/\bgraceful-fs\b/.test(r.closeSync.toString())||(r.closeSync=e.exports.closeSync,r.close=e.exports.close)},function(e,t,n){"use strict";n.r(t),n.d(t,"getChannelFilename",function(){return h}),n.d(t,"DOWNLOAD_PROGRESS",function(){return p}),n.d(t,"UPDATE_DOWNLOADED",function(){return f}),n.d(t,"UpdaterSignal",function(){return d}),n.d(t,"newBaseUrl",function(){return v}),n.d(t,"newUrlFromBase",function(){return x});var r=n(10),i=n(16);n.d(t,"AppUpdater",function(){return i["a"]}),n.d(t,"NoOpLogger",function(){return i["b"]});var o,a=n(9);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(){return o="win32"===process.platform?new(n(96).NsisUpdater):"darwin"===process.platform?new(n(94).MacUpdater):new(n(95).AppImageUpdater),o}function h(e){return"".concat(e,".yml")}n.d(t,"Provider",function(){return a["a"]}),Object.defineProperty(exports,"autoUpdater",{enumerable:!0,get:function(){return o||l()}});var p="download-progress",f="update-downloaded",d=function(){function e(t){s(this,e),this.emitter=t}return c(e,[{key:"login",value:function(e){y(this.emitter,"login",e)}},{key:"progress",value:function(e){y(this.emitter,p,e)}},{key:"updateDownloaded",value:function(e){y(this.emitter,f,e)}},{key:"updateCancelled",value:function(e){y(this.emitter,"update-cancelled",e)}}]),e}(),m=!1;function y(e,t,n){m?e.on(t,function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];console.log("%s %s",t,r),n.apply(void 0,r)}):e.on(t,n)}function v(e){var t=new r["URL"](e);return t.pathname.endsWith("/")||(t.pathname+="/"),t}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=new r["URL"](e,t),o=t.search;return null!=o&&0!==o.length?i.search=o:n&&(i.search="noCache=".concat(Date.now().toString(32))),i}},function(e,t,n){"use strict";t.fromCallback=function(e){return Object.defineProperty(function(){if("function"!==typeof arguments[arguments.length-1])return new Promise((t,n)=>{arguments[arguments.length]=((e,r)=>{if(e)return n(e);t(r)}),arguments.length++,e.apply(this,arguments)});e.apply(this,arguments)},"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty(function(){const t=arguments[arguments.length-1];if("function"!==typeof t)return e.apply(this,arguments);e.apply(this,arguments).then(e=>t(null,e),t)},"name",{value:e.name})}},function(e,t,n){"use strict";const r=n(7).fromCallback,i=r(n(53)),o=n(54);e.exports={mkdirs:i,mkdirsSync:o,mkdirp:i,mkdirpSync:o,ensureDir:i,ensureDirSync:o}},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return y});var r=n(28),i=n(3),o=n(1),a=n(6);function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var p=function(){function e(t){c(this,e),this.runtimeOptions=t,this.requestHeaders=null,this.executor=t.executor}return h(e,[{key:"getChannelFilePrefix",value:function(){if("linux"===this.runtimeOptions.platform){var e=process.env.TEST_UPDATER_ARCH||process.arch,t="x64"===e?"":"-".concat(e);return"-linux".concat(t)}return"darwin"===this.runtimeOptions.platform?"-mac":""}},{key:"getDefaultChannelName",value:function(){return this.getCustomChannelName("latest")}},{key:"getCustomChannelName",value:function(e){return"".concat(e).concat(this.getChannelFilePrefix())}},{key:"setRequestHeaders",value:function(e){this.requestHeaders=e}},{key:"httpRequest",value:function(e,t,n){return this.executor.request(this.createRequestOptions(e,t),n)}},{key:"createRequestOptions",value:function(e,t){var n={};return null==this.requestHeaders?null!=t&&(n.headers=t):n.headers=null==t?this.requestHeaders:s({},this.requestHeaders,t),Object(i["e"])(e,n),n}},{key:"isUseMultipleRangeRequest",get:function(){return!1!==this.runtimeOptions.isUseMultipleRangeRequest}},{key:"fileExtraDownloadHeaders",get:function(){return null}}]),e}();function f(e,t,n){if(0===e.length)throw Object(o["d"])("No files provided","ERR_UPDATER_NO_FILES_PROVIDED");var r=e.find(function(e){return e.url.pathname.toLowerCase().endsWith(".".concat(t))});return null!=r?r:null==n?e[0]:e.find(function(e){return!n.some(function(t){return e.url.pathname.toLowerCase().endsWith(".".concat(t))})})}function d(e,t,n){if(null==e)throw Object(o["d"])("Cannot parse update info from ".concat(t," in the latest release artifacts (").concat(n,"): rawData: null"),"ERR_UPDATER_INVALID_UPDATE_INFO");var i;try{i=Object(r["safeLoad"])(e)}catch(a){throw Object(o["d"])("Cannot parse update info from ".concat(t," in the latest release artifacts (").concat(n,"): ").concat(a.stack||a.message,", rawData: ").concat(e),"ERR_UPDATER_INVALID_UPDATE_INFO")}return i}function m(e){var t=e.files;if(null!=t&&t.length>0)return t;if(null!=e.path)return[{url:e.path,sha2:e.sha2,sha512:e.sha512}];throw Object(o["d"])("No files provided: ".concat(Object(i["h"])(e)),"ERR_UPDATER_NO_FILES_PROVIDED")}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},r=m(e),u=r.map(function(e){if(null==e.sha2&&null==e.sha512)throw Object(o["d"])("Update info doesn't contain nor sha256 neither sha512 checksum: ".concat(Object(i["h"])(e)),"ERR_UPDATER_NO_CHECKSUM");return{url:Object(a["newUrlFromBase"])(n(e.url),t),info:e}}),c=e.packages,l=null==c?null:c[process.arch]||c.ia32;return null!=l&&(u[0].packageInfo=s({},l,{path:Object(a["newUrlFromBase"])(n(l.path),t).href})),u}},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";const r=n(7).fromPromise,i=n(36);function o(e){return i.access(e).then(()=>!0).catch(()=>!1)}e.exports={pathExists:r(o),pathExistsSync:i.existsSync}},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return x});var r=n(27);function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function h(e){var t="function"===typeof Map?new Map:void 0;return h=function(e){if(null===e||!d(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return f(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},h(e)}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function f(e,t,n){return f=p()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),o=new i;return n&&m(o,n.prototype),o},f.apply(null,arguments)}function d(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var v=function(e){function t(){return s(this,t),u(this,y(t).call(this,"Cancelled"))}return l(t,e),t}(h(Error)),x=function(e){function t(e){var n;return s(this,t),n=u(this,y(t).call(this)),n.parentCancelHandler=null,n._parent=null,n._cancelled=!1,null!=e&&(n.parent=e),n}return l(t,e),a(t,[{key:"cancelled",get:function(){return this._cancelled||null!=this._parent&&this._parent.cancelled}},{key:"parent",set:function(e){var t=this;this.removeParentCancelHandler(),this._parent=e,this.parentCancelHandler=function(){return t.cancel()},this._parent.onCancel(this.parentCancelHandler)}}]),a(t,[{key:"cancel",value:function(){this._cancelled=!0,this.emit("cancel")}},{key:"onCancel",value:function(e){this.cancelled?e():this.once("cancel",e)}},{key:"createPromise",value:function(e){var t=this;if(this.cancelled)return Promise.reject(new v);var n=null,r=function(){if(null!=n)try{t.removeListener("cancel",n),n=null}catch(e){}};return new Promise(function(r,i){var o=null;n=function(){try{null!=o&&(o(),o=null)}finally{i(new v)}},t.cancelled?n():(t.onCancel(n),e(r,i,function(e){o=e}))}).then(function(e){return r(),e}).catch(function(e){throw r(),e})}},{key:"removeParentCancelHandler",value:function(){var e=this._parent;null!=e&&null!=this.parentCancelHandler&&(e.removeListener("cancel",this.parentCancelHandler),this.parentCancelHandler=null)}},{key:"dispose",value:function(){try{this.removeParentCancelHandler()}finally{this.removeAllListeners(),this._parent=null}}}]),t}(r["EventEmitter"])},function(e,t){var n;t=e.exports=Q,n="object"===typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,a=t.re=[],s=t.src=[],u=0,c=u++;s[c]="0|[1-9]\\d*";var l=u++;s[l]="[0-9]+";var h=u++;s[h]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var p=u++;s[p]="("+s[c]+")\\.("+s[c]+")\\.("+s[c]+")";var f=u++;s[f]="("+s[l]+")\\.("+s[l]+")\\.("+s[l]+")";var d=u++;s[d]="(?:"+s[c]+"|"+s[h]+")";var m=u++;s[m]="(?:"+s[l]+"|"+s[h]+")";var y=u++;s[y]="(?:-("+s[d]+"(?:\\."+s[d]+")*))";var v=u++;s[v]="(?:-?("+s[m]+"(?:\\."+s[m]+")*))";var x=u++;s[x]="[0-9A-Za-z-]+";var g=u++;s[g]="(?:\\+("+s[x]+"(?:\\."+s[x]+")*))";var D=u++,w="v?"+s[p]+s[y]+"?"+s[g]+"?";s[D]="^"+w+"$";var b="[v=\\s]*"+s[f]+s[v]+"?"+s[g]+"?",E=u++;s[E]="^"+b+"$";var S=u++;s[S]="((?:<|>)?=?)";var C=u++;s[C]=s[l]+"|x|X|\\*";var k=u++;s[k]=s[c]+"|x|X|\\*";var A=u++;s[A]="[v=\\s]*("+s[k]+")(?:\\.("+s[k]+")(?:\\.("+s[k]+")(?:"+s[y]+")?"+s[g]+"?)?)?";var F=u++;s[F]="[v=\\s]*("+s[C]+")(?:\\.("+s[C]+")(?:\\.("+s[C]+")(?:"+s[v]+")?"+s[g]+"?)?)?";var O=u++;s[O]="^"+s[S]+"\\s*"+s[A]+"$";var T=u++;s[T]="^"+s[S]+"\\s*"+s[F]+"$";var P=u++;s[P]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var I=u++;s[I]="(?:~>?)";var B=u++;s[B]="(\\s*)"+s[I]+"\\s+",a[B]=new RegExp(s[B],"g");var N="$1~",_=u++;s[_]="^"+s[I]+s[A]+"$";var j=u++;s[j]="^"+s[I]+s[F]+"$";var R=u++;s[R]="(?:\\^)";var M=u++;s[M]="(\\s*)"+s[R]+"\\s+",a[M]=new RegExp(s[M],"g");var U="$1^",L=u++;s[L]="^"+s[R]+s[A]+"$";var z=u++;s[z]="^"+s[R]+s[F]+"$";var J=u++;s[J]="^"+s[S]+"\\s*("+b+")$|^$";var X=u++;s[X]="^"+s[S]+"\\s*("+w+")$|^$";var q=u++;s[q]="(\\s*)"+s[S]+"\\s*("+b+"|"+s[A]+")",a[q]=new RegExp(s[q],"g");var H="$1$2$3",K=u++;s[K]="^\\s*("+s[A]+")\\s+-\\s+("+s[A]+")\\s*$";var W=u++;s[W]="^\\s*("+s[F]+")\\s+-\\s+("+s[F]+")\\s*$";var G=u++;s[G]="(<|>)?=?\\s*\\*";for(var V=0;V<u;V++)n(V,s[V]),a[V]||(a[V]=new RegExp(s[V]));function Y(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof Q)return e;if("string"!==typeof e)return null;if(e.length>r)return null;var n=t.loose?a[E]:a[D];if(!n.test(e))return null;try{return new Q(e,t)}catch(i){return null}}function $(e,t){var n=Y(e,t);return n?n.version:null}function Z(e,t){var n=Y(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}function Q(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof Q){if(e.loose===t.loose)return e;e=e.version}else if("string"!==typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof Q))return new Q(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?a[E]:a[D]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}function ee(e,t,n,r){"string"===typeof n&&(r=n,n=void 0);try{return new Q(e,n).inc(t,r).version}catch(i){return null}}function te(e,t){if(me(e,t))return null;var n=Y(e),r=Y(t);if(n.prerelease.length||r.prerelease.length){for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return"pre"+i;return"prerelease"}for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return i}t.parse=Y,t.valid=$,t.clean=Z,t.SemVer=Q,Q.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},Q.prototype.toString=function(){return this.version},Q.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof Q||(e=new Q(e,this.options)),this.compareMain(e)||this.comparePre(e)},Q.prototype.compareMain=function(e){return e instanceof Q||(e=new Q(e,this.options)),re(this.major,e.major)||re(this.minor,e.minor)||re(this.patch,e.patch)},Q.prototype.comparePre=function(e){if(e instanceof Q||(e=new Q(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return re(r,i)}while(++t)},Q.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{var n=this.prerelease.length;while(--n>=0)"number"===typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=ee,t.diff=te,t.compareIdentifiers=re;var ne=/^[0-9]+$/;function re(e,t){var n=ne.test(e),r=ne.test(t);return n&&r&&(e=+e,t=+t),n&&!r?-1:r&&!n?1:e<t?-1:e>t?1:0}function ie(e,t){return re(t,e)}function oe(e,t){return new Q(e,t).major}function ae(e,t){return new Q(e,t).minor}function se(e,t){return new Q(e,t).patch}function ue(e,t,n){return new Q(e,n).compare(new Q(t,n))}function ce(e,t){return ue(e,t,!0)}function le(e,t,n){return ue(t,e,n)}function he(e,n){return e.sort(function(e,r){return t.compare(e,r,n)})}function pe(e,n){return e.sort(function(e,r){return t.rcompare(e,r,n)})}function fe(e,t,n){return ue(e,t,n)>0}function de(e,t,n){return ue(e,t,n)<0}function me(e,t,n){return 0===ue(e,t,n)}function ye(e,t,n){return 0!==ue(e,t,n)}function ve(e,t,n){return ue(e,t,n)>=0}function xe(e,t,n){return ue(e,t,n)<=0}function ge(e,t,n,r){var i;switch(t){case"===":"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),i=e===n;break;case"!==":"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),i=e!==n;break;case"":case"=":case"==":i=me(e,n,r);break;case"!=":i=ye(e,n,r);break;case">":i=fe(e,n,r);break;case">=":i=ve(e,n,r);break;case"<":i=de(e,n,r);break;case"<=":i=xe(e,n,r);break;default:throw new TypeError("Invalid operator: "+t)}return i}function De(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof De){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof De))return new De(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===we?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=ie,t.major=oe,t.minor=ae,t.patch=se,t.compare=ue,t.compareLoose=ce,t.rcompare=le,t.sort=he,t.rsort=pe,t.gt=fe,t.lt=de,t.eq=me,t.neq=ye,t.gte=ve,t.lte=xe,t.cmp=ge,t.Comparator=De;var we={};function be(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof be)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new be(e.raw,t);if(e instanceof De)return new be(e.value,t);if(!(this instanceof be))return new be(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function Ee(e,t){return new be(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})}function Se(e,t){return n("comp",e,t),e=Fe(e,t),n("caret",e),e=ke(e,t),n("tildes",e),e=Te(e,t),n("xrange",e),e=Ie(e,t),n("stars",e),e}function Ce(e){return!e||"x"===e.toLowerCase()||"*"===e}function ke(e,t){return e.trim().split(/\s+/).map(function(e){return Ae(e,t)}).join(" ")}function Ae(e,t){t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?a[j]:a[_];return e.replace(r,function(t,r,i,o,a){var s;return n("tilde",e,t,r,i,o,a),Ce(r)?s="":Ce(i)?s=">="+r+".0.0 <"+(+r+1)+".0.0":Ce(o)?s=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":a?(n("replaceTilde pr",a),"-"!==a.charAt(0)&&(a="-"+a),s=">="+r+"."+i+"."+o+a+" <"+r+"."+(+i+1)+".0"):s=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",s),s})}function Fe(e,t){return e.trim().split(/\s+/).map(function(e){return Oe(e,t)}).join(" ")}function Oe(e,t){n("caret",e,t),t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?a[z]:a[L];return e.replace(r,function(t,r,i,o,a){var s;return n("caret",e,t,r,i,o,a),Ce(r)?s="":Ce(i)?s=">="+r+".0.0 <"+(+r+1)+".0.0":Ce(o)?s="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":a?(n("replaceCaret pr",a),"-"!==a.charAt(0)&&(a="-"+a),s="0"===r?"0"===i?">="+r+"."+i+"."+o+a+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+a+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+a+" <"+(+r+1)+".0.0"):(n("no pr"),s="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",s),s})}function Te(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return Pe(e,t)}).join(" ")}function Pe(e,t){e=e.trim(),t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?a[T]:a[O];return e.replace(r,function(t,r,i,o,a,s){n("xRange",e,t,r,i,o,a,s);var u=Ce(i),c=u||Ce(o),l=c||Ce(a),h=l;return"="===r&&h&&(r=""),u?t=">"===r||"<"===r?"<0.0.0":"*":r&&h?(c&&(o=0),l&&(a=0),">"===r?(r=">=",c?(i=+i+1,o=0,a=0):l&&(o=+o+1,a=0)):"<="===r&&(r="<",c?i=+i+1:o=+o+1),t=r+i+"."+o+"."+a):c?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t})}function Ie(e,t){return n("replaceStars",e,t),e.trim().replace(a[G],"")}function Be(e,t,n,r,i,o,a,s,u,c,l,h,p){return t=Ce(n)?"":Ce(r)?">="+n+".0.0":Ce(i)?">="+n+"."+r+".0":">="+t,s=Ce(u)?"":Ce(c)?"<"+(+u+1)+".0.0":Ce(l)?"<"+u+"."+(+c+1)+".0":h?"<="+u+"."+c+"."+l+"-"+h:"<="+s,(t+" "+s).trim()}function Ne(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(r||(r={}),t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==we&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function _e(e,t,n){try{t=new be(t,n)}catch(r){return!1}return t.test(e)}function je(e,t,n){var r=null,i=null;try{var o=new be(t,n)}catch(a){return null}return e.forEach(function(e){o.test(e)&&(r&&-1!==i.compare(e)||(r=e,i=new Q(r,n)))}),r}function Re(e,t,n){var r=null,i=null;try{var o=new be(t,n)}catch(a){return null}return e.forEach(function(e){o.test(e)&&(r&&1!==i.compare(e)||(r=e,i=new Q(r,n)))}),r}function Me(e,t){try{return new be(e,t).range||"*"}catch(n){return null}}function Ue(e,t,n){return ze(e,t,"<",n)}function Le(e,t,n){return ze(e,t,">",n)}function ze(e,t,n,r){var i,o,a,s,u;switch(e=new Q(e,r),t=new be(t,r),n){case">":i=fe,o=xe,a=de,s=">",u=">=";break;case"<":i=de,o=ve,a=fe,s="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(_e(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var l=t.set[c],h=null,p=null;if(l.forEach(function(e){e.semver===we&&(e=new De(">=0.0.0")),h=h||e,p=p||e,i(e.semver,h.semver,r)?h=e:a(e.semver,p.semver,r)&&(p=e)}),h.operator===s||h.operator===u)return!1;if((!p.operator||p.operator===s)&&o(e,p.semver))return!1;if(p.operator===u&&a(e,p.semver))return!1}return!0}function Je(e,t){var n=Y(e,t);return n&&n.prerelease.length?n.prerelease:null}function Xe(e,t,n){return e=new be(e,n),t=new be(t,n),e.intersects(t)}function qe(e){if(e instanceof Q)return e;if("string"!==typeof e)return null;var t=e.match(a[P]);return null==t?null:Y((t[1]||"0")+"."+(t[2]||"0")+"."+(t[3]||"0"))}De.prototype.parse=function(e){var t=this.options.loose?a[J]:a[X],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new Q(n[2],this.options.loose):this.semver=we},De.prototype.toString=function(){return this.value},De.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===we||("string"===typeof e&&(e=new Q(e,this.options)),ge(e,this.operator,this.semver,this.options))},De.prototype.intersects=function(e,t){if(!(e instanceof De))throw new TypeError("a Comparator is required");var n;if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new be(e.value,t),_e(this.value,n,t);if(""===e.operator)return n=new be(this.value,t),_e(e.semver,n,t);var r=(">="===this.operator||">"===this.operator)&&(">="===e.operator||">"===e.operator),i=("<="===this.operator||"<"===this.operator)&&("<="===e.operator||"<"===e.operator),o=this.semver.version===e.semver.version,a=(">="===this.operator||"<="===this.operator)&&(">="===e.operator||"<="===e.operator),s=ge(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=ge(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&a||s||u},t.Range=be,be.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},be.prototype.toString=function(){return this.range},be.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?a[W]:a[K];e=e.replace(r,Be),n("hyphen replace",e),e=e.replace(a[q],H),n("comparator trim",e,a[q]),e=e.replace(a[B],N),e=e.replace(a[M],U),e=e.split(/\s+/).join(" ");var i=t?a[J]:a[X],o=e.split(" ").map(function(e){return Se(e,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter(function(e){return!!e.match(i)})),o=o.map(function(e){return new De(e,this.options)},this),o},be.prototype.intersects=function(e,t){if(!(e instanceof be))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(n){return e.set.some(function(e){return e.every(function(e){return n.intersects(e,t)})})})})},t.toComparators=Ee,be.prototype.test=function(e){if(!e)return!1;"string"===typeof e&&(e=new Q(e,this.options));for(var t=0;t<this.set.length;t++)if(Ne(this.set[t],e,this.options))return!0;return!1},t.satisfies=_e,t.maxSatisfying=je,t.minSatisfying=Re,t.validRange=Me,t.ltr=Ue,t.gtr=Le,t.outside=ze,t.prerelease=Je,t.intersects=Xe,t.coerce=qe},function(e,t,n){"use strict";var r=n(12),i=n(17),o=n(27),a=n(2),s=n(28),u=n(32),c=n(0),l=n(15),h=n(14),p=n(1);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var y="options.name must be either a string or a Buffer",v=Object(r["randomBytes"])(16);v[0]|=1;for(var x={},g=[],D=0;D<256;D++){var w=(D+256).toString(16).substr(1);x[w]=D,g[D]=w}var b=function(){function e(t){f(this,e),this.ascii=null,this.binary=null;var n=e.check(t);if(n)throw new Error("not a UUID");this.version=n.version,"ascii"===n.format?this.ascii=t:this.binary=t}return m(e,[{key:"toString",value:function(){return null==this.ascii&&(this.ascii=k(this.binary)),this.ascii}},{key:"inspect",value:function(){return"UUID v".concat(this.version," ").concat(this.toString())}}],[{key:"v5",value:function(e,t){return C(e,"sha1",80,t)}},{key:"check",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("string"===typeof e)return e=e.toLowerCase(),!/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-([a-f0-9]{12})$/.test(e)&&("00000000-0000-0000-0000-000000000000"===e?{version:void 0,variant:"nil",format:"ascii"}:{version:(240&x[e[14]+e[15]])>>4,variant:E((224&x[e[19]+e[20]])>>5),format:"ascii"});if(Buffer.isBuffer(e)){if(e.length<t+16)return!1;for(var n=0;n<16;n++)if(0!==e[t+n])break;return 16===n?{version:void 0,variant:"nil",format:"binary"}:{version:(240&e[t+6])>>4,variant:E((224&e[t+8])>>5),format:"binary"}}throw Object(p["d"])("Unknown type of uuid","ERR_UNKNOWN_UUID_TYPE")}},{key:"parse",value:function(e){for(var t=Buffer.allocUnsafe(16),n=0,r=0;r<16;r++)t[r]=x[e[n++]+e[n++]],3!==r&&5!==r&&7!==r&&9!==r||(n+=1);return t}}]),e}();function E(e){switch(e){case 0:case 1:case 3:return"ncs";case 4:case 5:return"rfc4122";case 6:return"microsoft";default:return"future"}}b.OID=b.parse("6ba7b812-9dad-11d1-80b4-00c04fd430c8");var S={};function C(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:S.ASCII,a=Object(r["createHash"])(t),s="string"===typeof e;if(s&&Buffer.isBuffer(e))throw Object(p["d"])(y,"ERR_INVALID_UUID_NAME");a.update(i),a.update(e);var u,c=a.digest();switch(o){case S.BINARY:c[6]=15&c[6]|n,c[8]=63&c[8]|128,u=c;break;case S.OBJECT:c[6]=15&c[6]|n,c[8]=63&c[8]|128,u=new b(c);break;default:u="".concat(g[c[0]]+g[c[1]]+g[c[2]]+g[c[3]],"-").concat(g[c[4]]).concat(g[c[5]],"-").concat(g[15&c[6]|n]).concat(g[c[7]],"-").concat(g[63&c[8]|128]).concat(g[c[9]],"-").concat(g[c[10]]).concat(g[c[11]]).concat(g[c[12]]).concat(g[c[13]]).concat(g[c[14]]).concat(g[c[15]]);break}return u}function k(e){return"".concat(g[e[0]]+g[e[1]]+g[e[2]]+g[e[3]],"-").concat(g[e[4]]).concat(g[e[5]],"-").concat(g[e[6]]).concat(g[e[7]],"-").concat(g[e[8]]).concat(g[e[9]],"-").concat(g[e[10]]).concat(g[e[11]]).concat(g[e[12]]).concat(g[e[13]]).concat(g[e[14]]).concat(g[e[15]])}S[S.ASCII=0]="ASCII",S[S.BINARY=1]="BINARY",S[S.OBJECT=2]="OBJECT";new b("00000000-0000-0000-0000-000000000000");var A=n(21),F=n(35),O=n.n(F);function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){P(e,t,n[t])})}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function B(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){I(o,r,i,a,s,"next",e)}function s(e){I(o,r,i,a,s,"throw",e)}a(void 0)})}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}var R=function(){function e(t){N(this,e),this.cacheDir=t,this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,this._downloadedFileInfo=null}return j(e,[{key:"validateDownloadedPath",value:function(){var e=B(regeneratorRuntime.mark(function e(t,n,r,i){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(null==this.versionInfo||this.file!==t||null==this.fileInfo){e.next=11;break}if(e.t0=O()(this.versionInfo,n)&&O()(this.fileInfo.info,r.info),!e.t0){e.next=6;break}return e.next=5,Object(a["pathExists"])(t);case 5:e.t0=e.sent;case 6:if(!e.t0){e.next=10;break}return e.abrupt("return",t);case 10:return e.abrupt("return",null);case 11:return e.next=13,this.getValidCachedUpdateFile(r,i);case 13:if(o=e.sent,null!=o){e.next=16;break}return e.abrupt("return",null);case 16:return i.info("Update has already been downloaded to ".concat(t,").")),this._file=o,e.abrupt("return",o);case 19:case"end":return e.stop()}},e,this)}));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"setDownloadedFile",value:function(){var e=B(regeneratorRuntime.mark(function e(t,n,r,i,o,s){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this._file=t,this._packageFile=n,this.versionInfo=r,this.fileInfo=i,this._downloadedFileInfo={fileName:o,sha512:i.info.sha512,isAdminRightsRequired:!0===i.info.isAdminRightsRequired},!s){e.next=8;break}return e.next=8,Object(a["outputJson"])(this.getUpdateInfoFile(),this._downloadedFileInfo);case 8:case"end":return e.stop()}},e,this)}));function t(t,n,r,i,o,a){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){var e=B(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,e.next=6,this.cleanCacheDirForPendingUpdate();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cleanCacheDirForPendingUpdate",value:function(){var e=B(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(a["emptyDir"])(this.cacheDirForPendingUpdate);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e["catch"](0);case 7:case"end":return e.stop()}},e,this,[[0,5]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"getValidCachedUpdateFile",value:function(){var e=B(regeneratorRuntime.mark(function e(t,n){var r,i,o,s,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=this.getUpdateInfoFile(),e.prev=1,e.next=4,Object(a["readJson"])(i);case 4:r=e.sent,e.next=16;break;case 7:if(e.prev=7,e.t0=e["catch"](1),o="No cached update info available","ENOENT"===e.t0.code){e.next=14;break}return e.next=13,this.cleanCacheDirForPendingUpdate();case 13:o+=" (error on read: ".concat(e.t0.message,")");case 14:return n.info(o),e.abrupt("return",null);case 16:if(null!=r.fileName){e.next=21;break}return n.warn("Cached update info is corrupted: no fileName, directory for cached update will be cleaned"),e.next=20,this.cleanCacheDirForPendingUpdate();case 20:return e.abrupt("return",null);case 21:if(t.info.sha512===r.sha512){e.next=26;break}return n.info("Cached update sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ".concat(r.sha512,", expected: ").concat(t.info.sha512,". Directory for cached update will be cleaned")),e.next=25,this.cleanCacheDirForPendingUpdate();case 25:return e.abrupt("return",null);case 26:return s=c["join"](this.cacheDirForPendingUpdate,r.fileName),e.next=29,Object(a["pathExists"])(s);case 29:if(e.sent){e.next=34;break}return n.info("Cached update file doesn't exist, directory for cached update will be cleaned"),e.next=33,this.cleanCacheDirForPendingUpdate();case 33:return e.abrupt("return",null);case 34:return e.next=36,M(s);case 36:if(u=e.sent,t.info.sha512===u){e.next=42;break}return n.warn("Sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ".concat(u,", expected: ").concat(t.info.sha512)),e.next=41,this.cleanCacheDirForPendingUpdate();case 41:return e.abrupt("return",null);case 42:return this._downloadedFileInfo=r,e.abrupt("return",s);case 44:case"end":return e.stop()}},e,this,[[1,7]])}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getUpdateInfoFile",value:function(){return c["join"](this.cacheDirForPendingUpdate,"update-info.json")}},{key:"downloadedFileInfo",get:function(){return this._downloadedFileInfo}},{key:"file",get:function(){return this._file}},{key:"packageFile",get:function(){return this._packageFile}},{key:"cacheDirForPendingUpdate",get:function(){return c["join"](this.cacheDir,"pending")}}]),e}();function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sha512",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"base64",i=arguments.length>3?arguments[3]:void 0;return new Promise(function(o,a){var s=Object(r["createHash"])(t);s.on("error",a).setEncoding(n),Object(A["createReadStream"])(e,T({},i,{highWaterMark:1048576})).on("error",a).on("end",function(){s.end(),o(s.read())}).pipe(s,{end:!1})})}function U(e,t,n){return L.apply(this,arguments)}function L(){return L=B(regeneratorRuntime.mark(function e(t,n,r){var i,o,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i=0,o=c["join"](n,t),s=0;case 3:if(!(s<3)){e.next=19;break}return e.prev=4,e.next=7,Object(a["unlink"])(o);case 7:return e.abrupt("return",o);case 10:if(e.prev=10,e.t0=e["catch"](4),"ENOENT"!==e.t0.code){e.next=14;break}return e.abrupt("return",o);case 14:r.warn("Error on remove temp update file: ".concat(e.t0)),o=c["join"](n,"".concat(i++,"-").concat(t));case 16:s++,e.next=3;break;case 19:return e.abrupt("return",o);case 20:case"end":return e.stop()}},e,this,[[4,10]])})),L.apply(this,arguments)}function z(){var e,t=n(26).homedir();return e="win32"===process.platform?process.env.LOCALAPPDATA||c["join"](t,"AppData","Local"):"darwin"===process.platform?c["join"](t,"Library","Application Support","Caches"):process.env.XDG_CACHE_HOME||c["join"](t,".cache"),e}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),e}var H=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(17).app;J(this,e),this.app=t}return q(e,[{key:"whenReady",value:function(){return this.app.whenReady()}},{key:"quit",value:function(){this.app.quit()}},{key:"onQuit",value:function(e){this.app.once("quit",function(t,n){return e(n)})}},{key:"version",get:function(){return this.app.getVersion()}},{key:"name",get:function(){return this.app.getName()}},{key:"isPackaged",get:function(){return!0===this.app.isPackaged}},{key:"appUpdateConfigPath",get:function(){return this.isPackaged?c["join"](process.resourcesPath,"app-update.yml"):c["join"](this.app.getAppPath(),"dev-app-update.yml")}},{key:"userDataPath",get:function(){return this.app.getPath("userData")}},{key:"baseCachePath",get:function(){return z()}}]),e}(),K=n(3);function W(e){return W="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){V(e,t,n[t])})}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function $(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){Y(o,r,i,a,s,"next",e)}function s(e){Y(o,r,i,a,s,"throw",e)}a(void 0)})}}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),e}function te(e,t){return!t||"object"!==W(t)&&"function"!==typeof t?ne(e):t}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}function ie(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}function oe(e,t){return oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oe(e,t)}var ae="electron-updater";function se(){return i["session"].fromPartition(ae,{cache:!1})}var ue=function(e){function t(e){var n;return Z(this,t),n=te(this,re(t).call(this)),n.proxyLoginCallback=e,n.cachedSession=null,n}return ie(t,e),ee(t,[{key:"download",value:function(){var e=$(regeneratorRuntime.mark(function e(t,n,r){var i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.cancellationToken.createPromise(function(e,o,a){var s={headers:r.headers||void 0,redirect:"manual"};Object(K["e"])(t,s),Object(K["d"])(s),i.doDownload(s,{destination:n,options:r,onCancel:a,callback:function(t){null==t?e(n):o(t)},responseHandler:null},0)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"createRequest",value:function(e,t){null==this.cachedSession&&(this.cachedSession=se());var n=i["net"].request(G({},e,{session:this.cachedSession}));return n.on("response",t),null!=this.proxyLoginCallback&&n.on("login",this.proxyLoginCallback),n}},{key:"addRedirectHandlers",value:function(e,t,n,r,i){var o=this;e.on("redirect",function(a,s,u){e.abort(),r>o.maxRedirects?n(o.createMaxRedirectError()):i(K["c"].prepareRedirectUrlOptions(u,t))})}}]),t}(K["c"]),ce=n(6),le=n(9);function he(e){return he="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function pe(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function fe(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){pe(o,r,i,a,s,"next",e)}function s(e){pe(o,r,i,a,s,"throw",e)}a(void 0)})}}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t,n){return t&&me(e.prototype,t),n&&me(e,n),e}function ve(e,t){return!t||"object"!==he(t)&&"function"!==typeof t?xe(e):t}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e){return ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ge(e)}function De(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}function we(e,t){return we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},we(e,t)}var be=function(e){function t(e,n,r){var i;return de(this,t),i=ve(this,ge(t).call(this,r)),i.configuration=e,i.updater=n,i.baseUrl=Object(ce["newBaseUrl"])(i.configuration.url),i}return De(t,e),ye(t,[{key:"getLatestVersion",value:function(){var e=fe(regeneratorRuntime.mark(function e(){var t,n,r,i,o,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=Object(ce["getChannelFilename"])(this.channel),n=Object(ce["newUrlFromBase"])(t,this.baseUrl,this.updater.isAddNoCacheQuery),r=regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=le["c"],e.next=4,a.httpRequest(n);case 4:return e.t1=e.sent,e.t2=t,e.t3=n,e.t4=(0,e.t0)(e.t1,e.t2,e.t3),e.abrupt("return",{v:e.t4});case 11:if(e.prev=11,e.t5=e["catch"](0),!(e.t5 instanceof K["b"]&&404===e.t5.statusCode)){e.next=17;break}throw Object(p["d"])('Cannot find channel "'.concat(t,'" update info: ').concat(e.t5.stack||e.t5.message),"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");case 17:if("ECONNREFUSED"!==e.t5.code){e.next=22;break}if(!(r<3)){e.next=22;break}return e.next=21,new Promise(function(e,t){try{setTimeout(e,1e3*r)}catch(n){t(n)}});case 21:return e.abrupt("return","continue");case 22:throw e.t5;case 23:case"end":return e.stop()}},e,this,[[0,11]])}),i=0;case 4:return e.delegateYield(r(i),"t0",5);case 5:o=e.t0,e.t1=o,e.next="continue"===e.t1?9:10;break;case 9:return e.abrupt("continue",12);case 10:if("object"!==he(o)){e.next=12;break}return e.abrupt("return",o.v);case 12:i++,e.next=4;break;case 15:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"resolveFiles",value:function(e){return Object(le["d"])(e,this.baseUrl)}},{key:"channel",get:function(){var e=this.updater.channel||this.configuration.channel;return null==e?this.getDefaultChannelName():this.getCustomChannelName(e)}}]),t}(le["a"]);function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Se(e,t,n[t])})}return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e){return!e.includes("s3.amazonaws.com")}function ke(e,t,n){if("string"===typeof e)throw Object(p["d"])("Please pass PublishConfiguration object","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");var r=e.provider;switch(r){case"generic":return new be(e,t,Ee({},n,{isUseMultipleRangeRequest:!1!==e.useMultipleRangeRequest&&Ce(e.url)}));case"github":case"s3":case"spaces":case"bintray":default:throw Object(p["d"])("Unsupported provider: ".concat(r),"ERR_UPDATER_UNSUPPORTED_PROVIDER")}}function Ae(e){return Ae="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function Fe(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Oe(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){Fe(o,r,i,a,s,"next",e)}function s(e){Fe(o,r,i,a,s,"throw",e)}a(void 0)})}}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pe(e,t,n[t])})}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){return!t||"object"!==Ae(t)&&"function"!==typeof t?je(e):t}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Be(e)}function Ne(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}function _e(e,t){return _e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_e(e,t)}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t,n){return t&&Me(e.prototype,t),n&&Me(e,n),e}n.d(t,"b",function(){return Le}),n.d(t,"a",function(){return ze});var Le=function(){function e(){Re(this,e)}return Ue(e,[{key:"info",value:function(){}},{key:"warn",value:function(){}},{key:"error",value:function(){}}]),e}(),ze=function(e){function t(e,n){var r;Re(this,t),r=Ie(this,Be(t).call(this)),r.autoDownload=!0,r.autoInstallOnAppQuit=!0,r.allowPrerelease=!1,r.fullChangelog=!1,r.allowDowngrade=!1,r._channel=null,r.downloadedUpdateHelper=null,r.requestHeaders=null,r._logger=console,r.signals=new ce["UpdaterSignal"](je(je(r))),r._appUpdateConfigPath=null,r.clientPromise=null,r.stagingUserIdPromise=new u["Lazy"](function(){return r.getOrCreateStagingUserId()}),r.configOnDisk=new u["Lazy"](function(){return r.loadUpdateConfig()}),r.checkForUpdatesPromise=null,r.updateInfoAndProvider=null,r._testOnlyOptions=null,r.on("error",function(e){r._logger.error("Error: ".concat(e.stack||e.message))}),null==n?(r.app=new H,r.httpExecutor=new ue(function(e,t){return r.emit("login",e,t)})):(r.app=n,r.httpExecutor=null);var i=r.app.version,o=Object(l["parse"])(i);if(null==o)throw Object(p["d"])('App version is not a valid semver version: "'.concat(i,'"'),"ERR_UPDATER_INVALID_VERSION");return r.currentVersion=o,r.allowPrerelease=Je(o),null!=e&&r.setFeedURL(e),r}return Ne(t,e),Ue(t,[{key:"getFeedURL",value:function(){return"Deprecated. Do not use it."}},{key:"setFeedURL",value:function(e){var t,n=this.createProviderRuntimeOptions();t="string"===typeof e?new be({provider:"generic",url:e},this,Te({},n,{isUseMultipleRangeRequest:Ce(e)})):ke(e,this,n),this.clientPromise=Promise.resolve(t)}},{key:"checkForUpdates",value:function(){var e=this,t=this.checkForUpdatesPromise;if(null!=t)return this._logger.info("Checking for update (already in progress)"),t;var n=function(){return e.checkForUpdatesPromise=null};return this._logger.info("Checking for update"),t=this.doCheckForUpdates().then(function(e){return n(),e}).catch(function(t){throw n(),e.emit("error",t,"Cannot check for updates: ".concat((t.stack||t).toString())),t}),this.checkForUpdatesPromise=t,t}},{key:"isUpdaterActive",value:function(){return!!this.app.isPackaged||(this._logger.info("Skip checkForUpdatesAndNotify because application is not packed"),!1)}},{key:"checkForUpdatesAndNotify",value:function(){var e=this;return this.isUpdaterActive()?this.checkForUpdates().then(function(t){var n=t.downloadPromise;if(null==n){var r=e._logger.debug;return null!=r&&r("checkForUpdatesAndNotify called, downloadPromise is null"),t}return n.then(function(){new i["Notification"]({title:"A new update is ready to install",body:"".concat(e.app.name," version ").concat(t.updateInfo.version," has been downloaded and will be automatically installed on exit")}).show()}),t}):Promise.resolve(null)}},{key:"isStagingMatch",value:function(){var e=Oe(regeneratorRuntime.mark(function e(t){var n,r,i,o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.stagingPercentage,r=n,null!=r){e.next=4;break}return e.abrupt("return",!0);case 4:if(r=parseInt(r,10),!Number.isNaN(r)){e.next=8;break}return this._logger.warn("Staging percentage is NaN: ".concat(n)),e.abrupt("return",!0);case 8:return r/=100,e.next=11,this.stagingUserIdPromise.value;case 11:return i=e.sent,o=b.parse(i).readUInt32BE(12),a=o/4294967295,this._logger.info("Staging percentage: ".concat(r,", percentage: ").concat(a,", user id: ").concat(i)),e.abrupt("return",a<r);case 16:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"computeFinalHeaders",value:function(e){return null!=this.requestHeaders&&Object.assign(e,this.requestHeaders),e}},{key:"isUpdateAvailable",value:function(){var e=Oe(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=Object(l["parse"])(t.version),null!=n){e.next=3;break}throw Object(p["d"])('This file could not be downloaded, or the latest version (from update server) does not have a valid semver version: "'.concat(n,'"'),"ERR_UPDATER_INVALID_VERSION");case 3:if(r=this.currentVersion,!Object(l["eq"])(n,r)){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,this.isStagingMatch(t);case 8:if(i=e.sent,i){e.next=11;break}return e.abrupt("return",!1);case 11:if(o=Object(l["gt"])(n,r),this.allowDowngrade){e.next=14;break}return e.abrupt("return",o);case 14:if(a=Object(l["prerelease"])(r),s=Object(l["prerelease"])(n),a!==s){e.next=18;break}return e.abrupt("return",o);case 18:return e.abrupt("return",!0);case 19:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUpdateInfoAndProvider",value:function(){var e=Oe(regeneratorRuntime.mark(function e(){var t,n,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.app.whenReady();case 2:return null==this.clientPromise&&(this.clientPromise=this.configOnDisk.value.then(function(e){return ke(e,r,r.createProviderRuntimeOptions())})),e.next=5,this.clientPromise;case 5:return t=e.sent,e.next=8,this.stagingUserIdPromise.value;case 8:return n=e.sent,t.setRequestHeaders(this.computeFinalHeaders({"x-user-staging-id":n})),e.next=12,t.getLatestVersion();case 12:return e.t0=e.sent,e.t1=t,e.abrupt("return",{info:e.t0,provider:e.t1});case 15:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"createProviderRuntimeOptions",value:function(){return{isUseMultipleRangeRequest:!0,platform:null==this._testOnlyOptions?process.platform:this._testOnlyOptions.platform,executor:this.httpExecutor}}},{key:"doCheckForUpdates",value:function(){var e=Oe(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.emit("checking-for-update"),e.next=3,this.getUpdateInfoAndProvider();case 3:return t=e.sent,n=t.info,e.next=7,this.isUpdateAvailable(n);case 7:if(e.sent){e.next=11;break}return this._logger.info("Update for version ".concat(this.currentVersion," is not available (latest version: ").concat(n.version,", downgrade is ").concat(this.allowDowngrade?"allowed":"disallowed",").")),this.emit("update-not-available",n),e.abrupt("return",{versionInfo:n,updateInfo:n});case 11:return this.updateInfoAndProvider=t,this.onUpdateAvailable(n),r=new h["b"],e.abrupt("return",{versionInfo:n,updateInfo:n,cancellationToken:r,downloadPromise:this.autoDownload?this.downloadUpdate(r):null});case 15:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"onUpdateAvailable",value:function(e){this._logger.info("Found version ".concat(e.version," (url: ").concat(Object(p["c"])(e.files).map(function(e){return e.url}).join(", "),")")),this.emit("update-available",e)}},{key:"downloadUpdate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new h["b"],n=this.updateInfoAndProvider;if(null==n){var r=new Error("Please check update first");return this.dispatchError(r),Promise.reject(r)}this._logger.info("Downloading update from ".concat(Object(p["c"])(n.info.files).map(function(e){return e.url}).join(", ")));var i=function(t){if(!(t instanceof h["a"]))try{e.dispatchError(t)}catch(n){e._logger.warn("Cannot dispatch error event: ".concat(n.stack||n))}return t};try{return this.doDownloadUpdate({updateInfoAndProvider:n,requestHeaders:this.computeRequestHeaders(n.provider),cancellationToken:t}).catch(function(e){throw i(e)})}catch(o){return Promise.reject(i(o))}}},{key:"dispatchError",value:function(e){this.emit("error",e,(e.stack||e).toString())}},{key:"dispatchUpdateDownloaded",value:function(e){this.emit(ce["UPDATE_DOWNLOADED"],e)}},{key:"loadUpdateConfig",value:function(){var e=Oe(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return null==this._appUpdateConfigPath&&(this._appUpdateConfigPath=this.app.appUpdateConfigPath),e.t0=s["safeLoad"],e.next=4,Object(a["readFile"])(this._appUpdateConfigPath,"utf-8");case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"computeRequestHeaders",value:function(e){var t=e.fileExtraDownloadHeaders;if(null!=t){var n=this.requestHeaders;return null==n?t:Te({},t,n)}return this.computeFinalHeaders({accept:"*/*"})}},{key:"getOrCreateStagingUserId",value:function(){var e=Oe(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=c["join"](this.app.userDataPath,".updaterId"),e.prev=1,e.next=4,Object(a["readFile"])(t,"utf-8");case 4:if(n=e.sent,!b.check(n)){e.next=9;break}return e.abrupt("return",n);case 9:this._logger.warn("Staging user id file exists, but content was invalid: ".concat(n));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),"ENOENT"!==e.t0.code&&this._logger.warn("Couldn't read staging user ID, creating a blank one: ".concat(e.t0));case 15:return i=b.v5(Object(r["randomBytes"])(4096),b.OID),this._logger.info("Generated new staging user ID: ".concat(i)),e.prev=17,e.next=20,Object(a["outputFile"])(t,i);case 20:e.next=25;break;case 22:e.prev=22,e.t1=e["catch"](17),this._logger.warn("Couldn't write out staging user ID: ".concat(e.t1));case 25:return e.abrupt("return",i);case 26:case"end":return e.stop()}},e,this,[[1,12],[17,22]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"getOrCreateDownloadHelper",value:function(){var e=Oe(regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.downloadedUpdateHelper,null!=t){e.next=11;break}return e.next=4,this.configOnDisk.value;case 4:n=e.sent.updaterCacheDirName,r=this._logger,null==n&&r.error("updaterCacheDirName is not specified in app-update.yml Was app build using at least electron-builder 20.34.0?"),i=c["join"](this.app.baseCachePath,n||this.app.name),null!=r.debug&&r.debug("updater cache dir: ".concat(i)),t=new R(i),this.downloadedUpdateHelper=t;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"executeDownload",value:function(){var e=Oe(regeneratorRuntime.mark(function e(t){var n,r,i,o,s,u,l,p,f,d,m,y,v,x,g,D,w=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return u=function(){var e=decodeURIComponent(t.fileInfo.url.pathname);return e.endsWith(".".concat(t.fileExtension))?c["posix"].basename(e):"update.".concat(t.fileExtension)},n=t.fileInfo,r={headers:t.downloadUpdateOptions.requestHeaders,cancellationToken:t.downloadUpdateOptions.cancellationToken,sha2:n.info.sha2,sha512:n.info.sha512},this.listenerCount(ce["DOWNLOAD_PROGRESS"])>0&&(r.onProgress=function(e){return w.emit(ce["DOWNLOAD_PROGRESS"],e)}),i=t.downloadUpdateOptions.updateInfoAndProvider.info,o=i.version,s=n.packageInfo,e.next=9,this.getOrCreateDownloadHelper();case 9:return l=e.sent,p=l.cacheDirForPendingUpdate,e.next=13,Object(a["ensureDir"])(p);case 13:return f=u(),d=c["join"](p,f),m=null==s?null:c["join"](p,"package-".concat(o).concat(c["extname"](s.path)||".7z")),y=function(){var e=Oe(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l.setDownloadedFile(d,m,i,n,f,r);case 2:return e.next=4,t.done(Te({},i,{downloadedFile:d}));case 4:return e.abrupt("return",null==m?[d]:[d,m]);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),v=this._logger,e.next=20,l.validateDownloadedPath(d,i,n,v);case 20:if(x=e.sent,null==x){e.next=26;break}return d=x,e.next=25,y(!1);case 25:return e.abrupt("return",e.sent);case 26:return g=function(){var e=Oe(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l.clear().catch(function(){});case 2:return e.next=4,Object(a["unlink"])(d).catch(function(){});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),e.next=29,U("temp-".concat(f),p,v);case 29:return D=e.sent,e.prev=30,e.next=33,t.task(D,r,m,g);case 33:return e.next=35,Object(a["rename"])(D,d);case 35:e.next=43;break;case 37:return e.prev=37,e.t0=e["catch"](30),e.next=41,g();case 41:throw e.t0 instanceof h["a"]&&(v.info("Cancelled"),this.emit("update-cancelled",i)),e.t0;case 43:return v.info("New version ".concat(o," has been downloaded to ").concat(d)),e.next=46,y(!0);case 46:return e.abrupt("return",e.sent);case 47:case"end":return e.stop()}},e,this,[[30,37]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"channel",get:function(){return this._channel},set:function(e){if(null!=this._channel){if("string"!==typeof e)throw Object(p["d"])("Channel must be a string, but got: ".concat(e),"ERR_UPDATER_INVALID_CHANNEL");if(0===e.length)throw Object(p["d"])("Channel must be not an empty string","ERR_UPDATER_INVALID_CHANNEL")}this._channel=e,this.allowDowngrade=!0}},{key:"netSession",get:function(){return se()}},{key:"logger",get:function(){return this._logger},set:function(e){this._logger=null==e?new Le:e}},{key:"updateConfigPath",set:function(e){var t=this;this.clientPromise=null,this._appUpdateConfigPath=e,this.configOnDisk=new u["Lazy"](function(){return t.loadUpdateConfig()})}},{key:"isAddNoCacheQuery",get:function(){var e=this.requestHeaders;return null==e||(Object.keys(e).forEach(function(e){var t=e.toLowerCase();if("authorization"===t||"private-token"===t)return!1}),!0)}}]),t}(o["EventEmitter"]);function Je(e){var t=Object(l["prerelease"])(e);return null!=t&&t.length>0}},function(e,t){e.exports=require("electron")},function(e,t){e.exports=require("stream")},function(e,t,n){"use strict";function r(e){return"undefined"===typeof e||null===e}function i(e){return"object"===typeof e&&null!==e}function o(e){return Array.isArray(e)?e:r(e)?[]:[e]}function a(e,t){var n,r,i,o;if(t)for(o=Object.keys(t),n=0,r=o.length;n<r;n+=1)i=o[n],e[i]=t[i];return e}function s(e,t){var n,r="";for(n=0;n<t;n+=1)r+=e;return r}function u(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e}e.exports.isNothing=r,e.exports.isObject=i,e.exports.toArray=o,e.exports.repeat=s,e.exports.isNegativeZero=u,e.exports.extend=a},function(e,t,n){"use strict";var r=n(19),i=n(22),o=n(4);function a(e,t,n){var r=[];return e.include.forEach(function(e){n=a(e,t,n)}),e[t].forEach(function(e){n.forEach(function(t,n){t.tag===e.tag&&t.kind===e.kind&&r.push(n)}),n.push(e)}),n.filter(function(e,t){return-1===r.indexOf(t)})}function s(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{}};function r(e){n[e.kind][e.tag]=n["fallback"][e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(r);return n}function u(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new i("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=a(this,"implicit",[]),this.compiledExplicit=a(this,"explicit",[]),this.compiledTypeMap=s(this.compiledImplicit,this.compiledExplicit)}u.DEFAULT=null,u.create=function(){var e,t;switch(arguments.length){case 1:e=u.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new i("Wrong number of arguments for Schema.create function")}if(e=r.toArray(e),t=r.toArray(t),!e.every(function(e){return e instanceof u}))throw new i("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every(function(e){return e instanceof o}))throw new i("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new u({include:e,explicit:t})},e.exports=u},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";function r(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.toString=function(e){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!e&&this.mark&&(t+=" "+this.mark.toString()),t},e.exports=r},function(e,t,n){"use strict";var r=n(20);e.exports=new r({include:[n(43)],implicit:[n(81),n(82)],explicit:[n(83),n(85),n(86),n(87)]})},function(e,t,n){"use strict";const r=n(7).fromCallback,i=n(57);e.exports={remove:r(i),removeSync:i.sync}},function(e,t,n){"use strict";var r=n(20);e.exports=r.DEFAULT=new r({include:[n(23)],explicit:[n(88),n(89),n(90)]})},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("events")},function(e,t,n){"use strict";var r=n(71);e.exports=r},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(16);function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)})}}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function p(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=m(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},d(e,t,n||e)}function m(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=y(e),null===e)break;return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}var g=function(e){function t(e,n){var r;return c(this,t),r=p(this,y(t).call(this,e,n)),r.quitAndInstallCalled=!1,r.quitHandlerAdded=!1,r}return v(t,e),h(t,[{key:"quitAndInstall",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._logger.info("Install on explicit quitAndInstall");var r=this.install(t,!t||n);r?setImmediate(function(){e.app.quit()}):this.quitAndInstallCalled=!1}},{key:"executeDownload",value:function(e){var n=this;return d(y(t.prototype),"executeDownload",this).call(this,s({},e,{done:function(){var e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n.dispatchUpdateDownloaded(t),n.addQuitHandler();case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}))}},{key:"install",value:function(e,t){if(this.quitAndInstallCalled)return this._logger.warn("install call ignored: quitAndInstallCalled is set to true"),!1;var n=this.downloadedUpdateHelper,r=null==n?null:n.file,i=null==n?null:n.downloadedFileInfo;if(null==r||null==i)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;this.quitAndInstallCalled=!0;try{return this._logger.info("Install: isSilent: ".concat(e,", isForceRunAfter: ").concat(t)),this.doInstall({installerPath:r,isSilent:e,isForceRunAfter:t,isAdminRightsRequired:i.isAdminRightsRequired})}catch(o){return this.dispatchError(o),!1}}},{key:"addQuitHandler",value:function(){var e=this;!this.quitHandlerAdded&&this.autoInstallOnAppQuit&&(this.quitHandlerAdded=!0,this.app.onQuit(function(t){e.quitAndInstallCalled?e._logger.info("Update installer has already been triggered. Quitting application."):0===t?(e._logger.info("Auto install update on quit"),e.install(!0,!1)):e._logger.info("Update will be not installed on quit because application is quitting with exit code ".concat(t))}))}}]),t}(r["a"])},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(2),i=n(31);function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)})}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function h(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}var y=n(45),v=function(e){function t(){return u(this,t),h(this,f(t).apply(this,arguments))}return d(t,e),l(t,[{key:"download",value:function(){var e=s(regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.blockAwareFileInfo,n=t.size,r=n-(t.blockMapSize+4),e.next=5,this.readRemoteBytes(r,n-1);case 5:return this.fileMetadataBuffer=e.sent,i=x(this.fileMetadataBuffer.slice(0,this.fileMetadataBuffer.length-4)),e.t0=this,e.next=10,g(this.options.oldFile);case 10:return e.t1=e.sent,e.t2=i,e.next=14,e.t0.doDownload.call(e.t0,e.t1,e.t2);case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),t}(i["a"]);function x(e){return JSON.parse(y.inflateRawSync(e).toString())}function g(e){return D.apply(this,arguments)}function D(){return D=s(regeneratorRuntime.mark(function e(t){var n,i,o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["open"])(t,"r");case 2:return n=e.sent,e.prev=3,e.next=6,Object(r["fstat"])(n);case 6:return i=e.sent.size,o=Buffer.allocUnsafe(4),e.next=10,Object(r["read"])(n,o,0,o.length,i-o.length);case 10:return a=Buffer.allocUnsafe(o.readUInt32BE(0)),e.next=13,Object(r["read"])(n,a,0,a.length,i-o.length-a.length);case 13:return e.next=15,Object(r["close"])(n);case 15:return e.abrupt("return",x(a));case 18:return e.prev=18,e.t0=e["catch"](3),e.next=22,Object(r["close"])(n);case 22:throw e.t0;case 23:case"end":return e.stop()}},e,this,[[3,18]])})),D.apply(this,arguments)}},function(e,t,n){"use strict";var r=n(2),i=n(10),o=n(3),a=n(18),s=n(1),u={};function c(e,t,n){var r=d(e.files),i=d(t.files),o=f(e.files),a=null,s=t.files[0],c=[],l=s.name,m=o.get(l);if(null==m)throw new Error("no file ".concat(l," in old blockmap"));for(var y=i.get(l),v=0,x=p(r.get(l),m.offset,n),g=x.checksumToOffset,D=x.checksumToOldSize,w=s.offset,b=0;b<y.checksums.length;w+=y.sizes[b],b++){var E=y.sizes[b],S=y.checksums[b],C=g.get(S);null!=C&&D.get(S)!==E&&(n.warn('Checksum ("'.concat(S,'") matches, but size differs (old: ').concat(D.get(S),", new: ").concat(E,")")),C=void 0),void 0===C?(v++,null!=a&&a.kind===u.DOWNLOAD&&a.end===w?a.end+=E:(a={kind:u.DOWNLOAD,start:w,end:w+E},h(a,c,S,b))):null!=a&&a.kind===u.COPY&&a.end===C?a.end+=E:(a={kind:u.COPY,start:C,end:C+E},h(a,c,S,b))}return v>0&&n.info("File".concat("file"===s.name?"":" ".concat(s.name)," has ").concat(v," changed blocks")),c}u[u.COPY=0]="COPY",u[u.DOWNLOAD=1]="DOWNLOAD";var l="true"===process.env.DIFFERENTIAL_DOWNLOAD_PLAN_BUILDER_VALIDATE_RANGES;function h(e,t,n,r){if(l&&0!==t.length){var i=t[t.length-1];if(i.kind===e.kind&&e.start<i.end&&e.start>i.start){var o=[i.start,i.end,e.start,e.end].reduce(function(e,t){return e<t?e:t});throw new Error("operation (block index: ".concat(r,", checksum: ").concat(n,", kind: ").concat(u[e.kind],") overlaps previous operation (checksum: ").concat(n,"):\n")+"abs: ".concat(i.start," until ").concat(i.end," and ").concat(e.start," until ").concat(e.end,"\n")+"rel: ".concat(i.start-o," until ").concat(i.end-o," and ").concat(e.start-o," until ").concat(e.end-o))}}t.push(e)}function p(e,t,n){for(var r=new Map,i=new Map,o=t,a=n.debug,s=0;s<e.checksums.length;s++){var u=e.checksums[s],c=e.sizes[s],l=i.get(u);if(void 0===l)r.set(u,o),i.set(u,c);else if(null!=a){var h=l===c?"(same size)":"(size: ".concat(l,", this size: ").concat(c,")");a("".concat(u," duplicated in blockmap ").concat(h,", it doesn't lead to broken differential downloader, just corresponding block will be skipped)"))}o+=c}return{checksumToOffset:r,checksumToOldSize:i}}function f(e){var t=new Map;return e.forEach(function(e){t.set(e.name,e)}),t}function d(e){var t=new Map;return e.forEach(function(e){t.set(e.name,e)}),t}function m(e){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){y(o,r,i,a,s,"next",e)}function s(e){y(o,r,i,a,s,"throw",e)}a(void 0)})}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function w(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?C(e):t}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=Buffer.from("\r\n\r\n"),F={};function O(e,t,n,i,o){var a=Object(r["createReadStream"])("",{fd:n,autoClose:!1,start:e.start,end:e.end-1});a.on("error",i),a.once("end",o),a.pipe(t,{end:!1})}F[F.INIT=0]="INIT",F[F.HEADER=1]="HEADER",F[F.BODY=2]="BODY";var T=function(e){function t(e,n,r,i,o,a){var s;return x(this,t),s=w(this,b(t).call(this)),k(C(C(s)),"actualPartLength",0),s.out=e,s.options=n,s.partIndexToTaskIndex=r,s.partIndexToLength=o,s.finishHandler=a,s.partIndex=-1,s.headerListBuffer=null,s.readState=F.INIT,s.ignoreByteCount=0,s.remainingPartDataCount=0,s.actualPartLength=0,s.boundaryLength=i.length+4,s.ignoreByteCount=s.boundaryLength-2,s}return E(t,e),D(t,[{key:"_write",value:function(e,t,n){this.isFinished?console.error("Trailing ignored data: ".concat(e.length," bytes")):this.handleData(e).then(n).catch(n)}},{key:"handleData",value:function(){var e=v(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,u,c,l,h;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=0,0===this.ignoreByteCount||0===this.remainingPartDataCount){e.next=3;break}throw Object(s["d"])("Internal error","ERR_DATA_SPLITTER_BYTE_COUNT_MISMATCH");case 3:if(!(this.ignoreByteCount>0)){e.next=9;break}r=Math.min(this.ignoreByteCount,t.length),this.ignoreByteCount-=r,n=r,e.next=15;break;case 9:if(!(this.remainingPartDataCount>0)){e.next=15;break}return i=Math.min(this.remainingPartDataCount,t.length),this.remainingPartDataCount-=i,e.next=14,this.processPartData(t,0,i);case 14:n=i;case 15:if(n!==t.length){e.next=17;break}return e.abrupt("return");case 17:if(this.readState!==F.HEADER){e.next=24;break}if(o=this.searchHeaderListEnd(t,n),-1!==o){e.next=21;break}return e.abrupt("return");case 21:n=o,this.readState=F.BODY,this.headerListBuffer=null;case 24:if(this.readState!==F.BODY){e.next=29;break}this.readState=F.INIT,e.next=53;break;case 29:if(this.partIndex++,a=this.partIndexToTaskIndex.get(this.partIndex),null!=a){e.next=37;break}if(!this.isFinished){e.next=36;break}a=this.options.end,e.next=37;break;case 36:throw Object(s["d"])("taskIndex is null","ERR_DATA_SPLITTER_TASK_INDEX_IS_NULL");case 37:if(u=0===this.partIndex?this.options.start:this.partIndexToTaskIndex.get(this.partIndex-1)+1,!(u<a)){e.next=43;break}return e.next=41,this.copyExistingData(u,a);case 41:e.next=45;break;case 43:if(!(u>a)){e.next=45;break}throw Object(s["d"])("prevTaskIndex must be < taskIndex","ERR_DATA_SPLITTER_TASK_INDEX_ASSERT_FAILED");case 45:if(!this.isFinished){e.next=49;break}return this.onPartEnd(),this.finishHandler(),e.abrupt("return");case 49:if(n=this.searchHeaderListEnd(t,n),-1!==n){e.next=53;break}return this.readState=F.HEADER,e.abrupt("return");case 53:return c=this.partIndexToLength[this.partIndex],l=n+c,h=Math.min(l,t.length),e.next=58,this.processPartStarted(t,n,h);case 58:if(this.remainingPartDataCount=c-(h-n),!(this.remainingPartDataCount>0)){e.next=61;break}return e.abrupt("return");case 61:if(n=l+this.boundaryLength,!(n>=t.length)){e.next=65;break}return this.ignoreByteCount=this.boundaryLength-(t.length-l),e.abrupt("return");case 65:e.next=24;break;case 67:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"copyExistingData",value:function(e,t){var n=this;return new Promise(function(r,i){var o=function o(){if(e!==t){var a=n.options.tasks[e];a.kind===u.COPY?O(a,n.out,n.options.oldFileFd,i,function(){e++,o()}):i(new Error("Task kind must be COPY"))}else r()};o()})}},{key:"searchHeaderListEnd",value:function(e,t){var n=e.indexOf(A,t);if(-1!==n)return n+A.length;var r=0===t?e:e.slice(t);return null==this.headerListBuffer?this.headerListBuffer=r:this.headerListBuffer=Buffer.concat([this.headerListBuffer,r]),-1}},{key:"onPartEnd",value:function(){var e=this.partIndexToLength[this.partIndex-1];if(this.actualPartLength!==e)throw Object(s["d"])("Expected length: ".concat(e," differs from actual: ").concat(this.actualPartLength),"ERR_DATA_SPLITTER_LENGTH_MISMATCH");this.actualPartLength=0}},{key:"processPartStarted",value:function(e,t,n){return 0!==this.partIndex&&this.onPartEnd(),this.processPartData(e,t,n)}},{key:"processPartData",value:function(e,t,n){this.actualPartLength+=n-t;var r=this.out;return r.write(0===t&&e.length===n?e:e.slice(t,n))?Promise.resolve():new Promise(function(e,t){r.on("error",t),r.once("drain",function(){r.removeListener("error",t),e()})})}},{key:"isFinished",get:function(){return this.partIndex===this.partIndexToLength.length}}]),t}(a["Writable"]);function P(e,t,n,r,i){var o=function o(a){if(a>=t.length)return null!=e.fileMetadataBuffer&&n.write(e.fileMetadataBuffer),void n.end();var s=a+1e3;I(e,{tasks:t,start:a,end:Math.min(t.length,s),oldFileFd:r},n,function(){return o(s)},i)};return o}function I(e,t,n,r,i){for(var a="bytes=",s=0,c=new Map,l=[],h=t.start;h<t.end;h++){var p=t.tasks[h];p.kind===u.DOWNLOAD&&(a+="".concat(p.start,"-").concat(p.end-1,", "),c.set(s,h),s++,l.push(p.end-p.start))}if(s<=1){var f=function o(a){if(a>=t.end)r();else{var s=t.tasks[a++];if(s.kind===u.COPY)O(s,n,t.oldFileFd,i,function(){return o(a)});else{var c=e.createRequestOptions();c.headers.Range="bytes=".concat(s.start,"-").concat(s.end-1);var l=e.httpExecutor.createRequest(c,function(e){B(e,i)&&(e.pipe(n,{end:!1}),e.once("end",function(){return o(a)}))});e.httpExecutor.addErrorAndTimeoutHandlers(l,i),l.end()}}};f(t.start)}else{var d=e.createRequestOptions();d.headers.Range=a.substring(0,a.length-2);var m=e.httpExecutor.createRequest(d,function(e){if(B(e,i)){var a=Object(o["g"])(e,"content-type"),s=/^multipart\/.+?(?:; boundary=(?:(?:"(.+)")|(?:([^\s]+))))$/i.exec(a);if(null!=s){var u=new T(n,t,c,s[1]||s[2],l,r);u.on("error",i),e.pipe(u)}else i(new Error('Content-Type "multipart/byteranges" is expected, but got "'.concat(a,'"')))}});e.httpExecutor.addErrorAndTimeoutHandlers(m,i),m.end()}}function B(e,t){if(e.statusCode>=400)return t(Object(o["f"])(e)),!1;if(206!==e.statusCode){var n=Object(o["g"])(e,"accept-ranges");if(null==n||"none"===n)return t(new Error("Server doesn't support Accept-Ranges (response code ".concat(e.statusCode,")"))),!1}return!0}function N(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function _(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){N(o,r,i,a,s,"next",e)}function s(e){N(o,r,i,a,s,"throw",e)}a(void 0)})}}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){R(e,t,n[t])})}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),e}n.d(t,"a",function(){return z});var z=function(){function e(t,n,r){M(this,e),this.blockAwareFileInfo=t,this.httpExecutor=n,this.options=r,this.fileMetadataBuffer=null,this.logger=r.logger}return L(e,[{key:"createRequestOptions",value:function(){var e={headers:j({},this.options.requestHeaders,{accept:"*/*"})};return Object(o["e"])(this.options.newUrl,e),Object(o["d"])(e),e}},{key:"doDownload",value:function(e,t){if(e.version!==t.version)throw new Error("version is different (".concat(e.version," - ").concat(t.version,"), full download is required"));var n=this.logger,r=c(e,t,n);null!=n.debug&&n.debug(JSON.stringify(r,null,2));var i=0,o=0;r.forEach(function(e){var t=e.end-e.start;e.kind===u.DOWNLOAD?i+=t:o+=t});var a=this.blockAwareFileInfo.size;if(i+o+(null==this.fileMetadataBuffer?0:this.fileMetadataBuffer.length)!==a)throw new Error("Internal error, size mismatch: downloadSize: ".concat(i,", copySize: ").concat(o,", newSize: ").concat(a));return n.info("Full: ".concat(J(a),", To download: ").concat(J(i)," (").concat(Math.round(i/(a/100)),"%)")),this.downloadFile(r)}},{key:"downloadFile",value:function(e){var t=this,n=[],i=function(){return Promise.all(n.map(function(e){return Object(r["close"])(e.descriptor).catch(function(n){t.logger.error('cannot close file "'.concat(e.path,'": ').concat(n))})}))};return this.doDownloadFile(e,n).then(i).catch(function(e){i().catch(function(n){try{t.logger.error("cannot close files: ".concat(n))}catch(r){try{console.error(r)}catch(i){}}throw e}).then(function(){throw e})})}},{key:"doDownloadFile",value:function(){var e=_(regeneratorRuntime.mark(function e(t,n){var a,s,c,l=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["open"])(this.options.oldFile,"r");case 2:return a=e.sent,n.push({descriptor:a,path:this.options.oldFile}),e.next=6,Object(r["open"])(this.options.newFile,"w");case 6:return s=e.sent,n.push({descriptor:s,path:this.options.newFile}),c=Object(r["createWriteStream"])(this.options.newFile,{fd:s}),e.next=11,new Promise(function(e,r){var s=[],h=new o["a"](l.blockAwareFileInfo.sha512);h.isValidateOnEnd=!1,s.push(h),c.on("finish",function(){c.close(function(){n.splice(1,1);try{h.validate()}catch(t){return void r(t)}e()})}),s.push(c);var p=null;s.forEach(function(e){e.on("error",r),p=null==p?e:p.pipe(e)});var f,d=s[0];if(l.options.isUseMultipleRangeRequest)return f=P(l,t,d,a,r),void f(0);var m=0,y=null;l.logger.info("Differential download: ".concat(l.options.newUrl));var v=l.createRequestOptions();v.redirect="manual",f=function(e){if(e>=t.length)return null!=l.fileMetadataBuffer&&d.write(l.fileMetadataBuffer),void d.end();var n=t[e++];if(n.kind!==u.COPY){var s="bytes=".concat(n.start,"-").concat(n.end-1);v.headers.range=s;var c=l.logger.debug;null!=c&&c("download range: ".concat(s));var h=l.httpExecutor.createRequest(v,function(t){t.statusCode>=400&&r(Object(o["f"])(t)),t.pipe(d,{end:!1}),t.once("end",function(){100===++m?(m=0,setTimeout(function(){return f(e)},1e3)):f(e)})});h.on("redirect",function(e,t,n){l.logger.info("Redirect to ".concat(X(n))),y=n,Object(o["e"])(new i["URL"](y),v),h.followRedirect()}),l.httpExecutor.addErrorAndTimeoutHandlers(h,r),h.end()}else O(n,d,a,r,function(){return f(e)})},f(0)});case 11:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"readRemoteBytes",value:function(){var e=_(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=Buffer.allocUnsafe(n+1-t),i=this.createRequestOptions(),i.headers.range="bytes=".concat(t,"-").concat(n),o=0,e.next=6,this.request(i,function(e){e.copy(r,o),o+=e.length});case 6:if(o===r.length){e.next=8;break}throw new Error("Received data length ".concat(o," is not equal to expected ").concat(r.length));case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"request",value:function(e,t){var n=this;return new Promise(function(r,i){var o=n.httpExecutor.createRequest(e,function(e){B(e,i)&&(e.on("data",t),e.on("end",function(){return r()}))});n.httpExecutor.addErrorAndTimeoutHandlers(o,i),o.end()})}}]),e}();function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" KB";return new Intl.NumberFormat("en").format((e/1024).toFixed(2))+t}function X(e){var t=e.indexOf("?");return t<0?e:e.substring(0,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this.creator=e}get hasValue(){return null==this.creator}get value(){return null==this.creator?this._value:(this.value=this.creator(),this._value)}set value(e){this._value=e,this.creator=null}}t.Lazy=r},function(e,t,n){"use strict";const r=n(7).fromCallback,i=n(65);e.exports={readJson:r(i.readFile),readJsonSync:i.readFileSync,writeJson:r(i.writeFile),writeJsonSync:i.writeFileSync}},function(e,t,n){"use strict";var r=n(20);e.exports=new r({explicit:[n(74),n(75),n(76)]})},function(e,t,n){(function(e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",l="[object Boolean]",h="[object Date]",p="[object Error]",f="[object Function]",d="[object GeneratorFunction]",m="[object Map]",y="[object Number]",v="[object Null]",x="[object Object]",g="[object Promise]",D="[object Proxy]",w="[object RegExp]",b="[object Set]",E="[object String]",S="[object Symbol]",C="[object Undefined]",k="[object WeakMap]",A="[object ArrayBuffer]",F="[object DataView]",O="[object Float32Array]",T="[object Float64Array]",P="[object Int8Array]",I="[object Int16Array]",B="[object Int32Array]",N="[object Uint8Array]",_="[object Uint8ClampedArray]",j="[object Uint16Array]",R="[object Uint32Array]",M=/[\\^$.*+?()[\]{}|]/g,U=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,z={};z[O]=z[T]=z[P]=z[I]=z[B]=z[N]=z[_]=z[j]=z[R]=!0,z[s]=z[u]=z[A]=z[l]=z[F]=z[h]=z[p]=z[f]=z[m]=z[y]=z[x]=z[w]=z[b]=z[E]=z[k]=!1;var J="object"==typeof global&&global&&global.Object===Object&&global,X="object"==typeof self&&self&&self.Object===Object&&self,q=J||X||Function("return this")(),H=t&&!t.nodeType&&t,K=H&&"object"==typeof e&&e&&!e.nodeType&&e,W=K&&K.exports===H,G=W&&J.process,V=function(){try{return G&&G.binding&&G.binding("util")}catch(e){}}(),Y=V&&V.isTypedArray;function $(e,t){var n=-1,r=null==e?0:e.length,i=0,o=[];while(++n<r){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Z(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}function Q(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}function ee(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}function te(e){return function(t){return e(t)}}function ne(e,t){return e.has(t)}function re(e,t){return null==e?void 0:e[t]}function ie(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function oe(e,t){return function(n){return e(t(n))}}function ae(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var se=Array.prototype,ue=Function.prototype,ce=Object.prototype,le=q["__core-js_shared__"],he=ue.toString,pe=ce.hasOwnProperty,fe=function(){var e=/[^.]+$/.exec(le&&le.keys&&le.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),de=ce.toString,me=RegExp("^"+he.call(pe).replace(M,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=W?q.Buffer:void 0,ve=q.Symbol,xe=q.Uint8Array,ge=ce.propertyIsEnumerable,De=se.splice,we=ve?ve.toStringTag:void 0,be=Object.getOwnPropertySymbols,Ee=ye?ye.isBuffer:void 0,Se=oe(Object.keys,Object),Ce=kt(q,"DataView"),ke=kt(q,"Map"),Ae=kt(q,"Promise"),Fe=kt(q,"Set"),Oe=kt(q,"WeakMap"),Te=kt(Object,"create"),Pe=_t(Ce),Ie=_t(ke),Be=_t(Ae),Ne=_t(Fe),_e=_t(Oe),je=ve?ve.prototype:void 0,Re=je?je.valueOf:void 0;function Me(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Ue(){this.__data__=Te?Te(null):{},this.size=0}function Le(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function ze(e){var t=this.__data__;if(Te){var n=t[e];return n===r?void 0:n}return pe.call(t,e)?t[e]:void 0}function Je(e){var t=this.__data__;return Te?void 0!==t[e]:pe.call(t,e)}function Xe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Te&&void 0===t?r:t,this}function qe(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function He(){this.__data__=[],this.size=0}function Ke(e){var t=this.__data__,n=pt(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():De.call(t,n,1),--this.size,!0}function We(e){var t=this.__data__,n=pt(t,e);return n<0?void 0:t[n][1]}function Ge(e){return pt(this.__data__,e)>-1}function Ve(e,t){var n=this.__data__,r=pt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Ye(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function $e(){this.size=0,this.__data__={hash:new Me,map:new(ke||qe),string:new Me}}function Ze(e){var t=Ct(this,e)["delete"](e);return this.size-=t?1:0,t}function Qe(e){return Ct(this,e).get(e)}function et(e){return Ct(this,e).has(e)}function tt(e,t){var n=Ct(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function nt(e){var t=-1,n=null==e?0:e.length;this.__data__=new Ye;while(++t<n)this.add(e[t])}function rt(e){return this.__data__.set(e,r),this}function it(e){return this.__data__.has(e)}function ot(e){var t=this.__data__=new qe(e);this.size=t.size}function at(){this.__data__=new qe,this.size=0}function st(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}function ut(e){return this.__data__.get(e)}function ct(e){return this.__data__.has(e)}function lt(e,t){var r=this.__data__;if(r instanceof qe){var i=r.__data__;if(!ke||i.length<n-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ye(i)}return r.set(e,t),this.size=r.size,this}function ht(e,t){var n=Mt(e),r=!n&&Rt(e),i=!n&&!r&&Lt(e),o=!n&&!r&&!i&&Kt(e),a=n||r||i||o,s=a?ee(e.length,String):[],u=s.length;for(var c in e)!t&&!pe.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Tt(c,u))||s.push(c);return s}function pt(e,t){var n=e.length;while(n--)if(jt(e[n][0],t))return n;return-1}function ft(e,t,n){var r=t(e);return Mt(e)?r:Z(r,n(e))}function dt(e){return null==e?void 0===e?C:v:we&&we in Object(e)?At(e):Nt(e)}function mt(e){return Ht(e)&&dt(e)==s}function yt(e,t,n,r,i){return e===t||(null==e||null==t||!Ht(e)&&!Ht(t)?e!==e&&t!==t:vt(e,t,n,r,yt,i))}function vt(e,t,n,r,o,a){var c=Mt(e),l=Mt(t),h=c?u:Ot(e),p=l?u:Ot(t);h=h==s?x:h,p=p==s?x:p;var f=h==x,d=p==x,m=h==p;if(m&&Lt(e)){if(!Lt(t))return!1;c=!0,f=!1}if(m&&!f)return a||(a=new ot),c||Kt(e)?wt(e,t,n,r,o,a):bt(e,t,h,n,r,o,a);if(!(n&i)){var y=f&&pe.call(e,"__wrapped__"),v=d&&pe.call(t,"__wrapped__");if(y||v){var g=y?e.value():e,D=v?t.value():t;return a||(a=new ot),o(g,D,n,r,a)}}return!!m&&(a||(a=new ot),Et(e,t,n,r,o,a))}function xt(e){if(!qt(e)||It(e))return!1;var t=Jt(e)?me:U;return t.test(_t(e))}function gt(e){return Ht(e)&&Xt(e.length)&&!!z[dt(e)]}function Dt(e){if(!Bt(e))return Se(e);var t=[];for(var n in Object(e))pe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function wt(e,t,n,r,a,s){var u=n&i,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var h=s.get(e);if(h&&s.get(t))return h==t;var p=-1,f=!0,d=n&o?new nt:void 0;s.set(e,t),s.set(t,e);while(++p<c){var m=e[p],y=t[p];if(r)var v=u?r(y,m,p,t,e,s):r(m,y,p,e,t,s);if(void 0!==v){if(v)continue;f=!1;break}if(d){if(!Q(t,function(e,t){if(!ne(d,t)&&(m===e||a(m,e,n,r,s)))return d.push(t)})){f=!1;break}}else if(m!==y&&!a(m,y,n,r,s)){f=!1;break}}return s["delete"](e),s["delete"](t),f}function bt(e,t,n,r,a,s,u){switch(n){case F:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case A:return!(e.byteLength!=t.byteLength||!s(new xe(e),new xe(t)));case l:case h:case y:return jt(+e,+t);case p:return e.name==t.name&&e.message==t.message;case w:case E:return e==t+"";case m:var c=ie;case b:var f=r&i;if(c||(c=ae),e.size!=t.size&&!f)return!1;var d=u.get(e);if(d)return d==t;r|=o,u.set(e,t);var v=wt(c(e),c(t),r,a,s,u);return u["delete"](e),v;case S:if(Re)return Re.call(e)==Re.call(t)}return!1}function Et(e,t,n,r,o,a){var s=n&i,u=St(e),c=u.length,l=St(t),h=l.length;if(c!=h&&!s)return!1;var p=c;while(p--){var f=u[p];if(!(s?f in t:pe.call(t,f)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var m=!0;a.set(e,t),a.set(t,e);var y=s;while(++p<c){f=u[p];var v=e[f],x=t[f];if(r)var g=s?r(x,v,f,t,e,a):r(v,x,f,e,t,a);if(!(void 0===g?v===x||o(v,x,n,r,a):g)){m=!1;break}y||(y="constructor"==f)}if(m&&!y){var D=e.constructor,w=t.constructor;D!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof D&&D instanceof D&&"function"==typeof w&&w instanceof w)&&(m=!1)}return a["delete"](e),a["delete"](t),m}function St(e){return ft(e,Wt,Ft)}function Ct(e,t){var n=e.__data__;return Pt(t)?n["string"==typeof t?"string":"hash"]:n.map}function kt(e,t){var n=re(e,t);return xt(n)?n:void 0}function At(e){var t=pe.call(e,we),n=e[we];try{e[we]=void 0;var r=!0}catch(o){}var i=de.call(e);return r&&(t?e[we]=n:delete e[we]),i}Me.prototype.clear=Ue,Me.prototype["delete"]=Le,Me.prototype.get=ze,Me.prototype.has=Je,Me.prototype.set=Xe,qe.prototype.clear=He,qe.prototype["delete"]=Ke,qe.prototype.get=We,qe.prototype.has=Ge,qe.prototype.set=Ve,Ye.prototype.clear=$e,Ye.prototype["delete"]=Ze,Ye.prototype.get=Qe,Ye.prototype.has=et,Ye.prototype.set=tt,nt.prototype.add=nt.prototype.push=rt,nt.prototype.has=it,ot.prototype.clear=at,ot.prototype["delete"]=st,ot.prototype.get=ut,ot.prototype.has=ct,ot.prototype.set=lt;var Ft=be?function(e){return null==e?[]:(e=Object(e),$(be(e),function(t){return ge.call(e,t)}))}:Gt,Ot=dt;function Tt(e,t){return t=null==t?a:t,!!t&&("number"==typeof e||L.test(e))&&e>-1&&e%1==0&&e<t}function Pt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function It(e){return!!fe&&fe in e}function Bt(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ce;return e===n}function Nt(e){return de.call(e)}function _t(e){if(null!=e){try{return he.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function jt(e,t){return e===t||e!==e&&t!==t}(Ce&&Ot(new Ce(new ArrayBuffer(1)))!=F||ke&&Ot(new ke)!=m||Ae&&Ot(Ae.resolve())!=g||Fe&&Ot(new Fe)!=b||Oe&&Ot(new Oe)!=k)&&(Ot=function(e){var t=dt(e),n=t==x?e.constructor:void 0,r=n?_t(n):"";if(r)switch(r){case Pe:return F;case Ie:return m;case Be:return g;case Ne:return b;case _e:return k}return t});var Rt=mt(function(){return arguments}())?mt:function(e){return Ht(e)&&pe.call(e,"callee")&&!ge.call(e,"callee")},Mt=Array.isArray;function Ut(e){return null!=e&&Xt(e.length)&&!Jt(e)}var Lt=Ee||Vt;function zt(e,t){return yt(e,t)}function Jt(e){if(!qt(e))return!1;var t=dt(e);return t==f||t==d||t==c||t==D}function Xt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function qt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ht(e){return null!=e&&"object"==typeof e}var Kt=Y?te(Y):gt;function Wt(e){return Ut(e)?ht(e):Dt(e)}function Gt(){return[]}function Vt(){return!1}e.exports=zt}).call(this,n(93)(e))},function(e,t,n){"use strict";const r=n(7).fromCallback,i=n(5),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","lchmod","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>{return"function"===typeof i[e]});Object.keys(i).forEach(e=>{"promises"!==e&&(t[e]=i[e])}),o.forEach(e=>{t[e]=r(i[e])}),t.exists=function(e,t){return"function"===typeof t?i.exists(e,t):new Promise(t=>{return i.exists(e,t)})},t.read=function(e,t,n,r,o,a){return"function"===typeof a?i.read(e,t,n,r,o,a):new Promise((a,s)=>{i.read(e,t,n,r,o,(e,t,n)=>{if(e)return s(e);a({bytesRead:t,buffer:n})})})},t.write=function(e,t,...n){return"function"===typeof n[n.length-1]?i.write(e,t,...n):new Promise((r,o)=>{i.write(e,t,...n,(e,t,n)=>{if(e)return o(e);r({bytesWritten:t,buffer:n})})})}},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";e.exports={copySync:n(52)}},function(e,t,n){"use strict";const r=n(0);function i(e){return e=r.normalize(r.resolve(e)).split(r.sep),e.length>0?e[0]:null}const o=/[<>:"|?*]/;function a(e){const t=i(e);return e=e.replace(t,""),o.test(e)}e.exports={getRootPath:i,invalidWin32Path:a}},function(e,t,n){"use strict";const r=n(5),i=n(26),o=n(0);function a(){let e=o.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));e=o.join(i.tmpdir(),e);const t=new Date(1435410243862);r.writeFileSync(e,"https://github.com/jprichardson/node-fs-extra/pull/141");const n=r.openSync(e,"r+");return r.futimesSync(n,t,t),r.closeSync(n),r.statSync(e).mtime>1435410243e3}function s(e){let t=o.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));t=o.join(i.tmpdir(),t);const n=new Date(1435410243862);r.writeFile(t,"https://github.com/jprichardson/node-fs-extra/pull/141",i=>{if(i)return e(i);r.open(t,"r+",(i,o)=>{if(i)return e(i);r.futimes(o,n,n,n=>{if(n)return e(n);r.close(o,n=>{if(n)return e(n);r.stat(t,(t,n)=>{if(t)return e(t);e(null,n.mtime>1435410243e3)})})})})})}function u(e){if("number"===typeof e)return 1e3*Math.floor(e/1e3);if(e instanceof Date)return new Date(1e3*Math.floor(e.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")}function c(e,t,n,i){r.open(e,"r+",(e,o)=>{if(e)return i(e);r.futimes(o,t,n,e=>{r.close(o,t=>{i&&i(e||t)})})})}function l(e,t,n){const i=r.openSync(e,"r+");return r.futimesSync(i,t,n),r.closeSync(i)}e.exports={hasMillisRes:s,hasMillisResSync:a,timeRemoveMillis:u,utimesMillis:c,utimesMillisSync:l}},function(e,t,n){"use strict";e.exports=function(e){if("function"===typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(e)}catch(t){return new Buffer(e)}return new Buffer(e)}},function(e,t,n){"use strict";const r=n(7).fromCallback;e.exports={copy:r(n(55))}},function(e,t,n){"use strict";var r=n(20);e.exports=new r({include:[n(44)]})},function(e,t,n){"use strict";var r=n(20);e.exports=new r({include:[n(34)],implicit:[n(77),n(78),n(79),n(80)]})},function(e,t){e.exports=require("zlib")},function(e,t){e.exports=require("http")},function(e,t,n){var r=n(48),i=process.cwd,o=null,a=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(c){}var s=process.chdir;function u(e){function t(e){e.lchmod=function(t,n,i){e.open(t,r.O_WRONLY|r.O_SYMLINK,n,function(t,r){t?i&&i(t):e.fchmod(r,n,function(t){e.close(r,function(e){i&&i(t||e)})})})},e.lchmodSync=function(t,n){var i,o=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,n),a=!0;try{i=e.fchmodSync(o,n),a=!1}finally{if(a)try{e.closeSync(o)}catch(c){}else e.closeSync(o)}return i}}function n(e){r.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,n,i,o){e.open(t,r.O_SYMLINK,function(t,r){t?o&&o(t):e.futimes(r,n,i,function(t){e.close(r,function(e){o&&o(t||e)})})})},e.lutimesSync=function(t,n,i){var o,a=e.openSync(t,r.O_SYMLINK),s=!0;try{o=e.futimesSync(a,n,i),s=!1}finally{if(s)try{e.closeSync(a)}catch(c){}else e.closeSync(a)}return o}):(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}function i(t){return t?function(n,r,i){return t.call(e,n,r,function(e){p(e)&&(e=null),i&&i.apply(this,arguments)})}:t}function o(t){return t?function(n,r){try{return t.call(e,n,r)}catch(c){if(!p(c))throw c}}:t}function s(t){return t?function(n,r,i,o){return t.call(e,n,r,i,function(e){p(e)&&(e=null),o&&o.apply(this,arguments)})}:t}function u(t){return t?function(n,r,i){try{return t.call(e,n,r,i)}catch(c){if(!p(c))throw c}}:t}function l(t){return t?function(n,r){return t.call(e,n,function(e,t){if(!t)return r.apply(this,arguments);t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296),r&&r.apply(this,arguments)})}:t}function h(t){return t?function(n){var r=t.call(e,n);return r.uid<0&&(r.uid+=4294967296),r.gid<0&&(r.gid+=4294967296),r}:t}function p(e){if(!e)return!0;if("ENOSYS"===e.code)return!0;var t=!process.getuid||0!==process.getuid();return!(!t||"EINVAL"!==e.code&&"EPERM"!==e.code)}r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||n(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=i(e.chmod),e.fchmod=i(e.fchmod),e.lchmod=i(e.lchmod),e.chownSync=u(e.chownSync),e.fchownSync=u(e.fchownSync),e.lchownSync=u(e.lchownSync),e.chmodSync=o(e.chmodSync),e.fchmodSync=o(e.fchmodSync),e.lchmodSync=o(e.lchmodSync),e.stat=l(e.stat),e.fstat=l(e.fstat),e.lstat=l(e.lstat),e.statSync=h(e.statSync),e.fstatSync=h(e.fstatSync),e.lstatSync=h(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){}),"win32"===a&&(e.rename=function(t){return function(n,r,i){var o=Date.now(),a=0;t(n,r,function s(u){if(u&&("EACCES"===u.code||"EPERM"===u.code)&&Date.now()-o<6e4)return setTimeout(function(){e.stat(r,function(e,o){e&&"ENOENT"===e.code?t(n,r,s):i(u)})},a),void(a<100&&(a+=10));i&&i(u)})}}(e.rename)),e.read=function(t){return function(n,r,i,o,a,s){var u;if(s&&"function"===typeof s){var c=0;u=function(l,h,p){if(l&&"EAGAIN"===l.code&&c<10)return c++,t.call(e,n,r,i,o,a,u);s.apply(this,arguments)}}return t.call(e,n,r,i,o,a,u)}}(e.read),e.readSync=function(t){return function(n,r,i,o,a){var s=0;while(1)try{return t.call(e,n,r,i,o,a)}catch(c){if("EAGAIN"===c.code&&s<10){s++;continue}throw c}}}(e.readSync)}process.chdir=function(e){o=null,s.call(process,e)},e.exports=u},function(e,t){e.exports=require("constants")},function(e,t,n){var r=n(18).Stream;function i(e){return{ReadStream:t,WriteStream:n};function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var a=Object.keys(i),s=0,u=a.length;s<u;s++){var c=a[s];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!==typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!==typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()}):process.nextTick(function(){o._read()})}function n(t,i){if(!(this instanceof n))return new n(t,i);r.call(this),this.path=t,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),a=0,s=o.length;a<s;a++){var u=o[a];this[u]=i[u]}if(void 0!==this.start){if("number"!==typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}e.exports=i},function(e,t,n){"use strict";function r(e){if(null===e||"object"!==typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}e.exports=r},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";const r=n(5),i=n(0),o=n(8).mkdirsSync,a=n(40).utimesMillisSync,s=Symbol("notExist");function u(e,t,n){"function"===typeof n&&(n={filter:n}),n=n||{},n.clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const a=E(e,t);if(n.filter&&!n.filter(e,t))return;const s=i.dirname(t);return r.existsSync(s)||o(s),c(a,e,t,n)}function c(e,t,n,r){if(!r.filter||r.filter(t,n))return l(e,t,n,r)}function l(e,t,n,i){const o=i.dereference?r.statSync:r.lstatSync,a=o(t);return a.isDirectory()?m(a,e,t,n,i):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?h(a,e,t,n,i):a.isSymbolicLink()?g(e,t,n,i):void 0}function h(e,t,n,r,i){return t===s?f(e,n,r,i):p(e,n,r,i)}function p(e,t,n,i){if(i.overwrite)return r.unlinkSync(n),f(e,t,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}function f(e,t,n,i){return"function"===typeof r.copyFileSync?(r.copyFileSync(t,n),r.chmodSync(n,e.mode),i.preserveTimestamps?a(n,e.atime,e.mtime):void 0):d(e,t,n,i)}function d(e,t,i,o){const a=65536,s=n(41)(a),u=r.openSync(t,"r"),c=r.openSync(i,"w",e.mode);let l=0;while(l<e.size){const e=r.readSync(u,s,0,a,l);r.writeSync(c,s,0,e),l+=e}o.preserveTimestamps&&r.futimesSync(c,e.atime,e.mtime),r.closeSync(u),r.closeSync(c)}function m(e,t,n,r,i){if(t===s)return y(e,n,r,i);if(t&&!t.isDirectory())throw new Error(`Cannot overwrite non-directory '${r}' with directory '${n}'.`);return v(n,r,i)}function y(e,t,n,i){return r.mkdirSync(n),v(t,n,i),r.chmodSync(n,e.mode)}function v(e,t,n){r.readdirSync(e).forEach(r=>x(r,e,t,n))}function x(e,t,n,r){const o=i.join(t,e),a=i.join(n,e),s=E(o,a);return c(s,o,a,r)}function g(e,t,n,o){let a=r.readlinkSync(t);if(o.dereference&&(a=i.resolve(process.cwd(),a)),e===s)return r.symlinkSync(a,n);{let e;try{e=r.readlinkSync(n)}catch(u){if("EINVAL"===u.code||"UNKNOWN"===u.code)return r.symlinkSync(a,n);throw u}if(o.dereference&&(e=i.resolve(process.cwd(),e)),w(a,e))throw new Error(`Cannot copy '${a}' to a subdirectory of itself, '${e}'.`);if(r.statSync(n).isDirectory()&&w(e,a))throw new Error(`Cannot overwrite '${e}' with '${a}'.`);return D(a,n)}}function D(e,t){return r.unlinkSync(t),r.symlinkSync(e,t)}function w(e,t){const n=i.resolve(e).split(i.sep),r=i.resolve(t).split(i.sep);return n.reduce((e,t,n)=>e&&r[n]===t,!0)}function b(e,t){const n=r.statSync(e);let i;try{i=r.statSync(t)}catch(o){if("ENOENT"===o.code)return{srcStat:n,destStat:s};throw o}return{srcStat:n,destStat:i}}function E(e,t){const{srcStat:n,destStat:r}=b(e,t);if(r.ino&&r.ino===n.ino)throw new Error("Source and destination must not be the same.");if(n.isDirectory()&&w(e,t))throw new Error(`Cannot copy '${e}' to a subdirectory of itself, '${t}'.`);return r}e.exports=u},function(e,t,n){"use strict";const r=n(5),i=n(0),o=n(39).invalidWin32Path,a=parseInt("0777",8);function s(e,t,n,u){if("function"===typeof t?(n=t,t={}):t&&"object"===typeof t||(t={mode:t}),"win32"===process.platform&&o(e)){const t=new Error(e+" contains invalid WIN32 path characters.");return t.code="EINVAL",n(t)}let c=t.mode;const l=t.fs||r;void 0===c&&(c=a&~process.umask()),u||(u=null),n=n||function(){},e=i.resolve(e),l.mkdir(e,c,r=>{if(!r)return u=u||e,n(null,u);switch(r.code){case"ENOENT":if(i.dirname(e)===e)return n(r);s(i.dirname(e),t,(r,i)=>{r?n(r,i):s(e,t,n,i)});break;default:l.stat(e,(e,t)=>{e||!t.isDirectory()?n(r,u):n(null,u)});break}})}e.exports=s},function(e,t,n){"use strict";const r=n(5),i=n(0),o=n(39).invalidWin32Path,a=parseInt("0777",8);function s(e,t,n){t&&"object"===typeof t||(t={mode:t});let u=t.mode;const c=t.fs||r;if("win32"===process.platform&&o(e)){const t=new Error(e+" contains invalid WIN32 path characters.");throw t.code="EINVAL",t}void 0===u&&(u=a&~process.umask()),n||(n=null),e=i.resolve(e);try{c.mkdirSync(e,u),n=n||e}catch(l){if("ENOENT"===l.code){if(i.dirname(e)===e)throw l;n=s(i.dirname(e),t,n),s(e,t,n)}else{let t;try{t=c.statSync(e)}catch(h){throw l}if(!t.isDirectory())throw l}}return n}e.exports=s},function(e,t,n){"use strict";const r=n(5),i=n(0),o=n(8).mkdirs,a=n(11).pathExists,s=n(40).utimesMillis,u=Symbol("notExist");function c(e,t,n,r){"function"!==typeof n||r?"function"===typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},n=n||{},n.clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),F(e,t,(i,o)=>{return i?r(i):n.filter?h(l,o,e,t,n,r):l(o,e,t,n,r)})}function l(e,t,n,r,s){const u=i.dirname(n);a(u,(i,a)=>{return i?s(i):a?p(e,t,n,r,s):void o(u,i=>{return i?s(i):p(e,t,n,r,s)})})}function h(e,t,n,r,i,o){Promise.resolve(i.filter(n,r)).then(a=>{return a?t?e(t,n,r,i,o):e(n,r,i,o):o()},e=>o(e))}function p(e,t,n,r,i){return r.filter?h(f,e,t,n,r,i):f(e,t,n,r,i)}function f(e,t,n,i,o){const a=i.dereference?r.stat:r.lstat;a(t,(r,a)=>{return r?o(r):a.isDirectory()?g(a,e,t,n,i,o):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?d(a,e,t,n,i,o):a.isSymbolicLink()?S(e,t,n,i,o):void 0})}function d(e,t,n,r,i,o){return t===u?y(e,n,r,i,o):m(e,n,r,i,o)}function m(e,t,n,i,o){if(!i.overwrite)return i.errorOnExist?o(new Error(`'${n}' already exists`)):o();r.unlink(n,r=>{return r?o(r):y(e,t,n,i,o)})}function y(e,t,n,i,o){return"function"===typeof r.copyFile?r.copyFile(t,n,t=>{return t?o(t):x(e,n,i,o)}):v(e,t,n,i,o)}function v(e,t,n,i,o){const a=r.createReadStream(t);a.on("error",e=>o(e)).once("open",()=>{const t=r.createWriteStream(n,{mode:e.mode});t.on("error",e=>o(e)).on("open",()=>a.pipe(t)).once("close",()=>x(e,n,i,o))})}function x(e,t,n,i){r.chmod(t,e.mode,r=>{return r?i(r):n.preserveTimestamps?s(t,e.atime,e.mtime,i):i()})}function g(e,t,n,r,i,o){return t===u?D(e,n,r,i,o):t&&!t.isDirectory()?o(new Error(`Cannot overwrite non-directory '${r}' with directory '${n}'.`)):w(n,r,i,o)}function D(e,t,n,i,o){r.mkdir(n,a=>{if(a)return o(a);w(t,n,i,t=>{return t?o(t):r.chmod(n,e.mode,o)})})}function w(e,t,n,i){r.readdir(e,(r,o)=>{return r?i(r):b(o,e,t,n,i)})}function b(e,t,n,r,i){const o=e.pop();return o?E(e,o,t,n,r,i):i()}function E(e,t,n,r,o,a){const s=i.join(n,t),u=i.join(r,t);F(s,u,(t,i)=>{if(t)return a(t);p(i,s,u,o,t=>{return t?a(t):b(e,n,r,o,a)})})}function S(e,t,n,o,a){r.readlink(t,(t,s)=>{return t?a(t):(o.dereference&&(s=i.resolve(process.cwd(),s)),e===u?r.symlink(s,n,a):void r.readlink(n,(t,u)=>{return t?"EINVAL"===t.code||"UNKNOWN"===t.code?r.symlink(s,n,a):a(t):(o.dereference&&(u=i.resolve(process.cwd(),u)),k(s,u)?a(new Error(`Cannot copy '${s}' to a subdirectory of itself, '${u}'.`)):e.isDirectory()&&k(u,s)?a(new Error(`Cannot overwrite '${u}' with '${s}'.`)):C(s,n,a))}))})}function C(e,t,n){r.unlink(t,i=>{return i?n(i):r.symlink(e,t,n)})}function k(e,t){const n=i.resolve(e).split(i.sep),r=i.resolve(t).split(i.sep);return n.reduce((e,t,n)=>e&&r[n]===t,!0)}function A(e,t,n){r.stat(e,(e,i)=>{if(e)return n(e);r.stat(t,(e,t)=>{return e?"ENOENT"===e.code?n(null,{srcStat:i,destStat:u}):n(e):n(null,{srcStat:i,destStat:t})})})}function F(e,t,n){A(e,t,(r,i)=>{if(r)return n(r);const{srcStat:o,destStat:a}=i;return a.ino&&a.ino===o.ino?n(new Error("Source and destination must not be the same.")):o.isDirectory()&&k(e,t)?n(new Error(`Cannot copy '${e}' to a subdirectory of itself, '${t}'.`)):n(null,a)})}e.exports=c},function(e,t,n){"use strict";const r=n(7).fromCallback,i=n(21),o=n(0),a=n(8),s=n(24),u=r(function(e,t){t=t||function(){},i.readdir(e,(n,r)=>{if(n)return a.mkdirs(e,t);function i(){const e=r.pop();if(!e)return t();s.remove(e,e=>{if(e)return t(e);i()})}r=r.map(t=>o.join(e,t)),i()})});function c(e){let t;try{t=i.readdirSync(e)}catch(n){return a.mkdirsSync(e)}t.forEach(t=>{t=o.join(e,t),s.removeSync(t)})}e.exports={emptyDirSync:c,emptydirSync:c,emptyDir:u,emptydir:u}},function(e,t,n){"use strict";const r=n(5),i=n(0),o=n(37),a="win32"===process.platform;function s(e){const t=["unlink","chmod","stat","lstat","rmdir","readdir"];t.forEach(t=>{e[t]=e[t]||r[t],t+="Sync",e[t]=e[t]||r[t]}),e.maxBusyTries=e.maxBusyTries||3}function u(e,t,n){let r=0;"function"===typeof t&&(n=t,t={}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o.strictEqual(typeof n,"function","rimraf: callback function required"),o(t,"rimraf: invalid options argument provided"),o.strictEqual(typeof t,"object","rimraf: options should be object"),s(t),c(e,t,function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<t.maxBusyTries){r++;const n=100*r;return setTimeout(()=>c(e,t,i),n)}"ENOENT"===o.code&&(o=null)}n(o)})}function c(e,t,n){o(e),o(t),o("function"===typeof n),t.lstat(e,(r,i)=>{return r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&a?l(e,t,r,n):i&&i.isDirectory()?p(e,t,r,n):void t.unlink(e,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return a?l(e,t,r,n):p(e,t,r,n);if("EISDIR"===r.code)return p(e,t,r,n)}return n(r)})})}function l(e,t,n,r){o(e),o(t),o("function"===typeof r),n&&o(n instanceof Error),t.chmod(e,438,i=>{i?r("ENOENT"===i.code?null:n):t.stat(e,(i,o)=>{i?r("ENOENT"===i.code?null:n):o.isDirectory()?p(e,t,n,r):t.unlink(e,r)})})}function h(e,t,n){let r;o(e),o(t),n&&o(n instanceof Error);try{t.chmodSync(e,438)}catch(i){if("ENOENT"===i.code)return;throw n}try{r=t.statSync(e)}catch(a){if("ENOENT"===a.code)return;throw n}r.isDirectory()?m(e,t,n):t.unlinkSync(e)}function p(e,t,n,r){o(e),o(t),n&&o(n instanceof Error),o("function"===typeof r),t.rmdir(e,i=>{!i||"ENOTEMPTY"!==i.code&&"EEXIST"!==i.code&&"EPERM"!==i.code?i&&"ENOTDIR"===i.code?r(n):r(i):f(e,t,r)})}function f(e,t,n){o(e),o(t),o("function"===typeof n),t.readdir(e,(r,o)=>{if(r)return n(r);let a,s=o.length;if(0===s)return t.rmdir(e,n);o.forEach(r=>{u(i.join(e,r),t,r=>{if(!a)return r?n(a=r):void(0===--s&&t.rmdir(e,n))})})})}function d(e,t){let n;t=t||{},s(t),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o(t,"rimraf: missing options"),o.strictEqual(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(r){if("ENOENT"===r.code)return;"EPERM"===r.code&&a&&h(e,t,r)}try{n&&n.isDirectory()?m(e,t,null):t.unlinkSync(e)}catch(r){if("ENOENT"===r.code)return;if("EPERM"===r.code)return a?h(e,t,r):m(e,t,r);if("EISDIR"!==r.code)throw r;m(e,t,r)}}function m(e,t,n){o(e),o(t),n&&o(n instanceof Error);try{t.rmdirSync(e)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)y(e,t);else if("ENOENT"!==r.code)throw r}}function y(e,t){if(o(e),o(t),t.readdirSync(e).forEach(n=>d(i.join(e,n),t)),!a){const n=t.rmdirSync(e,t);return n}{const r=Date.now();do{try{const r=t.rmdirSync(e,t);return r}catch(n){}}while(Date.now()-r<500)}}e.exports=u,u.sync=d},function(e,t,n){"use strict";const r=n(59),i=n(60),o=n(61);e.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:o.createSymlink,createSymlinkSync:o.createSymlinkSync,ensureSymlink:o.createSymlink,ensureSymlinkSync:o.createSymlinkSync}},function(e,t,n){"use strict";const r=n(7).fromCallback,i=n(0),o=n(5),a=n(8),s=n(11).pathExists;function u(e,t){function n(){o.writeFile(e,"",e=>{if(e)return t(e);t()})}o.stat(e,(r,o)=>{if(!r&&o.isFile())return t();const u=i.dirname(e);s(u,(e,r)=>{return e?t(e):r?n():void a.mkdirs(u,e=>{if(e)return t(e);n()})})})}function c(e){let t;try{t=o.statSync(e)}catch(r){}if(t&&t.isFile())return;const n=i.dirname(e);o.existsSync(n)||a.mkdirsSync(n),o.writeFileSync(e,"")}e.exports={createFile:r(u),createFileSync:c}},function(e,t,n){"use strict";const r=n(7).fromCallback,i=n(0),o=n(5),a=n(8),s=n(11).pathExists;function u(e,t,n){function r(e,t){o.link(e,t,e=>{if(e)return n(e);n(null)})}s(t,(u,c)=>{return u?n(u):c?n(null):void o.lstat(e,o=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);const u=i.dirname(t);s(u,(i,o)=>{return i?n(i):o?r(e,t):void a.mkdirs(u,i=>{if(i)return n(i);r(e,t)})})})})}function c(e,t){const n=o.existsSync(t);if(n)return;try{o.lstatSync(e)}catch(u){throw u.message=u.message.replace("lstat","ensureLink"),u}const r=i.dirname(t),s=o.existsSync(r);return s?o.linkSync(e,t):(a.mkdirsSync(r),o.linkSync(e,t))}e.exports={createLink:r(u),createLinkSync:c}},function(e,t,n){"use strict";const r=n(7).fromCallback,i=n(0),o=n(5),a=n(8),s=a.mkdirs,u=a.mkdirsSync,c=n(62),l=c.symlinkPaths,h=c.symlinkPathsSync,p=n(63),f=p.symlinkType,d=p.symlinkTypeSync,m=n(11).pathExists;function y(e,t,n,r){r="function"===typeof n?n:r,n="function"!==typeof n&&n,m(t,(a,u)=>{return a?r(a):u?r(null):void l(e,t,(a,u)=>{if(a)return r(a);e=u.toDst,f(u.toCwd,n,(n,a)=>{if(n)return r(n);const u=i.dirname(t);m(u,(n,i)=>{return n?r(n):i?o.symlink(e,t,a,r):void s(u,n=>{if(n)return r(n);o.symlink(e,t,a,r)})})})})})}function v(e,t,n){const r=o.existsSync(t);if(r)return;const a=h(e,t);e=a.toDst,n=d(a.toCwd,n);const s=i.dirname(t),c=o.existsSync(s);return c?o.symlinkSync(e,t,n):(u(s),o.symlinkSync(e,t,n))}e.exports={createSymlink:r(y),createSymlinkSync:v}},function(e,t,n){"use strict";const r=n(0),i=n(5),o=n(11).pathExists;function a(e,t,n){if(r.isAbsolute(e))return i.lstat(e,t=>{return t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:e})});{const a=r.dirname(t),s=r.join(a,e);return o(s,(t,o)=>{return t?n(t):o?n(null,{toCwd:s,toDst:e}):i.lstat(e,t=>{return t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:r.relative(a,e)})})})}}function s(e,t){let n;if(r.isAbsolute(e)){if(n=i.existsSync(e),!n)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const o=r.dirname(t),a=r.join(o,e);if(n=i.existsSync(a),n)return{toCwd:a,toDst:e};if(n=i.existsSync(e),!n)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:r.relative(o,e)}}}e.exports={symlinkPaths:a,symlinkPathsSync:s}},function(e,t,n){"use strict";const r=n(5);function i(e,t,n){if(n="function"===typeof t?t:n,t="function"!==typeof t&&t,t)return n(null,t);r.lstat(e,(e,r)=>{if(e)return n(null,"file");t=r&&r.isDirectory()?"dir":"file",n(null,t)})}function o(e,t){let n;if(t)return t;try{n=r.lstatSync(e)}catch(i){return"file"}return n&&n.isDirectory()?"dir":"file"}e.exports={symlinkType:i,symlinkTypeSync:o}},function(e,t,n){"use strict";const r=n(7).fromCallback,i=n(33);i.outputJson=r(n(66)),i.outputJsonSync=n(67),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},function(e,t,n){var r;try{r=n(5)}catch(h){r=n(21)}function i(e,t,n){null==n&&(n=t,t={}),"string"===typeof t&&(t={encoding:t}),t=t||{};var i=t.fs||r,o=!0;"throws"in t&&(o=t.throws),i.readFile(e,t,function(r,i){if(r)return n(r);var a;i=c(i);try{a=JSON.parse(i,t?t.reviver:null)}catch(s){return o?(s.message=e+": "+s.message,n(s)):n(null,null)}n(null,a)})}function o(e,t){t=t||{},"string"===typeof t&&(t={encoding:t});var n=t.fs||r,i=!0;"throws"in t&&(i=t.throws);try{var o=n.readFileSync(e,t);return o=c(o),JSON.parse(o,t.reviver)}catch(a){if(i)throw a.message=e+": "+a.message,a;return null}}function a(e,t){var n,r="\n";"object"===typeof t&&null!==t&&(t.spaces&&(n=t.spaces),t.EOL&&(r=t.EOL));var i=JSON.stringify(e,t?t.replacer:null,n);return i.replace(/\n/g,r)+r}function s(e,t,n,i){null==i&&(i=n,n={}),n=n||{};var o=n.fs||r,s="";try{s=a(t,n)}catch(u){return void(i&&i(u,null))}o.writeFile(e,s,n,i)}function u(e,t,n){n=n||{};var i=n.fs||r,o=a(t,n);return i.writeFileSync(e,o,n)}function c(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e=e.replace(/^\uFEFF/,""),e}var l={readFile:i,readFileSync:o,writeFile:s,writeFileSync:u};e.exports=l},function(e,t,n){"use strict";const r=n(0),i=n(8),o=n(11).pathExists,a=n(33);function s(e,t,n,s){"function"===typeof n&&(s=n,n={});const u=r.dirname(e);o(u,(r,o)=>{return r?s(r):o?a.writeJson(e,t,n,s):void i.mkdirs(u,r=>{if(r)return s(r);a.writeJson(e,t,n,s)})})}e.exports=s},function(e,t,n){"use strict";const r=n(5),i=n(0),o=n(8),a=n(33);function s(e,t,n){const s=i.dirname(e);r.existsSync(s)||o.mkdirsSync(s),a.writeJsonSync(e,t,n)}e.exports=s},function(e,t,n){"use strict";const r=n(5),i=n(0),o=n(38).copySync,a=n(24).removeSync,s=n(8).mkdirsSync,u=n(41);function c(e,t,n){n=n||{};const o=n.overwrite||n.clobber||!1;if(e=i.resolve(e),t=i.resolve(t),e===t)return r.accessSync(e);if(f(e,t))throw new Error(`Cannot move '${e}' into itself '${t}'.`);function u(){if(o)try{return r.renameSync(e,t)}catch(i){if("ENOTEMPTY"===i.code||"EEXIST"===i.code||"EPERM"===i.code)return a(t),n.overwrite=!1,c(e,t,n);if("EXDEV"!==i.code)throw i;return l(e,t,o)}else try{return r.linkSync(e,t),r.unlinkSync(e)}catch(i){if("EXDEV"===i.code||"EISDIR"===i.code||"EPERM"===i.code||"ENOTSUP"===i.code)return l(e,t,o);throw i}}s(i.dirname(t)),u()}function l(e,t,n){const i=r.statSync(e);return i.isDirectory()?p(e,t,n):h(e,t,n)}function h(e,t,n){const i=65536,o=u(i),a=n?"w":"wx",s=r.openSync(e,"r"),c=r.fstatSync(s),l=r.openSync(t,a,c.mode);let h=0;while(h<c.size){const e=r.readSync(s,o,0,i,h);r.writeSync(l,o,0,e),h+=e}return r.closeSync(s),r.closeSync(l),r.unlinkSync(e)}function p(e,t,n){const r={overwrite:!1};function i(){return o(e,t,r),a(e)}n?(a(t),i()):i()}function f(e,t){try{return r.statSync(e).isDirectory()&&e!==t&&t.indexOf(e)>-1&&t.split(i.dirname(e)+i.sep)[1].split(i.sep)[0]===i.basename(e)}catch(n){return!1}}e.exports={moveSync:c}},function(e,t,n){"use strict";const r=n(7).fromCallback,i=n(5),o=n(0),a=n(42).copy,s=n(24).remove,u=n(8).mkdirp,c=n(11).pathExists;function l(e,t,n,r){"function"===typeof n&&(r=n,n={});const a=n.overwrite||n.clobber||!1;if(e=o.resolve(e),t=o.resolve(t),e===t)return i.access(e,r);i.stat(e,(n,i)=>{return n?r(n):i.isDirectory()&&d(e,t)?r(new Error(`Cannot move '${e}' to a subdirectory of itself, '${t}'.`)):void u(o.dirname(t),n=>{return n?r(n):h(e,t,a,r)})})}function h(e,t,n,r){if(n)return s(t,i=>{return i?r(i):p(e,t,n,r)});c(t,(i,o)=>{return i?r(i):o?r(new Error("dest already exists.")):p(e,t,n,r)})}function p(e,t,n,r){i.rename(e,t,i=>{return i?"EXDEV"!==i.code?r(i):f(e,t,n,r):r()})}function f(e,t,n,r){const i={overwrite:n,errorOnExist:!0};a(e,t,i,t=>{return t?r(t):s(e,r)})}function d(e,t){const n=e.split(o.sep),r=t.split(o.sep);return n.reduce((e,t,n)=>{return e&&r[n]===t},!0)}e.exports={move:r(l)}},function(e,t,n){"use strict";const r=n(7).fromCallback,i=n(5),o=n(0),a=n(8),s=n(11).pathExists;function u(e,t,n,r){"function"===typeof n&&(r=n,n="utf8");const u=o.dirname(e);s(u,(o,s)=>{return o?r(o):s?i.writeFile(e,t,n,r):void a.mkdirs(u,o=>{if(o)return r(o);i.writeFile(e,t,n,r)})})}function c(e,...t){const n=o.dirname(e);if(i.existsSync(n))return i.writeFileSync(e,...t);a.mkdirsSync(n),i.writeFileSync(e,...t)}e.exports={outputFile:r(u),outputFileSync:c}},function(e,t,n){"use strict";var r=n(72),i=n(92);function o(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}e.exports.Type=n(4),e.exports.Schema=n(20),e.exports.FAILSAFE_SCHEMA=n(34),e.exports.JSON_SCHEMA=n(44),e.exports.CORE_SCHEMA=n(43),e.exports.DEFAULT_SAFE_SCHEMA=n(23),e.exports.DEFAULT_FULL_SCHEMA=n(25),e.exports.load=r.load,e.exports.loadAll=r.loadAll,e.exports.safeLoad=r.safeLoad,e.exports.safeLoadAll=r.safeLoadAll,e.exports.dump=i.dump,e.exports.safeDump=i.safeDump,e.exports.YAMLException=n(22),e.exports.MINIMAL_SCHEMA=n(34),e.exports.SAFE_SCHEMA=n(23),e.exports.DEFAULT_SCHEMA=n(25),e.exports.scan=o("scan"),e.exports.parse=o("parse"),e.exports.compose=o("compose"),e.exports.addConstructor=o("addConstructor")},function(e,t,n){"use strict";var r=n(19),i=n(22),o=n(73),a=n(23),s=n(25),u=Object.prototype.hasOwnProperty,c=1,l=2,h=3,p=4,f=1,d=2,m=3,y=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v=/[\x85\u2028\u2029]/,x=/[,\[\]\{\}]/,g=/^(?:!|!!|![a-z\-]+!)$/i,D=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function w(e){return 10===e||13===e}function b(e){return 9===e||32===e}function E(e){return 9===e||32===e||10===e||13===e}function S(e){return 44===e||91===e||93===e||123===e||125===e}function C(e){var t;return 48<=e&&e<=57?e-48:(t=32|e,97<=t&&t<=102?t-97+10:-1)}function k(e){return 120===e?2:117===e?4:85===e?8:0}function A(e){return 48<=e&&e<=57?e-48:-1}function F(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e?"\t":9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function O(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var T=new Array(256),P=new Array(256),I=0;I<256;I++)T[I]=F(I)?1:0,P[I]=F(I);function B(e,t){this.input=e,this.filename=t["filename"]||null,this.schema=t["schema"]||s,this.onWarning=t["onWarning"]||null,this.legacy=t["legacy"]||!1,this.json=t["json"]||!1,this.listener=t["listener"]||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function N(e,t){return new i(t,new o(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function _(e,t){throw N(e,t)}function j(e,t){e.onWarning&&e.onWarning.call(null,N(e,t))}var R={YAML:function(e,t,n){var r,i,o;null!==e.version&&_(e,"duplication of %YAML directive"),1!==n.length&&_(e,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),null===r&&_(e,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&_(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,1!==o&&2!==o&&j(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var r,i;2!==n.length&&_(e,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],g.test(r)||_(e,"ill-formed tag handle (first argument) of the TAG directive"),u.call(e.tagMap,r)&&_(e,'there is a previously declared suffix for "'+r+'" tag handle'),D.test(i)||_(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[r]=i}};function M(e,t,n,r){var i,o,a,s;if(t<n){if(s=e.input.slice(t,n),r)for(i=0,o=s.length;i<o;i+=1)a=s.charCodeAt(i),9===a||32<=a&&a<=1114111||_(e,"expected valid JSON character");else y.test(s)&&_(e,"the stream contains non-printable characters");e.result+=s}}function U(e,t,n,i){var o,a,s,c;for(r.isObject(n)||_(e,"cannot merge mappings; the provided source object is unacceptable"),o=Object.keys(n),s=0,c=o.length;s<c;s+=1)a=o[s],u.call(t,a)||(t[a]=n[a],i[a]=!0)}function L(e,t,n,r,i,o,a,s){var c,l;if(i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(o))for(c=0,l=o.length;c<l;c+=1)U(e,t,o[c],n);else U(e,t,o,n);else e.json||u.call(n,i)||!u.call(t,i)||(e.line=a||e.line,e.position=s||e.position,_(e,"duplicated mapping key")),t[i]=o,delete n[i];return t}function z(e){var t;t=e.input.charCodeAt(e.position),10===t?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):_(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function J(e,t,n){var r=0,i=e.input.charCodeAt(e.position);while(0!==i){while(b(i))i=e.input.charCodeAt(++e.position);if(t&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!w(i))break;z(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;while(32===i)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==n&&0!==r&&e.lineIndent<n&&j(e,"deficient indentation"),r}function X(e){var t,n=e.position;return t=e.input.charCodeAt(n),!(45!==t&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,t=e.input.charCodeAt(n),0!==t&&!E(t)))}function q(e,t){1===t?e.result+=" ":t>1&&(e.result+=r.repeat("\n",t-1))}function H(e,t,n){var r,i,o,a,s,u,c,l,h,p=e.kind,f=e.result;if(h=e.input.charCodeAt(e.position),E(h)||S(h)||35===h||38===h||42===h||33===h||124===h||62===h||39===h||34===h||37===h||64===h||96===h)return!1;if((63===h||45===h)&&(i=e.input.charCodeAt(e.position+1),E(i)||n&&S(i)))return!1;e.kind="scalar",e.result="",o=a=e.position,s=!1;while(0!==h){if(58===h){if(i=e.input.charCodeAt(e.position+1),E(i)||n&&S(i))break}else if(35===h){if(r=e.input.charCodeAt(e.position-1),E(r))break}else{if(e.position===e.lineStart&&X(e)||n&&S(h))break;if(w(h)){if(u=e.line,c=e.lineStart,l=e.lineIndent,J(e,!1,-1),e.lineIndent>=t){s=!0,h=e.input.charCodeAt(e.position);continue}e.position=a,e.line=u,e.lineStart=c,e.lineIndent=l;break}}s&&(M(e,o,a,!1),q(e,e.line-u),o=a=e.position,s=!1),b(h)||(a=e.position+1),h=e.input.charCodeAt(++e.position)}return M(e,o,a,!1),!!e.result||(e.kind=p,e.result=f,!1)}function K(e,t){var n,r,i;if(n=e.input.charCodeAt(e.position),39!==n)return!1;e.kind="scalar",e.result="",e.position++,r=i=e.position;while(0!==(n=e.input.charCodeAt(e.position)))if(39===n){if(M(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),39!==n)return!0;r=e.position,e.position++,i=e.position}else w(n)?(M(e,r,i,!0),q(e,J(e,!1,t)),r=i=e.position):e.position===e.lineStart&&X(e)?_(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);_(e,"unexpected end of the stream within a single quoted scalar")}function W(e,t){var n,r,i,o,a,s;if(s=e.input.charCodeAt(e.position),34!==s)return!1;e.kind="scalar",e.result="",e.position++,n=r=e.position;while(0!==(s=e.input.charCodeAt(e.position))){if(34===s)return M(e,n,e.position,!0),e.position++,!0;if(92===s){if(M(e,n,e.position,!0),s=e.input.charCodeAt(++e.position),w(s))J(e,!1,t);else if(s<256&&T[s])e.result+=P[s],e.position++;else if((a=k(s))>0){for(i=a,o=0;i>0;i--)s=e.input.charCodeAt(++e.position),(a=C(s))>=0?o=(o<<4)+a:_(e,"expected hexadecimal character");e.result+=O(o),e.position++}else _(e,"unknown escape sequence");n=r=e.position}else w(s)?(M(e,n,r,!0),q(e,J(e,!1,t)),n=r=e.position):e.position===e.lineStart&&X(e)?_(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}_(e,"unexpected end of the stream within a double quoted scalar")}function G(e,t){var n,r,i,o,a,s,u,l,h,p,f,d=!0,m=e.tag,y=e.anchor,v={};if(f=e.input.charCodeAt(e.position),91===f)o=93,u=!1,r=[];else{if(123!==f)return!1;o=125,u=!0,r={}}null!==e.anchor&&(e.anchorMap[e.anchor]=r),f=e.input.charCodeAt(++e.position);while(0!==f){if(J(e,!0,t),f=e.input.charCodeAt(e.position),f===o)return e.position++,e.tag=m,e.anchor=y,e.kind=u?"mapping":"sequence",e.result=r,!0;d||_(e,"missed comma between flow collection entries"),h=l=p=null,a=s=!1,63===f&&(i=e.input.charCodeAt(e.position+1),E(i)&&(a=s=!0,e.position++,J(e,!0,t))),n=e.line,te(e,t,c,!1,!0),h=e.tag,l=e.result,J(e,!0,t),f=e.input.charCodeAt(e.position),!s&&e.line!==n||58!==f||(a=!0,f=e.input.charCodeAt(++e.position),J(e,!0,t),te(e,t,c,!1,!0),p=e.result),u?L(e,r,v,h,l,p):a?r.push(L(e,null,v,h,l,p)):r.push(l),J(e,!0,t),f=e.input.charCodeAt(e.position),44===f?(d=!0,f=e.input.charCodeAt(++e.position)):d=!1}_(e,"unexpected end of the stream within a flow collection")}function V(e,t){var n,i,o,a,s=f,u=!1,c=!1,l=t,h=0,p=!1;if(a=e.input.charCodeAt(e.position),124===a)i=!1;else{if(62!==a)return!1;i=!0}e.kind="scalar",e.result="";while(0!==a)if(a=e.input.charCodeAt(++e.position),43===a||45===a)f===s?s=43===a?m:d:_(e,"repeat of a chomping mode identifier");else{if(!((o=A(a))>=0))break;0===o?_(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?_(e,"repeat of an indentation width identifier"):(l=t+o-1,c=!0)}if(b(a)){do{a=e.input.charCodeAt(++e.position)}while(b(a));if(35===a)do{a=e.input.charCodeAt(++e.position)}while(!w(a)&&0!==a)}while(0!==a){z(e),e.lineIndent=0,a=e.input.charCodeAt(e.position);while((!c||e.lineIndent<l)&&32===a)e.lineIndent++,a=e.input.charCodeAt(++e.position);if(!c&&e.lineIndent>l&&(l=e.lineIndent),w(a))h++;else{if(e.lineIndent<l){s===m?e.result+=r.repeat("\n",u?1+h:h):s===f&&u&&(e.result+="\n");break}i?b(a)?(p=!0,e.result+=r.repeat("\n",u?1+h:h)):p?(p=!1,e.result+=r.repeat("\n",h+1)):0===h?u&&(e.result+=" "):e.result+=r.repeat("\n",h):e.result+=r.repeat("\n",u?1+h:h),u=!0,c=!0,h=0,n=e.position;while(!w(a)&&0!==a)a=e.input.charCodeAt(++e.position);M(e,n,e.position,!1)}}return!0}function Y(e,t){var n,r,i,o=e.tag,a=e.anchor,s=[],u=!1;null!==e.anchor&&(e.anchorMap[e.anchor]=s),i=e.input.charCodeAt(e.position);while(0!==i){if(45!==i)break;if(r=e.input.charCodeAt(e.position+1),!E(r))break;if(u=!0,e.position++,J(e,!0,-1)&&e.lineIndent<=t)s.push(null),i=e.input.charCodeAt(e.position);else if(n=e.line,te(e,t,h,!1,!0),s.push(e.result),J(e,!0,-1),i=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==i)_(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return!!u&&(e.tag=o,e.anchor=a,e.kind="sequence",e.result=s,!0)}function $(e,t,n){var r,i,o,a,s,u=e.tag,c=e.anchor,h={},f={},d=null,m=null,y=null,v=!1,x=!1;null!==e.anchor&&(e.anchorMap[e.anchor]=h),s=e.input.charCodeAt(e.position);while(0!==s){if(r=e.input.charCodeAt(e.position+1),o=e.line,a=e.position,63!==s&&58!==s||!E(r)){if(!te(e,n,l,!1,!0))break;if(e.line===o){s=e.input.charCodeAt(e.position);while(b(s))s=e.input.charCodeAt(++e.position);if(58===s)s=e.input.charCodeAt(++e.position),E(s)||_(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(L(e,h,f,d,m,null),d=m=y=null),x=!0,v=!1,i=!1,d=e.tag,m=e.result;else{if(!x)return e.tag=u,e.anchor=c,!0;_(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!x)return e.tag=u,e.anchor=c,!0;_(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===s?(v&&(L(e,h,f,d,m,null),d=m=y=null),x=!0,v=!0,i=!0):v?(v=!1,i=!0):_(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,s=r;if((e.line===o||e.lineIndent>t)&&(te(e,t,p,!0,i)&&(v?m=e.result:y=e.result),v||(L(e,h,f,d,m,y,o,a),d=m=y=null),J(e,!0,-1),s=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==s)_(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&L(e,h,f,d,m,null),x&&(e.tag=u,e.anchor=c,e.kind="mapping",e.result=h),x}function Z(e){var t,n,r,i,o=!1,a=!1;if(i=e.input.charCodeAt(e.position),33!==i)return!1;if(null!==e.tag&&_(e,"duplication of a tag property"),i=e.input.charCodeAt(++e.position),60===i?(o=!0,i=e.input.charCodeAt(++e.position)):33===i?(a=!0,n="!!",i=e.input.charCodeAt(++e.position)):n="!",t=e.position,o){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(r=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):_(e,"unexpected end of the stream within a verbatim tag")}else{while(0!==i&&!E(i))33===i&&(a?_(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),g.test(n)||_(e,"named tag handle cannot contain such characters"),a=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),x.test(r)&&_(e,"tag suffix cannot contain flow indicator characters")}return r&&!D.test(r)&&_(e,"tag name cannot contain such characters: "+r),o?e.tag=r:u.call(e.tagMap,n)?e.tag=e.tagMap[n]+r:"!"===n?e.tag="!"+r:"!!"===n?e.tag="tag:yaml.org,2002:"+r:_(e,'undeclared tag handle "'+n+'"'),!0}function Q(e){var t,n;if(n=e.input.charCodeAt(e.position),38!==n)return!1;null!==e.anchor&&_(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;while(0!==n&&!E(n)&&!S(n))n=e.input.charCodeAt(++e.position);return e.position===t&&_(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function ee(e){var t,n,r;if(r=e.input.charCodeAt(e.position),42!==r)return!1;r=e.input.charCodeAt(++e.position),t=e.position;while(0!==r&&!E(r)&&!S(r))r=e.input.charCodeAt(++e.position);return e.position===t&&_(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(n)||_(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],J(e,!0,-1),!0}function te(e,t,n,r,i){var o,a,s,f,d,m,y,v,x=1,g=!1,D=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=s=p===n||h===n,r&&J(e,!0,-1)&&(g=!0,e.lineIndent>t?x=1:e.lineIndent===t?x=0:e.lineIndent<t&&(x=-1)),1===x)while(Z(e)||Q(e))J(e,!0,-1)?(g=!0,s=o,e.lineIndent>t?x=1:e.lineIndent===t?x=0:e.lineIndent<t&&(x=-1)):s=!1;if(s&&(s=g||i),1!==x&&p!==n||(y=c===n||l===n?t:t+1,v=e.position-e.lineStart,1===x?s&&(Y(e,v)||$(e,v,y))||G(e,y)?D=!0:(a&&V(e,y)||K(e,y)||W(e,y)?D=!0:ee(e)?(D=!0,null===e.tag&&null===e.anchor||_(e,"alias node should not have any properties")):H(e,y,c===n)&&(D=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===x&&(D=s&&Y(e,v))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(f=0,d=e.implicitTypes.length;f<d;f+=1)if(m=e.implicitTypes[f],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else u.call(e.typeMap[e.kind||"fallback"],e.tag)?(m=e.typeMap[e.kind||"fallback"][e.tag],null!==e.result&&m.kind!==e.kind&&_(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result)?(e.result=m.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):_(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):_(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||D}function ne(e){var t,n,r,i,o=e.position,a=!1;e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};while(0!==(i=e.input.charCodeAt(e.position))){if(J(e,!0,-1),i=e.input.charCodeAt(e.position),e.lineIndent>0||37!==i)break;a=!0,i=e.input.charCodeAt(++e.position),t=e.position;while(0!==i&&!E(i))i=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),r=[],n.length<1&&_(e,"directive name must not be less than one character in length");while(0!==i){while(b(i))i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!w(i));break}if(w(i))break;t=e.position;while(0!==i&&!E(i))i=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}0!==i&&z(e),u.call(R,n)?R[n](e,n,r):j(e,'unknown document directive "'+n+'"')}J(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,J(e,!0,-1)):a&&_(e,"directives end mark is expected"),te(e,e.lineIndent-1,p,!1,!0),J(e,!0,-1),e.checkLineBreaks&&v.test(e.input.slice(o,e.position))&&j(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&X(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,J(e,!0,-1)):e.position<e.length-1&&_(e,"end of the stream or a document separator is expected")}function re(e,t){e=String(e),t=t||{},0!==e.length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new B(e,t);n.input+="\0";while(32===n.input.charCodeAt(n.position))n.lineIndent+=1,n.position+=1;while(n.position<n.length-1)ne(n);return n.documents}function ie(e,t,n){var r,i,o=re(e,n);if("function"!==typeof t)return o;for(r=0,i=o.length;r<i;r+=1)t(o[r])}function oe(e,t){var n=re(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new i("expected a single document in the stream, but found more")}}function ae(e,t,n){if("function"!==typeof t)return ie(e,r.extend({schema:a},n));ie(e,t,r.extend({schema:a},n))}function se(e,t){return oe(e,r.extend({schema:a},t))}e.exports.loadAll=ie,e.exports.load=oe,e.exports.safeLoadAll=ae,e.exports.safeLoad=se},function(e,t,n){"use strict";var r=n(19);function i(e,t,n,r,i){this.name=e,this.buffer=t,this.position=n,this.line=r,this.column=i}i.prototype.getSnippet=function(e,t){var n,i,o,a,s;if(!this.buffer)return null;e=e||4,t=t||75,n="",i=this.position;while(i>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1)))if(i-=1,this.position-i>t/2-1){n=" ... ",i+=5;break}o="",a=this.position;while(a<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(a)))if(a+=1,a-this.position>t/2-1){o=" ... ",a-=5;break}return s=this.buffer.slice(i,a),r.repeat(" ",e)+n+s+o+"\n"+r.repeat(" ",e+this.position-i+n.length)+"^"},i.prototype.toString=function(e){var t,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet(),t&&(n+=":\n"+t)),n},e.exports=i},function(e,t,n){"use strict";var r=n(4);e.exports=new r("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},function(e,t,n){"use strict";var r=n(4);e.exports=new r("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},function(e,t,n){"use strict";var r=n(4);e.exports=new r("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},function(e,t,n){"use strict";var r=n(4);function i(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)}function o(){return null}function a(e){return null===e}e.exports=new r("tag:yaml.org,2002:null",{kind:"scalar",resolve:i,construct:o,predicate:a,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(e,t,n){"use strict";var r=n(4);function i(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)}function o(e){return"true"===e||"True"===e||"TRUE"===e}function a(e){return"[object Boolean]"===Object.prototype.toString.call(e)}e.exports=new r("tag:yaml.org,2002:bool",{kind:"scalar",resolve:i,construct:o,predicate:a,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},function(e,t,n){"use strict";var r=n(19),i=n(4);function o(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function a(e){return 48<=e&&e<=55}function s(e){return 48<=e&&e<=57}function u(e){if(null===e)return!1;var t,n=e.length,r=0,i=!1;if(!n)return!1;if(t=e[r],"-"!==t&&"+"!==t||(t=e[++r]),"0"===t){if(r+1===n)return!0;if(t=e[++r],"b"===t){for(r++;r<n;r++)if(t=e[r],"_"!==t){if("0"!==t&&"1"!==t)return!1;i=!0}return i&&"_"!==t}if("x"===t){for(r++;r<n;r++)if(t=e[r],"_"!==t){if(!o(e.charCodeAt(r)))return!1;i=!0}return i&&"_"!==t}for(;r<n;r++)if(t=e[r],"_"!==t){if(!a(e.charCodeAt(r)))return!1;i=!0}return i&&"_"!==t}if("_"===t)return!1;for(;r<n;r++)if(t=e[r],"_"!==t){if(":"===t)break;if(!s(e.charCodeAt(r)))return!1;i=!0}return!(!i||"_"===t)&&(":"!==t||/^(:[0-5]?[0-9])+$/.test(e.slice(r)))}function c(e){var t,n,r=e,i=1,o=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),t=r[0],"-"!==t&&"+"!==t||("-"===t&&(i=-1),r=r.slice(1),t=r[0]),"0"===r?0:"0"===t?"b"===r[1]?i*parseInt(r.slice(2),2):"x"===r[1]?i*parseInt(r,16):i*parseInt(r,8):-1!==r.indexOf(":")?(r.split(":").forEach(function(e){o.unshift(parseInt(e,10))}),r=0,n=1,o.forEach(function(e){r+=e*n,n*=60}),i*r):i*parseInt(r,10)}function l(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1===0&&!r.isNegativeZero(e)}e.exports=new i("tag:yaml.org,2002:int",{kind:"scalar",resolve:u,construct:c,predicate:l,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(e,t,n){"use strict";var r=n(19),i=n(4),o=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function a(e){return null!==e&&!(!o.test(e)||"_"===e[e.length-1])}function s(e){var t,n,r,i;return t=e.replace(/_/g,"").toLowerCase(),n="-"===t[0]?-1:1,i=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:t.indexOf(":")>=0?(t.split(":").forEach(function(e){i.unshift(parseFloat(e,10))}),t=0,r=1,i.forEach(function(e){t+=e*r,r*=60}),n*t):n*parseFloat(t,10)}var u=/^[-+]?[0-9]+e/;function c(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(r.isNegativeZero(e))return"-0.0";return n=e.toString(10),u.test(n)?n.replace("e",".e"):n}function l(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!==0||r.isNegativeZero(e))}e.exports=new i("tag:yaml.org,2002:float",{kind:"scalar",resolve:a,construct:s,predicate:l,represent:c,defaultStyle:"lowercase"})},function(e,t,n){"use strict";var r=n(4),i=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function a(e){return null!==e&&(null!==i.exec(e)||null!==o.exec(e))}function s(e){var t,n,r,a,s,u,c,l,h,p,f=0,d=null;if(t=i.exec(e),null===t&&(t=o.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(n,r,a));if(s=+t[4],u=+t[5],c=+t[6],t[7]){f=t[7].slice(0,3);while(f.length<3)f+="0";f=+f}return t[9]&&(l=+t[10],h=+(t[11]||0),d=6e4*(60*l+h),"-"===t[9]&&(d=-d)),p=new Date(Date.UTC(n,r,a,s,u,c,f)),d&&p.setTime(p.getTime()-d),p}function u(e){return e.toISOString()}e.exports=new r("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:a,construct:s,instanceOf:Date,represent:u})},function(e,t,n){"use strict";var r=n(4);function i(e){return"<<"===e||null===e}e.exports=new r("tag:yaml.org,2002:merge",{kind:"scalar",resolve:i})},function(e,t,n){"use strict";var r;try{r=n(84).Buffer}catch(l){}var i=n(4),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function a(e){if(null===e)return!1;var t,n,r=0,i=e.length,a=o;for(n=0;n<i;n++)if(t=a.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}function s(e){var t,n,i=e.replace(/[\r\n=]/g,""),a=i.length,s=o,u=0,c=[];for(t=0;t<a;t++)t%4===0&&t&&(c.push(u>>16&255),c.push(u>>8&255),c.push(255&u)),u=u<<6|s.indexOf(i.charAt(t));return n=a%4*6,0===n?(c.push(u>>16&255),c.push(u>>8&255),c.push(255&u)):18===n?(c.push(u>>10&255),c.push(u>>2&255)):12===n&&c.push(u>>4&255),r?r.from?r.from(c):new r(c):c}function u(e){var t,n,r="",i=0,a=e.length,s=o;for(t=0;t<a;t++)t%3===0&&t&&(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]),i=(i<<8)+e[t];return n=a%3,0===n?(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]):2===n?(r+=s[i>>10&63],r+=s[i>>4&63],r+=s[i<<2&63],r+=s[64]):1===n&&(r+=s[i>>2&63],r+=s[i<<4&63],r+=s[64],r+=s[64]),r}function c(e){return r&&r.isBuffer(e)}e.exports=new i("tag:yaml.org,2002:binary",{kind:"scalar",resolve:a,construct:s,predicate:c,represent:u})},function(e,t){e.exports=require("buffer")},function(e,t,n){"use strict";var r=n(4),i=Object.prototype.hasOwnProperty,o=Object.prototype.toString;function a(e){if(null===e)return!0;var t,n,r,a,s,u=[],c=e;for(t=0,n=c.length;t<n;t+=1){if(r=c[t],s=!1,"[object Object]"!==o.call(r))return!1;for(a in r)if(i.call(r,a)){if(s)return!1;s=!0}if(!s)return!1;if(-1!==u.indexOf(a))return!1;u.push(a)}return!0}function s(e){return null!==e?e:[]}e.exports=new r("tag:yaml.org,2002:omap",{kind:"sequence",resolve:a,construct:s})},function(e,t,n){"use strict";var r=n(4),i=Object.prototype.toString;function o(e){if(null===e)return!0;var t,n,r,o,a,s=e;for(a=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],"[object Object]"!==i.call(r))return!1;if(o=Object.keys(r),1!==o.length)return!1;a[t]=[o[0],r[o[0]]]}return!0}function a(e){if(null===e)return[];var t,n,r,i,o,a=e;for(o=new Array(a.length),t=0,n=a.length;t<n;t+=1)r=a[t],i=Object.keys(r),o[t]=[i[0],r[i[0]]];return o}e.exports=new r("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:o,construct:a})},function(e,t,n){"use strict";var r=n(4),i=Object.prototype.hasOwnProperty;function o(e){if(null===e)return!0;var t,n=e;for(t in n)if(i.call(n,t)&&null!==n[t])return!1;return!0}function a(e){return null!==e?e:{}}e.exports=new r("tag:yaml.org,2002:set",{kind:"mapping",resolve:o,construct:a})},function(e,t,n){"use strict";var r=n(4);function i(){return!0}function o(){}function a(){return""}function s(e){return"undefined"===typeof e}e.exports=new r("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:i,construct:o,predicate:s,represent:a})},function(e,t,n){"use strict";var r=n(4);function i(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,n=/\/([gim]*)$/.exec(e),r="";if("/"===t[0]){if(n&&(r=n[1]),r.length>3)return!1;if("/"!==t[t.length-r.length-1])return!1}return!0}function o(e){var t=e,n=/\/([gim]*)$/.exec(e),r="";return"/"===t[0]&&(n&&(r=n[1]),t=t.slice(1,t.length-r.length-1)),new RegExp(t,r)}function a(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}function s(e){return"[object RegExp]"===Object.prototype.toString.call(e)}e.exports=new r("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:i,construct:o,predicate:s,represent:a})},function(e,t,n){"use strict";var r;try{r=n(91)}catch(c){"undefined"!==typeof window&&(r=window.esprima)}var i=n(4);function o(e){if(null===e)return!1;try{var t="("+e+")",n=r.parse(t,{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&("ArrowFunctionExpression"===n.body[0].expression.type||"FunctionExpression"===n.body[0].expression.type)}catch(i){return!1}}function a(e){var t,n="("+e+")",i=r.parse(n,{range:!0}),o=[];if("Program"!==i.type||1!==i.body.length||"ExpressionStatement"!==i.body[0].type||"ArrowFunctionExpression"!==i.body[0].expression.type&&"FunctionExpression"!==i.body[0].expression.type)throw new Error("Failed to resolve function");return i.body[0].expression.params.forEach(function(e){o.push(e.name)}),t=i.body[0].expression.body.range,"BlockStatement"===i.body[0].expression.body.type?new Function(o,n.slice(t[0]+1,t[1]-1)):new Function(o,"return "+n.slice(t[0],t[1]))}function s(e){return e.toString()}function u(e){return"[object Function]"===Object.prototype.toString.call(e)}e.exports=new i("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:o,construct:a,predicate:u,represent:s})},function(e,t,n){(function(t,n){e.exports=n()})(0,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(3),o=n(8),a=n(15);function s(e,t,n){var a=null,s=function(e,t){n&&n(e,t),a&&a.visit(e,t)},u="function"===typeof n?s:null,c=!1;if(t){c="boolean"===typeof t.comment&&t.comment;var l="boolean"===typeof t.attachComment&&t.attachComment;(c||l)&&(a=new r.CommentHandler,a.attach=l,t.comment=!0,u=s)}var h,p=!1;t&&"string"===typeof t.sourceType&&(p="module"===t.sourceType),h=t&&"boolean"===typeof t.jsx&&t.jsx?new i.JSXParser(e,t,u):new o.Parser(e,t,u);var f=p?h.parseModule():h.parseScript(),d=f;return c&&a&&(d.comments=a.comments),h.config.tokens&&(d.tokens=h.tokens),h.config.tolerant&&(d.errors=h.errorHandler.errors),d}function u(e,t,n){var r=t||{};return r.sourceType="module",s(e,r,n)}function c(e,t,n){var r=t||{};return r.sourceType="script",s(e,r,n)}function l(e,t,n){var r,i=new a.Tokenizer(e,t);r=[];try{while(1){var o=i.getNextToken();if(!o)break;n&&(o=n(o)),r.push(o)}}catch(s){i.errorHandler.tolerate(s)}return i.errorHandler.tolerant&&(r.errors=i.errors()),r}t.parse=s,t.parseModule=u,t.parseScript=c,t.tokenize=l;var h=n(2);t.Syntax=h.Syntax,t.version="4.0.1"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(){function e(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return e.prototype.insertInnerComments=function(e,t){if(e.type===r.Syntax.BlockStatement&&0===e.body.length){for(var n=[],i=this.leading.length-1;i>=0;--i){var o=this.leading[i];t.end.offset>=o.start&&(n.unshift(o.comment),this.leading.splice(i,1),this.trailing.splice(i,1))}n.length&&(e.innerComments=n)}},e.prototype.findTrailingComments=function(e){var t=[];if(this.trailing.length>0){for(var n=this.trailing.length-1;n>=0;--n){var r=this.trailing[n];r.start>=e.end.offset&&t.unshift(r.comment)}return this.trailing.length=0,t}var i=this.stack[this.stack.length-1];if(i&&i.node.trailingComments){var o=i.node.trailingComments[0];o&&o.range[0]>=e.end.offset&&(t=i.node.trailingComments,delete i.node.trailingComments)}return t},e.prototype.findLeadingComments=function(e){var t,n=[];while(this.stack.length>0){var r=this.stack[this.stack.length-1];if(!(r&&r.start>=e.start.offset))break;t=r.node,this.stack.pop()}if(t){for(var i=t.leadingComments?t.leadingComments.length:0,o=i-1;o>=0;--o){var a=t.leadingComments[o];a.range[1]<=e.start.offset&&(n.unshift(a),t.leadingComments.splice(o,1))}return t.leadingComments&&0===t.leadingComments.length&&delete t.leadingComments,n}for(o=this.leading.length-1;o>=0;--o){r=this.leading[o];r.start<=e.start.offset&&(n.unshift(r.comment),this.leading.splice(o,1))}return n},e.prototype.visitNode=function(e,t){if(!(e.type===r.Syntax.Program&&e.body.length>0)){this.insertInnerComments(e,t);var n=this.findTrailingComments(t),i=this.findLeadingComments(t);i.length>0&&(e.leadingComments=i),n.length>0&&(e.trailingComments=n),this.stack.push({node:e,start:t.start.offset})}},e.prototype.visitComment=function(e,t){var n="L"===e.type[0]?"Line":"Block",r={type:n,value:e.value};if(e.range&&(r.range=e.range),e.loc&&(r.loc=e.loc),this.comments.push(r),this.attach){var i={comment:{type:n,value:e.value,range:[t.start.offset,t.end.offset]},start:t.start.offset};e.loc&&(i.comment.loc=e.loc),e.type=n,this.leading.push(i),this.trailing.push(i)}},e.prototype.visit=function(e,t){"LineComment"===e.type?this.visitComment(e,t):"BlockComment"===e.type?this.visitComment(e,t):this.attach&&this.visitNode(e,t)},e}();t.CommentHandler=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(5),a=n(6),s=n(7),u=n(8),c=n(13),l=n(14);function h(e){var t;switch(e.type){case a.JSXSyntax.JSXIdentifier:var n=e;t=n.name;break;case a.JSXSyntax.JSXNamespacedName:var r=e;t=h(r.namespace)+":"+h(r.name);break;case a.JSXSyntax.JSXMemberExpression:var i=e;t=h(i.object)+"."+h(i.property);break;default:break}return t}c.TokenName[100]="JSXIdentifier",c.TokenName[101]="JSXText";var p=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}return r(t,e),t.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():e.prototype.parsePrimaryExpression.call(this)},t.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},t.prototype.finishJSX=function(){this.nextToken()},t.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},t.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.scanXHTMLEntity=function(e){var t="&",n=!0,r=!1,o=!1,a=!1;while(!this.scanner.eof()&&n&&!r){var s=this.scanner.source[this.scanner.index];if(s===e)break;if(r=";"===s,t+=s,++this.scanner.index,!r)switch(t.length){case 2:o="#"===s;break;case 3:o&&(a="x"===s,n=a||i.Character.isDecimalDigit(s.charCodeAt(0)),o=o&&!a);break;default:n=n&&!(o&&!i.Character.isDecimalDigit(s.charCodeAt(0))),n=n&&!(a&&!i.Character.isHexDigit(s.charCodeAt(0)));break}}if(n&&r&&t.length>2){var u=t.substr(1,t.length-2);o&&u.length>1?t=String.fromCharCode(parseInt(u.substr(1),10)):a&&u.length>2?t=String.fromCharCode(parseInt("0"+u.substr(1),16)):o||a||!l.XHTMLEntities[u]||(t=l.XHTMLEntities[u])}return t},t.prototype.lexJSX=function(){var e=this.scanner.source.charCodeAt(this.scanner.index);if(60===e||62===e||47===e||58===e||61===e||123===e||125===e){var t=this.scanner.source[this.scanner.index++];return{type:7,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(34===e||39===e){var n=this.scanner.index,r=this.scanner.source[this.scanner.index++],o="";while(!this.scanner.eof()){var a=this.scanner.source[this.scanner.index++];if(a===r)break;o+="&"===a?this.scanXHTMLEntity(r):a}return{type:8,value:o,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:n,end:this.scanner.index}}if(46===e){var s=this.scanner.source.charCodeAt(this.scanner.index+1),u=this.scanner.source.charCodeAt(this.scanner.index+2);t=46===s&&46===u?"...":".",n=this.scanner.index;return this.scanner.index+=t.length,{type:7,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:n,end:this.scanner.index}}if(96===e)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(i.Character.isIdentifierStart(e)&&92!==e){n=this.scanner.index;++this.scanner.index;while(!this.scanner.eof()){a=this.scanner.source.charCodeAt(this.scanner.index);if(i.Character.isIdentifierPart(a)&&92!==a)++this.scanner.index;else{if(45!==a)break;++this.scanner.index}}var c=this.scanner.source.slice(n,this.scanner.index);return{type:100,value:c,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:n,end:this.scanner.index}}return this.scanner.lex()},t.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var e=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(e)),e},t.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var e=this.scanner.index,t="";while(!this.scanner.eof()){var n=this.scanner.source[this.scanner.index];if("{"===n||"<"===n)break;++this.scanner.index,t+=n,i.Character.isLineTerminator(n.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===n&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var r={type:101,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index};return t.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(r)),r},t.prototype.peekJSXToken=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.lexJSX();return this.scanner.restoreState(e),t},t.prototype.expectJSX=function(e){var t=this.nextJSXToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},t.prototype.matchJSX=function(e){var t=this.peekJSXToken();return 7===t.type&&t.value===e},t.prototype.parseJSXIdentifier=function(){var e=this.createJSXNode(),t=this.nextJSXToken();return 100!==t.type&&this.throwUnexpectedToken(t),this.finalize(e,new o.JSXIdentifier(t.value))},t.prototype.parseJSXElementName=function(){var e=this.createJSXNode(),t=this.parseJSXIdentifier();if(this.matchJSX(":")){var n=t;this.expectJSX(":");var r=this.parseJSXIdentifier();t=this.finalize(e,new o.JSXNamespacedName(n,r))}else if(this.matchJSX("."))while(this.matchJSX(".")){var i=t;this.expectJSX(".");var a=this.parseJSXIdentifier();t=this.finalize(e,new o.JSXMemberExpression(i,a))}return t},t.prototype.parseJSXAttributeName=function(){var e,t=this.createJSXNode(),n=this.parseJSXIdentifier();if(this.matchJSX(":")){var r=n;this.expectJSX(":");var i=this.parseJSXIdentifier();e=this.finalize(t,new o.JSXNamespacedName(r,i))}else e=n;return e},t.prototype.parseJSXStringLiteralAttribute=function(){var e=this.createJSXNode(),t=this.nextJSXToken();8!==t.type&&this.throwUnexpectedToken(t);var n=this.getTokenRaw(t);return this.finalize(e,new s.Literal(t.value,n))},t.prototype.parseJSXExpressionAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new o.JSXExpressionContainer(t))},t.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},t.prototype.parseJSXNameValueAttribute=function(){var e=this.createJSXNode(),t=this.parseJSXAttributeName(),n=null;return this.matchJSX("=")&&(this.expectJSX("="),n=this.parseJSXAttributeValue()),this.finalize(e,new o.JSXAttribute(t,n))},t.prototype.parseJSXSpreadAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new o.JSXSpreadAttribute(t))},t.prototype.parseJSXAttributes=function(){var e=[];while(!this.matchJSX("/")&&!this.matchJSX(">")){var t=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();e.push(t)}return e},t.prototype.parseJSXOpeningElement=function(){var e=this.createJSXNode();this.expectJSX("<");var t=this.parseJSXElementName(),n=this.parseJSXAttributes(),r=this.matchJSX("/");return r&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new o.JSXOpeningElement(t,r,n))},t.prototype.parseJSXBoundaryElement=function(){var e=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var t=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(e,new o.JSXClosingElement(t))}var n=this.parseJSXElementName(),r=this.parseJSXAttributes(),i=this.matchJSX("/");return i&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new o.JSXOpeningElement(n,i,r))},t.prototype.parseJSXEmptyExpression=function(){var e=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(e,new o.JSXEmptyExpression)},t.prototype.parseJSXExpressionContainer=function(){var e,t=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(e=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),e=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(t,new o.JSXExpressionContainer(e))},t.prototype.parseJSXChildren=function(){var e=[];while(!this.scanner.eof()){var t=this.createJSXChildNode(),n=this.nextJSXText();if(n.start<n.end){var r=this.getTokenRaw(n),i=this.finalize(t,new o.JSXText(n.value,r));e.push(i)}if("{"!==this.scanner.source[this.scanner.index])break;var a=this.parseJSXExpressionContainer();e.push(a)}return e},t.prototype.parseComplexJSXElement=function(e){var t=[];while(!this.scanner.eof()){e.children=e.children.concat(this.parseJSXChildren());var n=this.createJSXChildNode(),r=this.parseJSXBoundaryElement();if(r.type===a.JSXSyntax.JSXOpeningElement){var i=r;if(i.selfClosing){var s=this.finalize(n,new o.JSXElement(i,[],null));e.children.push(s)}else t.push(e),e={node:n,opening:i,closing:null,children:[]}}if(r.type===a.JSXSyntax.JSXClosingElement){e.closing=r;var u=h(e.opening.name),c=h(e.closing.name);if(u!==c&&this.tolerateError("Expected corresponding JSX closing tag for %0",u),!(t.length>0))break;s=this.finalize(e.node,new o.JSXElement(e.opening,e.children,e.closing));e=t[t.length-1],e.children.push(s),t.pop()}}return e},t.prototype.parseJSXElement=function(){var e=this.createJSXNode(),t=this.parseJSXOpeningElement(),n=[],r=null;if(!t.selfClosing){var i=this.parseComplexJSXElement({node:e,opening:t,closing:r,children:n});n=i.children,r=i.closing}return this.finalize(e,new o.JSXElement(t,n,r))},t.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var e=this.parseJSXElement();return this.finishJSX(),e},t.prototype.isStartOfExpression=function(){return e.prototype.isStartOfExpression.call(this)||this.match("<")},t}(u.Parser);t.JSXParser=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};t.Character={fromCodePoint:function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&n.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(e))},isIdentifierPart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&n.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(e))},isDecimalDigit:function(e){return e>=48&&e<=57},isHexDigit:function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102},isOctalDigit:function(e){return e>=48&&e<=55}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=function(){function e(e){this.type=r.JSXSyntax.JSXClosingElement,this.name=e}return e}();t.JSXClosingElement=i;var o=function(){function e(e,t,n){this.type=r.JSXSyntax.JSXElement,this.openingElement=e,this.children=t,this.closingElement=n}return e}();t.JSXElement=o;var a=function(){function e(){this.type=r.JSXSyntax.JSXEmptyExpression}return e}();t.JSXEmptyExpression=a;var s=function(){function e(e){this.type=r.JSXSyntax.JSXExpressionContainer,this.expression=e}return e}();t.JSXExpressionContainer=s;var u=function(){function e(e){this.type=r.JSXSyntax.JSXIdentifier,this.name=e}return e}();t.JSXIdentifier=u;var c=function(){function e(e,t){this.type=r.JSXSyntax.JSXMemberExpression,this.object=e,this.property=t}return e}();t.JSXMemberExpression=c;var l=function(){function e(e,t){this.type=r.JSXSyntax.JSXAttribute,this.name=e,this.value=t}return e}();t.JSXAttribute=l;var h=function(){function e(e,t){this.type=r.JSXSyntax.JSXNamespacedName,this.namespace=e,this.name=t}return e}();t.JSXNamespacedName=h;var p=function(){function e(e,t,n){this.type=r.JSXSyntax.JSXOpeningElement,this.name=e,this.selfClosing=t,this.attributes=n}return e}();t.JSXOpeningElement=p;var f=function(){function e(e){this.type=r.JSXSyntax.JSXSpreadAttribute,this.argument=e}return e}();t.JSXSpreadAttribute=f;var d=function(){function e(e,t){this.type=r.JSXSyntax.JSXText,this.value=e,this.raw=t}return e}();t.JSXText=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(){function e(e){this.type=r.Syntax.ArrayExpression,this.elements=e}return e}();t.ArrayExpression=i;var o=function(){function e(e){this.type=r.Syntax.ArrayPattern,this.elements=e}return e}();t.ArrayPattern=o;var a=function(){function e(e,t,n){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!1}return e}();t.ArrowFunctionExpression=a;var s=function(){function e(e,t,n){this.type=r.Syntax.AssignmentExpression,this.operator=e,this.left=t,this.right=n}return e}();t.AssignmentExpression=s;var u=function(){function e(e,t){this.type=r.Syntax.AssignmentPattern,this.left=e,this.right=t}return e}();t.AssignmentPattern=u;var c=function(){function e(e,t,n){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!0}return e}();t.AsyncArrowFunctionExpression=c;var l=function(){function e(e,t,n){this.type=r.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0}return e}();t.AsyncFunctionDeclaration=l;var h=function(){function e(e,t,n){this.type=r.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0}return e}();t.AsyncFunctionExpression=h;var p=function(){function e(e){this.type=r.Syntax.AwaitExpression,this.argument=e}return e}();t.AwaitExpression=p;var f=function(){function e(e,t,n){var i="||"===e||"&&"===e;this.type=i?r.Syntax.LogicalExpression:r.Syntax.BinaryExpression,this.operator=e,this.left=t,this.right=n}return e}();t.BinaryExpression=f;var d=function(){function e(e){this.type=r.Syntax.BlockStatement,this.body=e}return e}();t.BlockStatement=d;var m=function(){function e(e){this.type=r.Syntax.BreakStatement,this.label=e}return e}();t.BreakStatement=m;var y=function(){function e(e,t){this.type=r.Syntax.CallExpression,this.callee=e,this.arguments=t}return e}();t.CallExpression=y;var v=function(){function e(e,t){this.type=r.Syntax.CatchClause,this.param=e,this.body=t}return e}();t.CatchClause=v;var x=function(){function e(e){this.type=r.Syntax.ClassBody,this.body=e}return e}();t.ClassBody=x;var g=function(){function e(e,t,n){this.type=r.Syntax.ClassDeclaration,this.id=e,this.superClass=t,this.body=n}return e}();t.ClassDeclaration=g;var D=function(){function e(e,t,n){this.type=r.Syntax.ClassExpression,this.id=e,this.superClass=t,this.body=n}return e}();t.ClassExpression=D;var w=function(){function e(e,t){this.type=r.Syntax.MemberExpression,this.computed=!0,this.object=e,this.property=t}return e}();t.ComputedMemberExpression=w;var b=function(){function e(e,t,n){this.type=r.Syntax.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n}return e}();t.ConditionalExpression=b;var E=function(){function e(e){this.type=r.Syntax.ContinueStatement,this.label=e}return e}();t.ContinueStatement=E;var S=function(){function e(){this.type=r.Syntax.DebuggerStatement}return e}();t.DebuggerStatement=S;var C=function(){function e(e,t){this.type=r.Syntax.ExpressionStatement,this.expression=e,this.directive=t}return e}();t.Directive=C;var k=function(){function e(e,t){this.type=r.Syntax.DoWhileStatement,this.body=e,this.test=t}return e}();t.DoWhileStatement=k;var A=function(){function e(){this.type=r.Syntax.EmptyStatement}return e}();t.EmptyStatement=A;var F=function(){function e(e){this.type=r.Syntax.ExportAllDeclaration,this.source=e}return e}();t.ExportAllDeclaration=F;var O=function(){function e(e){this.type=r.Syntax.ExportDefaultDeclaration,this.declaration=e}return e}();t.ExportDefaultDeclaration=O;var T=function(){function e(e,t,n){this.type=r.Syntax.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=n}return e}();t.ExportNamedDeclaration=T;var P=function(){function e(e,t){this.type=r.Syntax.ExportSpecifier,this.exported=t,this.local=e}return e}();t.ExportSpecifier=P;var I=function(){function e(e){this.type=r.Syntax.ExpressionStatement,this.expression=e}return e}();t.ExpressionStatement=I;var B=function(){function e(e,t,n){this.type=r.Syntax.ForInStatement,this.left=e,this.right=t,this.body=n,this.each=!1}return e}();t.ForInStatement=B;var N=function(){function e(e,t,n){this.type=r.Syntax.ForOfStatement,this.left=e,this.right=t,this.body=n}return e}();t.ForOfStatement=N;var _=function(){function e(e,t,n,i){this.type=r.Syntax.ForStatement,this.init=e,this.test=t,this.update=n,this.body=i}return e}();t.ForStatement=_;var j=function(){function e(e,t,n,i){this.type=r.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=i,this.expression=!1,this.async=!1}return e}();t.FunctionDeclaration=j;var R=function(){function e(e,t,n,i){this.type=r.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=i,this.expression=!1,this.async=!1}return e}();t.FunctionExpression=R;var M=function(){function e(e){this.type=r.Syntax.Identifier,this.name=e}return e}();t.Identifier=M;var U=function(){function e(e,t,n){this.type=r.Syntax.IfStatement,this.test=e,this.consequent=t,this.alternate=n}return e}();t.IfStatement=U;var L=function(){function e(e,t){this.type=r.Syntax.ImportDeclaration,this.specifiers=e,this.source=t}return e}();t.ImportDeclaration=L;var z=function(){function e(e){this.type=r.Syntax.ImportDefaultSpecifier,this.local=e}return e}();t.ImportDefaultSpecifier=z;var J=function(){function e(e){this.type=r.Syntax.ImportNamespaceSpecifier,this.local=e}return e}();t.ImportNamespaceSpecifier=J;var X=function(){function e(e,t){this.type=r.Syntax.ImportSpecifier,this.local=e,this.imported=t}return e}();t.ImportSpecifier=X;var q=function(){function e(e,t){this.type=r.Syntax.LabeledStatement,this.label=e,this.body=t}return e}();t.LabeledStatement=q;var H=function(){function e(e,t){this.type=r.Syntax.Literal,this.value=e,this.raw=t}return e}();t.Literal=H;var K=function(){function e(e,t){this.type=r.Syntax.MetaProperty,this.meta=e,this.property=t}return e}();t.MetaProperty=K;var W=function(){function e(e,t,n,i,o){this.type=r.Syntax.MethodDefinition,this.key=e,this.computed=t,this.value=n,this.kind=i,this.static=o}return e}();t.MethodDefinition=W;var G=function(){function e(e){this.type=r.Syntax.Program,this.body=e,this.sourceType="module"}return e}();t.Module=G;var V=function(){function e(e,t){this.type=r.Syntax.NewExpression,this.callee=e,this.arguments=t}return e}();t.NewExpression=V;var Y=function(){function e(e){this.type=r.Syntax.ObjectExpression,this.properties=e}return e}();t.ObjectExpression=Y;var $=function(){function e(e){this.type=r.Syntax.ObjectPattern,this.properties=e}return e}();t.ObjectPattern=$;var Z=function(){function e(e,t,n,i,o,a){this.type=r.Syntax.Property,this.key=t,this.computed=n,this.value=i,this.kind=e,this.method=o,this.shorthand=a}return e}();t.Property=Z;var Q=function(){function e(e,t,n,i){this.type=r.Syntax.Literal,this.value=e,this.raw=t,this.regex={pattern:n,flags:i}}return e}();t.RegexLiteral=Q;var ee=function(){function e(e){this.type=r.Syntax.RestElement,this.argument=e}return e}();t.RestElement=ee;var te=function(){function e(e){this.type=r.Syntax.ReturnStatement,this.argument=e}return e}();t.ReturnStatement=te;var ne=function(){function e(e){this.type=r.Syntax.Program,this.body=e,this.sourceType="script"}return e}();t.Script=ne;var re=function(){function e(e){this.type=r.Syntax.SequenceExpression,this.expressions=e}return e}();t.SequenceExpression=re;var ie=function(){function e(e){this.type=r.Syntax.SpreadElement,this.argument=e}return e}();t.SpreadElement=ie;var oe=function(){function e(e,t){this.type=r.Syntax.MemberExpression,this.computed=!1,this.object=e,this.property=t}return e}();t.StaticMemberExpression=oe;var ae=function(){function e(){this.type=r.Syntax.Super}return e}();t.Super=ae;var se=function(){function e(e,t){this.type=r.Syntax.SwitchCase,this.test=e,this.consequent=t}return e}();t.SwitchCase=se;var ue=function(){function e(e,t){this.type=r.Syntax.SwitchStatement,this.discriminant=e,this.cases=t}return e}();t.SwitchStatement=ue;var ce=function(){function e(e,t){this.type=r.Syntax.TaggedTemplateExpression,this.tag=e,this.quasi=t}return e}();t.TaggedTemplateExpression=ce;var le=function(){function e(e,t){this.type=r.Syntax.TemplateElement,this.value=e,this.tail=t}return e}();t.TemplateElement=le;var he=function(){function e(e,t){this.type=r.Syntax.TemplateLiteral,this.quasis=e,this.expressions=t}return e}();t.TemplateLiteral=he;var pe=function(){function e(){this.type=r.Syntax.ThisExpression}return e}();t.ThisExpression=pe;var fe=function(){function e(e){this.type=r.Syntax.ThrowStatement,this.argument=e}return e}();t.ThrowStatement=fe;var de=function(){function e(e,t,n){this.type=r.Syntax.TryStatement,this.block=e,this.handler=t,this.finalizer=n}return e}();t.TryStatement=de;var me=function(){function e(e,t){this.type=r.Syntax.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0}return e}();t.UnaryExpression=me;var ye=function(){function e(e,t,n){this.type=r.Syntax.UpdateExpression,this.operator=e,this.argument=t,this.prefix=n}return e}();t.UpdateExpression=ye;var ve=function(){function e(e,t){this.type=r.Syntax.VariableDeclaration,this.declarations=e,this.kind=t}return e}();t.VariableDeclaration=ve;var xe=function(){function e(e,t){this.type=r.Syntax.VariableDeclarator,this.id=e,this.init=t}return e}();t.VariableDeclarator=xe;var ge=function(){function e(e,t){this.type=r.Syntax.WhileStatement,this.test=e,this.body=t}return e}();t.WhileStatement=ge;var De=function(){function e(e,t){this.type=r.Syntax.WithStatement,this.object=e,this.body=t}return e}();t.WithStatement=De;var we=function(){function e(e,t){this.type=r.Syntax.YieldExpression,this.argument=e,this.delegate=t}return e}();t.YieldExpression=we},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(10),o=n(11),a=n(7),s=n(12),u=n(2),c=n(13),l="ArrowParameterPlaceHolder",h=function(){function e(e,t,n){void 0===t&&(t={}),this.config={range:"boolean"===typeof t.range&&t.range,loc:"boolean"===typeof t.loc&&t.loc,source:null,tokens:"boolean"===typeof t.tokens&&t.tokens,comment:"boolean"===typeof t.comment&&t.comment,tolerant:"boolean"===typeof t.tolerant&&t.tolerant},this.config.loc&&t.source&&null!==t.source&&(this.config.source=String(t.source)),this.delegate=n,this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new s.Scanner(e,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return e.prototype.throwError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1),o=e.replace(/%(\d)/g,function(e,t){return r.assert(t<i.length,"Message reference must be in range"),i[t]}),a=this.lastMarker.index,s=this.lastMarker.line,u=this.lastMarker.column+1;throw this.errorHandler.createError(a,s,u,o)},e.prototype.tolerateError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1),o=e.replace(/%(\d)/g,function(e,t){return r.assert(t<i.length,"Message reference must be in range"),i[t]}),a=this.lastMarker.index,s=this.scanner.lineNumber,u=this.lastMarker.column+1;this.errorHandler.tolerateError(a,s,u,o)},e.prototype.unexpectedTokenError=function(e,t){var n,r=t||o.Messages.UnexpectedToken;if(e?(t||(r=2===e.type?o.Messages.UnexpectedEOS:3===e.type?o.Messages.UnexpectedIdentifier:6===e.type?o.Messages.UnexpectedNumber:8===e.type?o.Messages.UnexpectedString:10===e.type?o.Messages.UnexpectedTemplate:o.Messages.UnexpectedToken,4===e.type&&(this.scanner.isFutureReservedWord(e.value)?r=o.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(e.value)&&(r=o.Messages.StrictReservedWord))),n=e.value):n="ILLEGAL",r=r.replace("%0",n),e&&"number"===typeof e.lineNumber){var i=e.start,a=e.lineNumber,s=this.lastMarker.index-this.lastMarker.column,u=e.start-s+1;return this.errorHandler.createError(i,a,u,r)}i=this.lastMarker.index,a=this.lastMarker.line,u=this.lastMarker.column+1;return this.errorHandler.createError(i,a,u,r)},e.prototype.throwUnexpectedToken=function(e,t){throw this.unexpectedTokenError(e,t)},e.prototype.tolerateUnexpectedToken=function(e,t){this.errorHandler.tolerate(this.unexpectedTokenError(e,t))},e.prototype.collectComments=function(){if(this.config.comment){var e=this.scanner.scanComments();if(e.length>0&&this.delegate)for(var t=0;t<e.length;++t){var n=e[t],r=void 0;r={type:n.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(n.slice[0],n.slice[1])},this.config.range&&(r.range=n.range),this.config.loc&&(r.loc=n.loc);var i={start:{line:n.loc.start.line,column:n.loc.start.column,offset:n.range[0]},end:{line:n.loc.end.line,column:n.loc.end.column,offset:n.range[1]}};this.delegate(r,i)}}else this.scanner.scanComments()},e.prototype.getTokenRaw=function(e){return this.scanner.source.slice(e.start,e.end)},e.prototype.convertToken=function(e){var t={type:c.TokenName[e.type],value:this.getTokenRaw(e)};if(this.config.range&&(t.range=[e.start,e.end]),this.config.loc&&(t.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),9===e.type){var n=e.pattern,r=e.flags;t.regex={pattern:n,flags:r}}return t},e.prototype.nextToken=function(){var e=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var t=this.scanner.lex();return this.hasLineTerminator=e.lineNumber!==t.lineNumber,t&&this.context.strict&&3===t.type&&this.scanner.isStrictModeReservedWord(t.value)&&(t.type=4),this.lookahead=t,this.config.tokens&&2!==t.type&&this.tokens.push(this.convertToken(t)),e},e.prototype.nextRegexToken=function(){this.collectComments();var e=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(e))),this.lookahead=e,this.nextToken(),e},e.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},e.prototype.startNode=function(e,t){void 0===t&&(t=0);var n=e.start-e.lineStart,r=e.lineNumber;return n<0&&(n+=t,r--),{index:e.start,line:r,column:n}},e.prototype.finalize=function(e,t){if(this.config.range&&(t.range=[e.index,this.lastMarker.index]),this.config.loc&&(t.loc={start:{line:e.line,column:e.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(t.loc.source=this.config.source)),this.delegate){var n={start:{line:e.line,column:e.column,offset:e.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(t,n)}return t},e.prototype.expect=function(e){var t=this.nextToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var e=this.lookahead;7===e.type&&","===e.value?this.nextToken():7===e.type&&";"===e.value?(this.nextToken(),this.tolerateUnexpectedToken(e)):this.tolerateUnexpectedToken(e,o.Messages.UnexpectedToken)}else this.expect(",")},e.prototype.expectKeyword=function(e){var t=this.nextToken();4===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.match=function(e){return 7===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchKeyword=function(e){return 4===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchContextualKeyword=function(e){return 3===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var e=this.lookahead.value;return"="===e||"*="===e||"**="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e},e.prototype.isolateCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=e.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=t,this.context.isAssignmentTarget=n,this.context.firstCoverInitializedNameError=r,i},e.prototype.inheritCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=e.call(this);return this.context.isBindingElement=this.context.isBindingElement&&t,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&n,this.context.firstCoverInitializedNameError=r||this.context.firstCoverInitializedNameError,i},e.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},e.prototype.parsePrimaryExpression=function(){var e,t,n,r=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),e=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(r,new a.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,o.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new a.Literal(t.value,n));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new a.Literal("true"===t.value,n));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new a.Literal(null,n));break;case 10:e=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,e=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":e=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":e=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,t=this.nextRegexToken(),n=this.getTokenRaw(t),e=this.finalize(r,new a.RegexLiteral(t.regex,n,t.pattern,t.flags));break;default:e=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?e=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?e=this.finalize(r,new a.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?e=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),e=this.finalize(r,new a.ThisExpression)):e=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:e=this.throwUnexpectedToken(this.nextToken())}return e},e.prototype.parseSpreadElement=function(){var e=this.createNode();this.expect("...");var t=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(e,new a.SpreadElement(t))},e.prototype.parseArrayInitializer=function(){var e=this.createNode(),t=[];this.expect("[");while(!this.match("]"))if(this.match(","))this.nextToken(),t.push(null);else if(this.match("...")){var n=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),t.push(n)}else t.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(e,new a.ArrayExpression(t))},e.prototype.parsePropertyMethod=function(e){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var t=this.context.strict,n=this.context.allowStrictDirective;this.context.allowStrictDirective=e.simple;var r=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&e.firstRestricted&&this.tolerateUnexpectedToken(e.firstRestricted,e.message),this.context.strict&&e.stricted&&this.tolerateUnexpectedToken(e.stricted,e.message),this.context.strict=t,this.context.allowStrictDirective=n,r},e.prototype.parsePropertyMethodFunction=function(){var e=!1,t=this.createNode(),n=this.context.allowYield;this.context.allowYield=!0;var r=this.parseFormalParameters(),i=this.parsePropertyMethod(r);return this.context.allowYield=n,this.finalize(t,new a.FunctionExpression(null,r.params,i,e))},e.prototype.parsePropertyMethodAsyncFunction=function(){var e=this.createNode(),t=this.context.allowYield,n=this.context.await;this.context.allowYield=!1,this.context.await=!0;var r=this.parseFormalParameters(),i=this.parsePropertyMethod(r);return this.context.allowYield=t,this.context.await=n,this.finalize(e,new a.AsyncFunctionExpression(null,r.params,i))},e.prototype.parseObjectPropertyKey=function(){var e,t=this.createNode(),n=this.nextToken();switch(n.type){case 8:case 6:this.context.strict&&n.octal&&this.tolerateUnexpectedToken(n,o.Messages.StrictOctalLiteral);var r=this.getTokenRaw(n);e=this.finalize(t,new a.Literal(n.value,r));break;case 3:case 1:case 5:case 4:e=this.finalize(t,new a.Identifier(n.value));break;case 7:"["===n.value?(e=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):e=this.throwUnexpectedToken(n);break;default:e=this.throwUnexpectedToken(n)}return e},e.prototype.isPropertyKey=function(e,t){return e.type===u.Syntax.Identifier&&e.name===t||e.type===u.Syntax.Literal&&e.value===t},e.prototype.parseObjectProperty=function(e){var t,n=this.createNode(),r=this.lookahead,i=null,s=null,u=!1,c=!1,l=!1,h=!1;if(3===r.type){var p=r.value;this.nextToken(),u=this.match("["),h=!this.hasLineTerminator&&"async"===p&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","),i=h?this.parseObjectPropertyKey():this.finalize(n,new a.Identifier(p))}else this.match("*")?this.nextToken():(u=this.match("["),i=this.parseObjectPropertyKey());var f=this.qualifiedPropertyName(this.lookahead);if(3===r.type&&!h&&"get"===r.value&&f)t="get",u=this.match("["),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,s=this.parseGetterMethod();else if(3===r.type&&!h&&"set"===r.value&&f)t="set",u=this.match("["),i=this.parseObjectPropertyKey(),s=this.parseSetterMethod();else if(7===r.type&&"*"===r.value&&f)t="init",u=this.match("["),i=this.parseObjectPropertyKey(),s=this.parseGeneratorMethod(),c=!0;else if(i||this.throwUnexpectedToken(this.lookahead),t="init",this.match(":")&&!h)!u&&this.isPropertyKey(i,"__proto__")&&(e.value&&this.tolerateError(o.Messages.DuplicateProtoProperty),e.value=!0),this.nextToken(),s=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))s=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),c=!0;else if(3===r.type){p=this.finalize(n,new a.Identifier(r.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),l=!0;var d=this.isolateCoverGrammar(this.parseAssignmentExpression);s=this.finalize(n,new a.AssignmentPattern(p,d))}else l=!0,s=p}else this.throwUnexpectedToken(this.nextToken());return this.finalize(n,new a.Property(t,i,u,s,c,l))},e.prototype.parseObjectInitializer=function(){var e=this.createNode();this.expect("{");var t=[],n={value:!1};while(!this.match("}"))t.push(this.parseObjectProperty(n)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(e,new a.ObjectExpression(t))},e.prototype.parseTemplateHead=function(){r.assert(this.lookahead.head,"Template literal must start with a template head");var e=this.createNode(),t=this.nextToken(),n=t.value,i=t.cooked;return this.finalize(e,new a.TemplateElement({raw:n,cooked:i},t.tail))},e.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var e=this.createNode(),t=this.nextToken(),n=t.value,r=t.cooked;return this.finalize(e,new a.TemplateElement({raw:n,cooked:r},t.tail))},e.prototype.parseTemplateLiteral=function(){var e=this.createNode(),t=[],n=[],r=this.parseTemplateHead();n.push(r);while(!r.tail)t.push(this.parseExpression()),r=this.parseTemplateElement(),n.push(r);return this.finalize(e,new a.TemplateLiteral(n,t))},e.prototype.reinterpretExpressionAsPattern=function(e){switch(e.type){case u.Syntax.Identifier:case u.Syntax.MemberExpression:case u.Syntax.RestElement:case u.Syntax.AssignmentPattern:break;case u.Syntax.SpreadElement:e.type=u.Syntax.RestElement,this.reinterpretExpressionAsPattern(e.argument);break;case u.Syntax.ArrayExpression:e.type=u.Syntax.ArrayPattern;for(var t=0;t<e.elements.length;t++)null!==e.elements[t]&&this.reinterpretExpressionAsPattern(e.elements[t]);break;case u.Syntax.ObjectExpression:e.type=u.Syntax.ObjectPattern;for(t=0;t<e.properties.length;t++)this.reinterpretExpressionAsPattern(e.properties[t].value);break;case u.Syntax.AssignmentExpression:e.type=u.Syntax.AssignmentPattern,delete e.operator,this.reinterpretExpressionAsPattern(e.left);break;default:break}},e.prototype.parseGroupExpression=function(){var e;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),e={type:l,params:[],async:!1};else{var t=this.lookahead,n=[];if(this.match("..."))e=this.parseRestElement(n),this.expect(")"),this.match("=>")||this.expect("=>"),e={type:l,params:[e],async:!1};else{var r=!1;if(this.context.isBindingElement=!0,e=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var i=[];this.context.isAssignmentTarget=!1,i.push(e);while(2!==this.lookahead.type){if(!this.match(","))break;if(this.nextToken(),this.match(")")){this.nextToken();for(var o=0;o<i.length;o++)this.reinterpretExpressionAsPattern(i[o]);r=!0,e={type:l,params:i,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),i.push(this.parseRestElement(n)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(o=0;o<i.length;o++)this.reinterpretExpressionAsPattern(i[o]);r=!0,e={type:l,params:i,async:!1}}else i.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(r)break}r||(e=this.finalize(this.startNode(t),new a.SequenceExpression(i)))}if(!r){if(this.expect(")"),this.match("=>")&&(e.type===u.Syntax.Identifier&&"yield"===e.name&&(r=!0,e={type:l,params:[e],async:!1}),!r)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),e.type===u.Syntax.SequenceExpression)for(o=0;o<e.expressions.length;o++)this.reinterpretExpressionAsPattern(e.expressions[o]);else this.reinterpretExpressionAsPattern(e);var s=e.type===u.Syntax.SequenceExpression?e.expressions:[e];e={type:l,params:s,async:!1}}this.context.isBindingElement=!1}}}return e},e.prototype.parseArguments=function(){this.expect("(");var e=[];if(!this.match(")"))while(1){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.isIdentifierName=function(e){return 3===e.type||4===e.type||1===e.type||5===e.type},e.prototype.parseIdentifierName=function(){var e=this.createNode(),t=this.nextToken();return this.isIdentifierName(t)||this.throwUnexpectedToken(t),this.finalize(e,new a.Identifier(t.value))},e.prototype.parseNewExpression=function(){var e,t=this.createNode(),n=this.parseIdentifierName();if(r.assert("new"===n.name,"New expression must start with `new`"),this.match("."))if(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&"target"===this.lookahead.value){var i=this.parseIdentifierName();e=new a.MetaProperty(n,i)}else this.throwUnexpectedToken(this.lookahead);else{var o=this.isolateCoverGrammar(this.parseLeftHandSideExpression),s=this.match("(")?this.parseArguments():[];e=new a.NewExpression(o,s),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(t,e)},e.prototype.parseAsyncArgument=function(){var e=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,e},e.prototype.parseAsyncArguments=function(){this.expect("(");var e=[];if(!this.match(")"))while(1){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.parseLeftHandSideExpressionAllowCall=function(){var e,t=this.lookahead,n=this.matchContextualKeyword("async"),r=this.context.allowIn;this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(e=this.createNode(),this.nextToken(),e=this.finalize(e,new a.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):e=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);while(1)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var i=this.parseIdentifierName();e=this.finalize(this.startNode(t),new a.StaticMemberExpression(e,i))}else if(this.match("(")){var o=n&&t.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var s=o?this.parseAsyncArguments():this.parseArguments();if(e=this.finalize(this.startNode(t),new a.CallExpression(e,s)),o&&this.match("=>")){for(var u=0;u<s.length;++u)this.reinterpretExpressionAsPattern(s[u]);e={type:l,params:s,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");i=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),e=this.finalize(this.startNode(t),new a.ComputedMemberExpression(e,i))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;var c=this.parseTemplateLiteral();e=this.finalize(this.startNode(t),new a.TaggedTemplateExpression(e,c))}return this.context.allowIn=r,e},e.prototype.parseSuper=function(){var e=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(e,new a.Super)},e.prototype.parseLeftHandSideExpression=function(){r.assert(this.context.allowIn,"callee of new expression always allow in keyword.");var e=this.startNode(this.lookahead),t=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);while(1)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var n=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),t=this.finalize(e,new a.ComputedMemberExpression(t,n))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");n=this.parseIdentifierName();t=this.finalize(e,new a.StaticMemberExpression(t,n))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;var i=this.parseTemplateLiteral();t=this.finalize(e,new a.TaggedTemplateExpression(t,i))}return t},e.prototype.parseUpdateExpression=function(){var e,t=this.lookahead;if(this.match("++")||this.match("--")){var n=this.startNode(t),r=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&e.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment);var i=!0;e=this.finalize(n,new a.UpdateExpression(r.value,e,i)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(e=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&7===this.lookahead.type&&(this.match("++")||this.match("--"))){this.context.strict&&e.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var s=this.nextToken().value;i=!1;e=this.finalize(this.startNode(t),new a.UpdateExpression(s,e,i))}return e},e.prototype.parseAwaitExpression=function(){var e=this.createNode();this.nextToken();var t=this.parseUnaryExpression();return this.finalize(e,new a.AwaitExpression(t))},e.prototype.parseUnaryExpression=function(){var e;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var t=this.startNode(this.lookahead),n=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),e=this.finalize(t,new a.UnaryExpression(n.value,e)),this.context.strict&&"delete"===e.operator&&e.argument.type===u.Syntax.Identifier&&this.tolerateError(o.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else e=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return e},e.prototype.parseExponentiationExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseUnaryExpression);if(t.type!==u.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var n=t,r=this.isolateCoverGrammar(this.parseExponentiationExpression);t=this.finalize(this.startNode(e),new a.BinaryExpression("**",n,r))}return t},e.prototype.binaryPrecedence=function(e){var t,n=e.value;return t=7===e.type?this.operatorPrecedence[n]||0:4===e.type&&("instanceof"===n||this.context.allowIn&&"in"===n)?7:0,t},e.prototype.parseBinaryExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseExponentiationExpression),n=this.lookahead,r=this.binaryPrecedence(n);if(r>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var i=[e,this.lookahead],o=t,s=this.isolateCoverGrammar(this.parseExponentiationExpression),u=[o,n.value,s],c=[r];while(1){if(r=this.binaryPrecedence(this.lookahead),r<=0)break;while(u.length>2&&r<=c[c.length-1]){s=u.pop();var l=u.pop();c.pop(),o=u.pop(),i.pop();var h=this.startNode(i[i.length-1]);u.push(this.finalize(h,new a.BinaryExpression(l,o,s)))}u.push(this.nextToken().value),c.push(r),i.push(this.lookahead),u.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var p=u.length-1;t=u[p];var f=i.pop();while(p>1){var d=i.pop(),m=f&&f.lineStart;h=this.startNode(d,m),l=u[p-1];t=this.finalize(h,new a.BinaryExpression(l,u[p-2],t)),p-=2,f=d}}return t},e.prototype.parseConditionalExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var n=this.context.allowIn;this.context.allowIn=!0;var r=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=n,this.expect(":");var i=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(e),new a.ConditionalExpression(t,r,i)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return t},e.prototype.checkPatternParam=function(e,t){switch(t.type){case u.Syntax.Identifier:this.validateParam(e,t,t.name);break;case u.Syntax.RestElement:this.checkPatternParam(e,t.argument);break;case u.Syntax.AssignmentPattern:this.checkPatternParam(e,t.left);break;case u.Syntax.ArrayPattern:for(var n=0;n<t.elements.length;n++)null!==t.elements[n]&&this.checkPatternParam(e,t.elements[n]);break;case u.Syntax.ObjectPattern:for(n=0;n<t.properties.length;n++)this.checkPatternParam(e,t.properties[n].value);break;default:break}e.simple=e.simple&&t instanceof a.Identifier},e.prototype.reinterpretAsCoverFormalsList=function(e){var t,n=[e],r=!1;switch(e.type){case u.Syntax.Identifier:break;case l:n=e.params,r=e.async;break;default:return null}t={simple:!0,paramSet:{}};for(var i=0;i<n.length;++i){var a=n[i];a.type===u.Syntax.AssignmentPattern?a.right.type===u.Syntax.YieldExpression&&(a.right.argument&&this.throwUnexpectedToken(this.lookahead),a.right.type=u.Syntax.Identifier,a.right.name="yield",delete a.right.argument,delete a.right.delegate):r&&a.type===u.Syntax.Identifier&&"await"===a.name&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(t,a),n[i]=a}if(this.context.strict||!this.context.allowYield)for(i=0;i<n.length;++i){a=n[i];a.type===u.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(t.message===o.Messages.StrictParamDupe){var s=this.context.strict?t.stricted:t.firstRestricted;this.throwUnexpectedToken(s,t.message)}return{simple:t.simple,params:n,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.parseAssignmentExpression=function(){var e;if(!this.context.allowYield&&this.matchKeyword("yield"))e=this.parseYieldExpression();else{var t=this.lookahead,n=t;if(e=this.parseConditionalExpression(),3===n.type&&n.lineNumber===this.lookahead.lineNumber&&"async"===n.value&&(3===this.lookahead.type||this.matchKeyword("yield"))){var r=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(r),e={type:l,params:[r],async:!0}}if(e.type===l||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var i=e.async,s=this.reinterpretAsCoverFormalsList(e);if(s){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var c=this.context.strict,h=this.context.allowStrictDirective;this.context.allowStrictDirective=s.simple;var p=this.context.allowYield,f=this.context.await;this.context.allowYield=!0,this.context.await=i;var d=this.startNode(t);this.expect("=>");var m=void 0;if(this.match("{")){var y=this.context.allowIn;this.context.allowIn=!0,m=this.parseFunctionSourceElements(),this.context.allowIn=y}else m=this.isolateCoverGrammar(this.parseAssignmentExpression);var v=m.type!==u.Syntax.BlockStatement;this.context.strict&&s.firstRestricted&&this.throwUnexpectedToken(s.firstRestricted,s.message),this.context.strict&&s.stricted&&this.tolerateUnexpectedToken(s.stricted,s.message),e=i?this.finalize(d,new a.AsyncArrowFunctionExpression(s.params,m,v)):this.finalize(d,new a.ArrowFunctionExpression(s.params,m,v)),this.context.strict=c,this.context.allowStrictDirective=h,this.context.allowYield=p,this.context.await=f}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.strict&&e.type===u.Syntax.Identifier){var x=e;this.scanner.isRestrictedWord(x.name)&&this.tolerateUnexpectedToken(n,o.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(x.name)&&this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(e):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),n=this.nextToken();var g=n.value,D=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(t),new a.AssignmentExpression(g,e,D)),this.context.firstCoverInitializedNameError=null}}return e},e.prototype.parseExpression=function(){var e=this.lookahead,t=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var n=[];n.push(t);while(2!==this.lookahead.type){if(!this.match(","))break;this.nextToken(),n.push(this.isolateCoverGrammar(this.parseAssignmentExpression))}t=this.finalize(this.startNode(e),new a.SequenceExpression(n))}return t},e.prototype.parseStatementListItem=function(){var e;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,4===this.lookahead.type)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalExportDeclaration),e=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalImportDeclaration),e=this.parseImportDeclaration();break;case"const":e=this.parseLexicalDeclaration({inFor:!1});break;case"function":e=this.parseFunctionDeclaration();break;case"class":e=this.parseClassDeclaration();break;case"let":e=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:e=this.parseStatement();break}else e=this.parseStatement();return e},e.prototype.parseBlock=function(){var e=this.createNode();this.expect("{");var t=[];while(1){if(this.match("}"))break;t.push(this.parseStatementListItem())}return this.expect("}"),this.finalize(e,new a.BlockStatement(t))},e.prototype.parseLexicalBinding=function(e,t){var n=this.createNode(),r=[],i=this.parsePattern(r,e);this.context.strict&&i.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(i.name)&&this.tolerateError(o.Messages.StrictVarName);var s=null;return"const"===e?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),s=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(o.Messages.DeclarationMissingInitializer,"const")):(!t.inFor&&i.type!==u.Syntax.Identifier||this.match("="))&&(this.expect("="),s=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(n,new a.VariableDeclarator(i,s))},e.prototype.parseBindingList=function(e,t){var n=[this.parseLexicalBinding(e,t)];while(this.match(","))this.nextToken(),n.push(this.parseLexicalBinding(e,t));return n},e.prototype.isLexicalDeclaration=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.scanner.lex();return this.scanner.restoreState(e),3===t.type||7===t.type&&"["===t.value||7===t.type&&"{"===t.value||4===t.type&&"let"===t.value||4===t.type&&"yield"===t.value},e.prototype.parseLexicalDeclaration=function(e){var t=this.createNode(),n=this.nextToken().value;r.assert("let"===n||"const"===n,"Lexical declaration must be either let or const");var i=this.parseBindingList(n,e);return this.consumeSemicolon(),this.finalize(t,new a.VariableDeclaration(i,n))},e.prototype.parseBindingRestElement=function(e,t){var n=this.createNode();this.expect("...");var r=this.parsePattern(e,t);return this.finalize(n,new a.RestElement(r))},e.prototype.parseArrayPattern=function(e,t){var n=this.createNode();this.expect("[");var r=[];while(!this.match("]"))if(this.match(","))this.nextToken(),r.push(null);else{if(this.match("...")){r.push(this.parseBindingRestElement(e,t));break}r.push(this.parsePatternWithDefault(e,t)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(n,new a.ArrayPattern(r))},e.prototype.parsePropertyPattern=function(e,t){var n,r,i=this.createNode(),o=!1,s=!1,u=!1;if(3===this.lookahead.type){var c=this.lookahead;n=this.parseVariableIdentifier();var l=this.finalize(i,new a.Identifier(c.value));if(this.match("=")){e.push(c),s=!0,this.nextToken();var h=this.parseAssignmentExpression();r=this.finalize(this.startNode(c),new a.AssignmentPattern(l,h))}else this.match(":")?(this.expect(":"),r=this.parsePatternWithDefault(e,t)):(e.push(c),s=!0,r=l)}else o=this.match("["),n=this.parseObjectPropertyKey(),this.expect(":"),r=this.parsePatternWithDefault(e,t);return this.finalize(i,new a.Property("init",n,o,r,u,s))},e.prototype.parseObjectPattern=function(e,t){var n=this.createNode(),r=[];this.expect("{");while(!this.match("}"))r.push(this.parsePropertyPattern(e,t)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(n,new a.ObjectPattern(r))},e.prototype.parsePattern=function(e,t){var n;return this.match("[")?n=this.parseArrayPattern(e,t):this.match("{")?n=this.parseObjectPattern(e,t):(!this.matchKeyword("let")||"const"!==t&&"let"!==t||this.tolerateUnexpectedToken(this.lookahead,o.Messages.LetInLexicalBinding),e.push(this.lookahead),n=this.parseVariableIdentifier(t)),n},e.prototype.parsePatternWithDefault=function(e,t){var n=this.lookahead,r=this.parsePattern(e,t);if(this.match("=")){this.nextToken();var i=this.context.allowYield;this.context.allowYield=!0;var o=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=i,r=this.finalize(this.startNode(n),new a.AssignmentPattern(r,o))}return r},e.prototype.parseVariableIdentifier=function(e){var t=this.createNode(),n=this.nextToken();return 4===n.type&&"yield"===n.value?this.context.strict?this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(n):3!==n.type?this.context.strict&&4===n.type&&this.scanner.isStrictModeReservedWord(n.value)?this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord):(this.context.strict||"let"!==n.value||"var"!==e)&&this.throwUnexpectedToken(n):(this.context.isModule||this.context.await)&&3===n.type&&"await"===n.value&&this.tolerateUnexpectedToken(n),this.finalize(t,new a.Identifier(n.value))},e.prototype.parseVariableDeclaration=function(e){var t=this.createNode(),n=[],r=this.parsePattern(n,"var");this.context.strict&&r.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(o.Messages.StrictVarName);var i=null;return this.match("=")?(this.nextToken(),i=this.isolateCoverGrammar(this.parseAssignmentExpression)):r.type===u.Syntax.Identifier||e.inFor||this.expect("="),this.finalize(t,new a.VariableDeclarator(r,i))},e.prototype.parseVariableDeclarationList=function(e){var t={inFor:e.inFor},n=[];n.push(this.parseVariableDeclaration(t));while(this.match(","))this.nextToken(),n.push(this.parseVariableDeclaration(t));return n},e.prototype.parseVariableStatement=function(){var e=this.createNode();this.expectKeyword("var");var t=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(e,new a.VariableDeclaration(t,"var"))},e.prototype.parseEmptyStatement=function(){var e=this.createNode();return this.expect(";"),this.finalize(e,new a.EmptyStatement)},e.prototype.parseExpressionStatement=function(){var e=this.createNode(),t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new a.ExpressionStatement(t))},e.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(o.Messages.StrictFunction),this.parseStatement()},e.prototype.parseIfStatement=function(){var e,t=this.createNode(),n=null;this.expectKeyword("if"),this.expect("(");var r=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new a.EmptyStatement)):(this.expect(")"),e=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),n=this.parseIfClause())),this.finalize(t,new a.IfStatement(r,e,n))},e.prototype.parseDoWhileStatement=function(){var e=this.createNode();this.expectKeyword("do");var t=this.context.inIteration;this.context.inIteration=!0;var n=this.parseStatement();this.context.inIteration=t,this.expectKeyword("while"),this.expect("(");var r=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(e,new a.DoWhileStatement(n,r))},e.prototype.parseWhileStatement=function(){var e,t=this.createNode();this.expectKeyword("while"),this.expect("(");var n=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new a.EmptyStatement);else{this.expect(")");var r=this.context.inIteration;this.context.inIteration=!0,e=this.parseStatement(),this.context.inIteration=r}return this.finalize(t,new a.WhileStatement(n,e))},e.prototype.parseForStatement=function(){var e,t,n,r=null,i=null,s=null,c=!0,l=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){r=this.createNode(),this.nextToken();var h=this.context.allowIn;this.context.allowIn=!1;var p=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=h,1===p.length&&this.matchKeyword("in")){var f=p[0];f.init&&(f.id.type===u.Syntax.ArrayPattern||f.id.type===u.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(o.Messages.ForInOfLoopInitializer,"for-in"),r=this.finalize(r,new a.VariableDeclaration(p,"var")),this.nextToken(),e=r,t=this.parseExpression(),r=null}else 1===p.length&&null===p[0].init&&this.matchContextualKeyword("of")?(r=this.finalize(r,new a.VariableDeclaration(p,"var")),this.nextToken(),e=r,t=this.parseAssignmentExpression(),r=null,c=!1):(r=this.finalize(r,new a.VariableDeclaration(p,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){r=this.createNode();var d=this.nextToken().value;if(this.context.strict||"in"!==this.lookahead.value){h=this.context.allowIn;this.context.allowIn=!1;p=this.parseBindingList(d,{inFor:!0});this.context.allowIn=h,1===p.length&&null===p[0].init&&this.matchKeyword("in")?(r=this.finalize(r,new a.VariableDeclaration(p,d)),this.nextToken(),e=r,t=this.parseExpression(),r=null):1===p.length&&null===p[0].init&&this.matchContextualKeyword("of")?(r=this.finalize(r,new a.VariableDeclaration(p,d)),this.nextToken(),e=r,t=this.parseAssignmentExpression(),r=null,c=!1):(this.consumeSemicolon(),r=this.finalize(r,new a.VariableDeclaration(p,d)))}else r=this.finalize(r,new a.Identifier(d)),this.nextToken(),e=r,t=this.parseExpression(),r=null}else{var m=this.lookahead;h=this.context.allowIn;if(this.context.allowIn=!1,r=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=h,this.matchKeyword("in"))this.context.isAssignmentTarget&&r.type!==u.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(r),e=r,t=this.parseExpression(),r=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&r.type!==u.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(r),e=r,t=this.parseAssignmentExpression(),r=null,c=!1;else{if(this.match(",")){var y=[r];while(this.match(","))this.nextToken(),y.push(this.isolateCoverGrammar(this.parseAssignmentExpression));r=this.finalize(this.startNode(m),new a.SequenceExpression(y))}this.expect(";")}}if("undefined"===typeof e&&(this.match(";")||(i=this.parseExpression()),this.expect(";"),this.match(")")||(s=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),n=this.finalize(this.createNode(),new a.EmptyStatement);else{this.expect(")");var v=this.context.inIteration;this.context.inIteration=!0,n=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=v}return"undefined"===typeof e?this.finalize(l,new a.ForStatement(r,i,s,n)):c?this.finalize(l,new a.ForInStatement(e,t,n)):this.finalize(l,new a.ForOfStatement(e,t,n))},e.prototype.parseContinueStatement=function(){var e=this.createNode();this.expectKeyword("continue");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier();t=n;var r="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)||this.throwError(o.Messages.UnknownLabel,n.name)}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.throwError(o.Messages.IllegalContinue),this.finalize(e,new a.ContinueStatement(t))},e.prototype.parseBreakStatement=function(){var e=this.createNode();this.expectKeyword("break");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier(),r="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)||this.throwError(o.Messages.UnknownLabel,n.name),t=n}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.context.inSwitch||this.throwError(o.Messages.IllegalBreak),this.finalize(e,new a.BreakStatement(t))},e.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(o.Messages.IllegalReturn);var e=this.createNode();this.expectKeyword("return");var t=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&2!==this.lookahead.type||8===this.lookahead.type||10===this.lookahead.type,n=t?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(e,new a.ReturnStatement(n))},e.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(o.Messages.StrictModeWith);var e,t=this.createNode();this.expectKeyword("with"),this.expect("(");var n=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new a.EmptyStatement)):(this.expect(")"),e=this.parseStatement()),this.finalize(t,new a.WithStatement(n,e))},e.prototype.parseSwitchCase=function(){var e,t=this.createNode();this.matchKeyword("default")?(this.nextToken(),e=null):(this.expectKeyword("case"),e=this.parseExpression()),this.expect(":");var n=[];while(1){if(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"))break;n.push(this.parseStatementListItem())}return this.finalize(t,new a.SwitchCase(e,n))},e.prototype.parseSwitchStatement=function(){var e=this.createNode();this.expectKeyword("switch"),this.expect("(");var t=this.parseExpression();this.expect(")");var n=this.context.inSwitch;this.context.inSwitch=!0;var r=[],i=!1;this.expect("{");while(1){if(this.match("}"))break;var s=this.parseSwitchCase();null===s.test&&(i&&this.throwError(o.Messages.MultipleDefaultsInSwitch),i=!0),r.push(s)}return this.expect("}"),this.context.inSwitch=n,this.finalize(e,new a.SwitchStatement(t,r))},e.prototype.parseLabelledStatement=function(){var e,t=this.createNode(),n=this.parseExpression();if(n.type===u.Syntax.Identifier&&this.match(":")){this.nextToken();var r=n,i="$"+r.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)&&this.throwError(o.Messages.Redeclaration,"Label",r.name),this.context.labelSet[i]=!0;var s=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),s=this.parseClassDeclaration();else if(this.matchKeyword("function")){var c=this.lookahead,l=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(c,o.Messages.StrictFunction):l.generator&&this.tolerateUnexpectedToken(c,o.Messages.GeneratorInLegacyContext),s=l}else s=this.parseStatement();delete this.context.labelSet[i],e=new a.LabeledStatement(r,s)}else this.consumeSemicolon(),e=new a.ExpressionStatement(n);return this.finalize(t,e)},e.prototype.parseThrowStatement=function(){var e=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(o.Messages.NewlineAfterThrow);var t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new a.ThrowStatement(t))},e.prototype.parseCatchClause=function(){var e=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var t=[],n=this.parsePattern(t),r={},i=0;i<t.length;i++){var s="$"+t[i].value;Object.prototype.hasOwnProperty.call(r,s)&&this.tolerateError(o.Messages.DuplicateBinding,t[i].value),r[s]=!0}this.context.strict&&n.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(o.Messages.StrictCatchVariable),this.expect(")");var c=this.parseBlock();return this.finalize(e,new a.CatchClause(n,c))},e.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},e.prototype.parseTryStatement=function(){var e=this.createNode();this.expectKeyword("try");var t=this.parseBlock(),n=this.matchKeyword("catch")?this.parseCatchClause():null,r=this.matchKeyword("finally")?this.parseFinallyClause():null;return n||r||this.throwError(o.Messages.NoCatchOrFinally),this.finalize(e,new a.TryStatement(t,n,r))},e.prototype.parseDebuggerStatement=function(){var e=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(e,new a.DebuggerStatement)},e.prototype.parseStatement=function(){var e;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:e=this.parseExpressionStatement();break;case 7:var t=this.lookahead.value;e="{"===t?this.parseBlock():"("===t?this.parseExpressionStatement():";"===t?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:e=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":e=this.parseBreakStatement();break;case"continue":e=this.parseContinueStatement();break;case"debugger":e=this.parseDebuggerStatement();break;case"do":e=this.parseDoWhileStatement();break;case"for":e=this.parseForStatement();break;case"function":e=this.parseFunctionDeclaration();break;case"if":e=this.parseIfStatement();break;case"return":e=this.parseReturnStatement();break;case"switch":e=this.parseSwitchStatement();break;case"throw":e=this.parseThrowStatement();break;case"try":e=this.parseTryStatement();break;case"var":e=this.parseVariableStatement();break;case"while":e=this.parseWhileStatement();break;case"with":e=this.parseWithStatement();break;default:e=this.parseExpressionStatement();break}break;default:e=this.throwUnexpectedToken(this.lookahead)}return e},e.prototype.parseFunctionSourceElements=function(){var e=this.createNode();this.expect("{");var t=this.parseDirectivePrologues(),n=this.context.labelSet,r=this.context.inIteration,i=this.context.inSwitch,o=this.context.inFunctionBody;this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;while(2!==this.lookahead.type){if(this.match("}"))break;t.push(this.parseStatementListItem())}return this.expect("}"),this.context.labelSet=n,this.context.inIteration=r,this.context.inSwitch=i,this.context.inFunctionBody=o,this.finalize(e,new a.BlockStatement(t))},e.prototype.validateParam=function(e,t,n){var r="$"+n;this.context.strict?(this.scanner.isRestrictedWord(n)&&(e.stricted=t,e.message=o.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)):e.firstRestricted||(this.scanner.isRestrictedWord(n)?(e.firstRestricted=t,e.message=o.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(n)?(e.firstRestricted=t,e.message=o.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)),"function"===typeof Object.defineProperty?Object.defineProperty(e.paramSet,r,{value:!0,enumerable:!0,writable:!0,configurable:!0}):e.paramSet[r]=!0},e.prototype.parseRestElement=function(e){var t=this.createNode();this.expect("...");var n=this.parsePattern(e);return this.match("=")&&this.throwError(o.Messages.DefaultRestParameter),this.match(")")||this.throwError(o.Messages.ParameterAfterRestParameter),this.finalize(t,new a.RestElement(n))},e.prototype.parseFormalParameter=function(e){for(var t=[],n=this.match("...")?this.parseRestElement(t):this.parsePatternWithDefault(t),r=0;r<t.length;r++)this.validateParam(e,t[r],t[r].value);e.simple=e.simple&&n instanceof a.Identifier,e.params.push(n)},e.prototype.parseFormalParameters=function(e){var t;if(t={simple:!0,params:[],firstRestricted:e},this.expect("("),!this.match(")")){t.paramSet={};while(2!==this.lookahead.type){if(this.parseFormalParameter(t),this.match(")"))break;if(this.expect(","),this.match(")"))break}}return this.expect(")"),{simple:t.simple,params:t.params,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.matchAsyncFunction=function(){var e=this.matchContextualKeyword("async");if(e){var t=this.scanner.saveState();this.scanner.scanComments();var n=this.scanner.lex();this.scanner.restoreState(t),e=t.lineNumber===n.lineNumber&&4===n.type&&"function"===n.value}return e},e.prototype.parseFunctionDeclaration=function(e){var t=this.createNode(),n=this.matchContextualKeyword("async");n&&this.nextToken(),this.expectKeyword("function");var r,i=!n&&this.match("*");i&&this.nextToken();var s=null,u=null;if(!e||!this.match("(")){var c=this.lookahead;s=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(c.value)&&this.tolerateUnexpectedToken(c,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(c.value)?(u=c,r=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(c.value)&&(u=c,r=o.Messages.StrictReservedWord)}var l=this.context.await,h=this.context.allowYield;this.context.await=n,this.context.allowYield=!i;var p=this.parseFormalParameters(u),f=p.params,d=p.stricted;u=p.firstRestricted,p.message&&(r=p.message);var m=this.context.strict,y=this.context.allowStrictDirective;this.context.allowStrictDirective=p.simple;var v=this.parseFunctionSourceElements();return this.context.strict&&u&&this.throwUnexpectedToken(u,r),this.context.strict&&d&&this.tolerateUnexpectedToken(d,r),this.context.strict=m,this.context.allowStrictDirective=y,this.context.await=l,this.context.allowYield=h,n?this.finalize(t,new a.AsyncFunctionDeclaration(s,f,v)):this.finalize(t,new a.FunctionDeclaration(s,f,v,i))},e.prototype.parseFunctionExpression=function(){var e=this.createNode(),t=this.matchContextualKeyword("async");t&&this.nextToken(),this.expectKeyword("function");var n,r=!t&&this.match("*");r&&this.nextToken();var i,s=null,u=this.context.await,c=this.context.allowYield;if(this.context.await=t,this.context.allowYield=!r,!this.match("(")){var l=this.lookahead;s=this.context.strict||r||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(l.value)&&this.tolerateUnexpectedToken(l,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(l.value)?(i=l,n=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(l.value)&&(i=l,n=o.Messages.StrictReservedWord)}var h=this.parseFormalParameters(i),p=h.params,f=h.stricted;i=h.firstRestricted,h.message&&(n=h.message);var d=this.context.strict,m=this.context.allowStrictDirective;this.context.allowStrictDirective=h.simple;var y=this.parseFunctionSourceElements();return this.context.strict&&i&&this.throwUnexpectedToken(i,n),this.context.strict&&f&&this.tolerateUnexpectedToken(f,n),this.context.strict=d,this.context.allowStrictDirective=m,this.context.await=u,this.context.allowYield=c,t?this.finalize(e,new a.AsyncFunctionExpression(s,p,y)):this.finalize(e,new a.FunctionExpression(s,p,y,r))},e.prototype.parseDirective=function(){var e=this.lookahead,t=this.createNode(),n=this.parseExpression(),r=n.type===u.Syntax.Literal?this.getTokenRaw(e).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(t,r?new a.Directive(n,r):new a.ExpressionStatement(n))},e.prototype.parseDirectivePrologues=function(){var e=null,t=[];while(1){var n=this.lookahead;if(8!==n.type)break;var r=this.parseDirective();t.push(r);var i=r.directive;if("string"!==typeof i)break;"use strict"===i?(this.context.strict=!0,e&&this.tolerateUnexpectedToken(e,o.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(n,o.Messages.IllegalLanguageModeDirective)):!e&&n.octal&&(e=n)}return t},e.prototype.qualifiedPropertyName=function(e){switch(e.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===e.value;default:break}return!1},e.prototype.parseGetterMethod=function(){var e=this.createNode(),t=!1,n=this.context.allowYield;this.context.allowYield=!t;var r=this.parseFormalParameters();r.params.length>0&&this.tolerateError(o.Messages.BadGetterArity);var i=this.parsePropertyMethod(r);return this.context.allowYield=n,this.finalize(e,new a.FunctionExpression(null,r.params,i,t))},e.prototype.parseSetterMethod=function(){var e=this.createNode(),t=!1,n=this.context.allowYield;this.context.allowYield=!t;var r=this.parseFormalParameters();1!==r.params.length?this.tolerateError(o.Messages.BadSetterArity):r.params[0]instanceof a.RestElement&&this.tolerateError(o.Messages.BadSetterRestParameter);var i=this.parsePropertyMethod(r);return this.context.allowYield=n,this.finalize(e,new a.FunctionExpression(null,r.params,i,t))},e.prototype.parseGeneratorMethod=function(){var e=this.createNode(),t=!0,n=this.context.allowYield;this.context.allowYield=!0;var r=this.parseFormalParameters();this.context.allowYield=!1;var i=this.parsePropertyMethod(r);return this.context.allowYield=n,this.finalize(e,new a.FunctionExpression(null,r.params,i,t))},e.prototype.isStartOfExpression=function(){var e=!0,t=this.lookahead.value;switch(this.lookahead.type){case 7:e="["===t||"("===t||"{"===t||"+"===t||"-"===t||"!"===t||"~"===t||"++"===t||"--"===t||"/"===t||"/="===t;break;case 4:e="class"===t||"delete"===t||"function"===t||"let"===t||"new"===t||"super"===t||"this"===t||"typeof"===t||"void"===t||"yield"===t;break;default:break}return e},e.prototype.parseYieldExpression=function(){var e=this.createNode();this.expectKeyword("yield");var t=null,n=!1;if(!this.hasLineTerminator){var r=this.context.allowYield;this.context.allowYield=!1,n=this.match("*"),n?(this.nextToken(),t=this.parseAssignmentExpression()):this.isStartOfExpression()&&(t=this.parseAssignmentExpression()),this.context.allowYield=r}return this.finalize(e,new a.YieldExpression(t,n))},e.prototype.parseClassElement=function(e){var t=this.lookahead,n=this.createNode(),r="",i=null,s=null,u=!1,c=!1,l=!1,h=!1;if(this.match("*"))this.nextToken();else{u=this.match("["),i=this.parseObjectPropertyKey();var p=i;if("static"===p.name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(t=this.lookahead,l=!0,u=this.match("["),this.match("*")?this.nextToken():i=this.parseObjectPropertyKey()),3===t.type&&!this.hasLineTerminator&&"async"===t.value){var f=this.lookahead.value;":"!==f&&"("!==f&&"*"!==f&&(h=!0,t=this.lookahead,i=this.parseObjectPropertyKey(),3===t.type&&"constructor"===t.value&&this.tolerateUnexpectedToken(t,o.Messages.ConstructorIsAsync))}}var d=this.qualifiedPropertyName(this.lookahead);return 3===t.type?"get"===t.value&&d?(r="get",u=this.match("["),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,s=this.parseGetterMethod()):"set"===t.value&&d&&(r="set",u=this.match("["),i=this.parseObjectPropertyKey(),s=this.parseSetterMethod()):7===t.type&&"*"===t.value&&d&&(r="init",u=this.match("["),i=this.parseObjectPropertyKey(),s=this.parseGeneratorMethod(),c=!0),!r&&i&&this.match("(")&&(r="init",s=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),c=!0),r||this.throwUnexpectedToken(this.lookahead),"init"===r&&(r="method"),u||(l&&this.isPropertyKey(i,"prototype")&&this.throwUnexpectedToken(t,o.Messages.StaticPrototype),!l&&this.isPropertyKey(i,"constructor")&&(("method"!==r||!c||s&&s.generator)&&this.throwUnexpectedToken(t,o.Messages.ConstructorSpecialMethod),e.value?this.throwUnexpectedToken(t,o.Messages.DuplicateConstructor):e.value=!0,r="constructor")),this.finalize(n,new a.MethodDefinition(i,u,s,r,l))},e.prototype.parseClassElementList=function(){var e=[],t={value:!1};this.expect("{");while(!this.match("}"))this.match(";")?this.nextToken():e.push(this.parseClassElement(t));return this.expect("}"),e},e.prototype.parseClassBody=function(){var e=this.createNode(),t=this.parseClassElementList();return this.finalize(e,new a.ClassBody(t))},e.prototype.parseClassDeclaration=function(e){var t=this.createNode(),n=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var r=e&&3!==this.lookahead.type?null:this.parseVariableIdentifier(),i=null;this.matchKeyword("extends")&&(this.nextToken(),i=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var o=this.parseClassBody();return this.context.strict=n,this.finalize(t,new a.ClassDeclaration(r,i,o))},e.prototype.parseClassExpression=function(){var e=this.createNode(),t=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var n=3===this.lookahead.type?this.parseVariableIdentifier():null,r=null;this.matchKeyword("extends")&&(this.nextToken(),r=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var i=this.parseClassBody();return this.context.strict=t,this.finalize(e,new a.ClassExpression(n,r,i))},e.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;var e=this.createNode(),t=this.parseDirectivePrologues();while(2!==this.lookahead.type)t.push(this.parseStatementListItem());return this.finalize(e,new a.Module(t))},e.prototype.parseScript=function(){var e=this.createNode(),t=this.parseDirectivePrologues();while(2!==this.lookahead.type)t.push(this.parseStatementListItem());return this.finalize(e,new a.Script(t))},e.prototype.parseModuleSpecifier=function(){var e=this.createNode();8!==this.lookahead.type&&this.throwError(o.Messages.InvalidModuleSpecifier);var t=this.nextToken(),n=this.getTokenRaw(t);return this.finalize(e,new a.Literal(t.value,n))},e.prototype.parseImportSpecifier=function(){var e,t,n=this.createNode();return 3===this.lookahead.type?(e=this.parseVariableIdentifier(),t=e,this.matchContextualKeyword("as")&&(this.nextToken(),t=this.parseVariableIdentifier())):(e=this.parseIdentifierName(),t=e,this.matchContextualKeyword("as")?(this.nextToken(),t=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(n,new a.ImportSpecifier(t,e))},e.prototype.parseNamedImports=function(){this.expect("{");var e=[];while(!this.match("}"))e.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),e},e.prototype.parseImportDefaultSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName();return this.finalize(e,new a.ImportDefaultSpecifier(t))},e.prototype.parseImportNamespaceSpecifier=function(){var e=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(o.Messages.NoAsAfterImportNamespace),this.nextToken();var t=this.parseIdentifierName();return this.finalize(e,new a.ImportNamespaceSpecifier(t))},e.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalImportDeclaration);var e,t=this.createNode();this.expectKeyword("import");var n=[];if(8===this.lookahead.type)e=this.parseModuleSpecifier();else{if(this.match("{")?n=n.concat(this.parseNamedImports()):this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(n.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.match("{")?n=n.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var r=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken(),e=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(t,new a.ImportDeclaration(n,e))},e.prototype.parseExportSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName(),n=t;return this.matchContextualKeyword("as")&&(this.nextToken(),n=this.parseIdentifierName()),this.finalize(e,new a.ExportSpecifier(t,n))},e.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalExportDeclaration);var e,t=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var n=this.parseFunctionDeclaration(!0);e=this.finalize(t,new a.ExportDefaultDeclaration(n))}else if(this.matchKeyword("class")){n=this.parseClassDeclaration(!0);e=this.finalize(t,new a.ExportDefaultDeclaration(n))}else if(this.matchContextualKeyword("async")){n=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();e=this.finalize(t,new a.ExportDefaultDeclaration(n))}else{this.matchContextualKeyword("from")&&this.throwError(o.Messages.UnexpectedToken,this.lookahead.value);n=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),e=this.finalize(t,new a.ExportDefaultDeclaration(n))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var r=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken();var i=this.parseModuleSpecifier();this.consumeSemicolon(),e=this.finalize(t,new a.ExportAllDeclaration(i))}else if(4===this.lookahead.type){n=void 0;switch(this.lookahead.value){case"let":case"const":n=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":n=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}e=this.finalize(t,new a.ExportNamedDeclaration(n,[],null))}else if(this.matchAsyncFunction()){n=this.parseFunctionDeclaration();e=this.finalize(t,new a.ExportNamedDeclaration(n,[],null))}else{var s=[],u=null,c=!1;this.expect("{");while(!this.match("}"))c=c||this.matchKeyword("default"),s.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),u=this.parseModuleSpecifier(),this.consumeSemicolon();else if(c){r=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}else this.consumeSemicolon();e=this.finalize(t,new a.ExportNamedDeclaration(null,s,u))}return e},e}();t.Parser=h},function(e,t){"use strict";function n(e,t){if(!e)throw new Error("ASSERT: "+t)}Object.defineProperty(t,"__esModule",{value:!0}),t.assert=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.errors=[],this.tolerant=!1}return e.prototype.recordError=function(e){this.errors.push(e)},e.prototype.tolerate=function(e){if(!this.tolerant)throw e;this.recordError(e)},e.prototype.constructError=function(e,t){var n=new Error(e);try{throw n}catch(r){Object.create&&Object.defineProperty&&(n=Object.create(r),Object.defineProperty(n,"column",{value:t}))}return n},e.prototype.createError=function(e,t,n,r){var i="Line "+t+": "+r,o=this.constructError(i,n);return o.index=e,o.lineNumber=t,o.description=r,o},e.prototype.throwError=function(e,t,n,r){throw this.createError(e,t,n,r)},e.prototype.tolerateError=function(e,t,n,r){var i=this.createError(e,t,n,r);if(!this.tolerant)throw i;this.recordError(i)},e}();t.ErrorHandler=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(4),o=n(11);function a(e){return"0123456789abcdef".indexOf(e.toLowerCase())}function s(e){return"01234567".indexOf(e)}var u=function(){function e(e,t){this.source=e,this.errorHandler=t,this.trackComment=!1,this.isModule=!1,this.length=e.length,this.index=0,this.lineNumber=e.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return e.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},e.prototype.restoreState=function(e){this.index=e.index,this.lineNumber=e.lineNumber,this.lineStart=e.lineStart},e.prototype.eof=function(){return this.index>=this.length},e.prototype.throwUnexpectedToken=function(e){return void 0===e&&(e=o.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.tolerateUnexpectedToken=function(e){void 0===e&&(e=o.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.skipSingleLineComment=function(e){var t,n,r=[];this.trackComment&&(r=[],t=this.index-e,n={start:{line:this.lineNumber,column:this.index-this.lineStart-e},end:{}});while(!this.eof()){var o=this.source.charCodeAt(this.index);if(++this.index,i.Character.isLineTerminator(o)){if(this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart-1};var a={multiLine:!1,slice:[t+e,this.index-1],range:[t,this.index-1],loc:n};r.push(a)}return 13===o&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,r}}if(this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart};a={multiLine:!1,slice:[t+e,this.index],range:[t,this.index],loc:n};r.push(a)}return r},e.prototype.skipMultiLineComment=function(){var e,t,n=[];this.trackComment&&(n=[],e=this.index-2,t={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});while(!this.eof()){var r=this.source.charCodeAt(this.index);if(i.Character.isLineTerminator(r))13===r&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===r){if(47===this.source.charCodeAt(this.index+1)){if(this.index+=2,this.trackComment){t.end={line:this.lineNumber,column:this.index-this.lineStart};var o={multiLine:!0,slice:[e+2,this.index-2],range:[e,this.index],loc:t};n.push(o)}return n}++this.index}else++this.index}if(this.trackComment){t.end={line:this.lineNumber,column:this.index-this.lineStart};o={multiLine:!0,slice:[e+2,this.index],range:[e,this.index],loc:t};n.push(o)}return this.tolerateUnexpectedToken(),n},e.prototype.scanComments=function(){var e;this.trackComment&&(e=[]);var t=0===this.index;while(!this.eof()){var n=this.source.charCodeAt(this.index);if(i.Character.isWhiteSpace(n))++this.index;else if(i.Character.isLineTerminator(n))++this.index,13===n&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,t=!0;else if(47===n)if(n=this.source.charCodeAt(this.index+1),47===n){this.index+=2;var r=this.skipSingleLineComment(2);this.trackComment&&(e=e.concat(r)),t=!0}else{if(42!==n)break;this.index+=2;r=this.skipMultiLineComment();this.trackComment&&(e=e.concat(r))}else if(t&&45===n){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3;r=this.skipSingleLineComment(3);this.trackComment&&(e=e.concat(r))}else{if(60!==n||this.isModule)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4;r=this.skipSingleLineComment(4);this.trackComment&&(e=e.concat(r))}}return e},e.prototype.isFutureReservedWord=function(e){switch(e){case"enum":case"export":case"import":case"super":return!0;default:return!1}},e.prototype.isStrictModeReservedWord=function(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},e.prototype.isRestrictedWord=function(e){return"eval"===e||"arguments"===e},e.prototype.isKeyword=function(e){switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}},e.prototype.codePointAt=function(e){var t=this.source.charCodeAt(e);if(t>=55296&&t<=56319){var n=this.source.charCodeAt(e+1);if(n>=56320&&n<=57343){var r=t;t=1024*(r-55296)+n-56320+65536}}return t},e.prototype.scanHexEscape=function(e){for(var t="u"===e?4:2,n=0,r=0;r<t;++r){if(this.eof()||!i.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;n=16*n+a(this.source[this.index++])}return String.fromCharCode(n)},e.prototype.scanUnicodeCodePointEscape=function(){var e=this.source[this.index],t=0;"}"===e&&this.throwUnexpectedToken();while(!this.eof()){if(e=this.source[this.index++],!i.Character.isHexDigit(e.charCodeAt(0)))break;t=16*t+a(e)}return(t>1114111||"}"!==e)&&this.throwUnexpectedToken(),i.Character.fromCodePoint(t)},e.prototype.getIdentifier=function(){var e=this.index++;while(!this.eof()){var t=this.source.charCodeAt(this.index);if(92===t)return this.index=e,this.getComplexIdentifier();if(t>=55296&&t<57343)return this.index=e,this.getComplexIdentifier();if(!i.Character.isIdentifierPart(t))break;++this.index}return this.source.slice(e,this.index)},e.prototype.getComplexIdentifier=function(){var e,t=this.codePointAt(this.index),n=i.Character.fromCodePoint(t);this.index+=n.length,92===t&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):(e=this.scanHexEscape("u"),null!==e&&"\\"!==e&&i.Character.isIdentifierStart(e.charCodeAt(0))||this.throwUnexpectedToken()),n=e);while(!this.eof()){if(t=this.codePointAt(this.index),!i.Character.isIdentifierPart(t))break;e=i.Character.fromCodePoint(t),n+=e,this.index+=e.length,92===t&&(n=n.substr(0,n.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):(e=this.scanHexEscape("u"),null!==e&&"\\"!==e&&i.Character.isIdentifierPart(e.charCodeAt(0))||this.throwUnexpectedToken()),n+=e)}return n},e.prototype.octalToDecimal=function(e){var t="0"!==e,n=s(e);return!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(t=!0,n=8*n+s(this.source[this.index++]),"0123".indexOf(e)>=0&&!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(n=8*n+s(this.source[this.index++]))),{code:n,octal:t}},e.prototype.scanIdentifier=function(){var e,t=this.index,n=92===this.source.charCodeAt(t)?this.getComplexIdentifier():this.getIdentifier();if(e=1===n.length?3:this.isKeyword(n)?4:"null"===n?5:"true"===n||"false"===n?1:3,3!==e&&t+n.length!==this.index){var r=this.index;this.index=t,this.tolerateUnexpectedToken(o.Messages.InvalidEscapedReservedWord),this.index=r}return{type:e,value:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.scanPunctuator=function(){var e=this.index,t=this.source[this.index];switch(t){case"(":case"{":"{"===t&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,t="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:t=this.source.substr(this.index,4),">>>="===t?this.index+=4:(t=t.substr(0,3),"==="===t||"!=="===t||">>>"===t||"<<="===t||">>="===t||"**="===t?this.index+=3:(t=t.substr(0,2),"&&"===t||"||"===t||"=="===t||"!="===t||"+="===t||"-="===t||"*="===t||"/="===t||"++"===t||"--"===t||"<<"===t||">>"===t||"&="===t||"|="===t||"^="===t||"%="===t||"<="===t||">="===t||"=>"===t||"**"===t?this.index+=2:(t=this.source[this.index],"<>=!+-*%&|^/".indexOf(t)>=0&&++this.index)))}return this.index===e&&this.throwUnexpectedToken(),{type:7,value:t,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanHexLiteral=function(e){var t="";while(!this.eof()){if(!i.Character.isHexDigit(this.source.charCodeAt(this.index)))break;t+=this.source[this.index++]}return 0===t.length&&this.throwUnexpectedToken(),i.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+t,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanBinaryLiteral=function(e){var t,n="";while(!this.eof()){if(t=this.source[this.index],"0"!==t&&"1"!==t)break;n+=this.source[this.index++]}return 0===n.length&&this.throwUnexpectedToken(),this.eof()||(t=this.source.charCodeAt(this.index),(i.Character.isIdentifierStart(t)||i.Character.isDecimalDigit(t))&&this.throwUnexpectedToken()),{type:6,value:parseInt(n,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanOctalLiteral=function(e,t){var n="",r=!1;i.Character.isOctalDigit(e.charCodeAt(0))?(r=!0,n="0"+this.source[this.index++]):++this.index;while(!this.eof()){if(!i.Character.isOctalDigit(this.source.charCodeAt(this.index)))break;n+=this.source[this.index++]}return r||0!==n.length||this.throwUnexpectedToken(),(i.Character.isIdentifierStart(this.source.charCodeAt(this.index))||i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(n,8),octal:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.isImplicitOctalLiteral=function(){for(var e=this.index+1;e<this.length;++e){var t=this.source[e];if("8"===t||"9"===t)return!1;if(!i.Character.isOctalDigit(t.charCodeAt(0)))return!0}return!0},e.prototype.scanNumericLiteral=function(){var e=this.index,t=this.source[e];r.assert(i.Character.isDecimalDigit(t.charCodeAt(0))||"."===t,"Numeric literal must start with a decimal digit or a decimal point");var n="";if("."!==t){if(n=this.source[this.index++],t=this.source[this.index],"0"===n){if("x"===t||"X"===t)return++this.index,this.scanHexLiteral(e);if("b"===t||"B"===t)return++this.index,this.scanBinaryLiteral(e);if("o"===t||"O"===t)return this.scanOctalLiteral(t,e);if(t&&i.Character.isOctalDigit(t.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(t,e)}while(i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))n+=this.source[this.index++];t=this.source[this.index]}if("."===t){n+=this.source[this.index++];while(i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))n+=this.source[this.index++];t=this.source[this.index]}if("e"===t||"E"===t)if(n+=this.source[this.index++],t=this.source[this.index],"+"!==t&&"-"!==t||(n+=this.source[this.index++]),i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))while(i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))n+=this.source[this.index++];else this.throwUnexpectedToken();return i.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanStringLiteral=function(){var e=this.index,t=this.source[e];r.assert("'"===t||'"'===t,"String literal must starts with a quote"),++this.index;var n=!1,a="";while(!this.eof()){var s=this.source[this.index++];if(s===t){t="";break}if("\\"===s)if(s=this.source[this.index++],s&&i.Character.isLineTerminator(s.charCodeAt(0)))++this.lineNumber,"\r"===s&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(s){case"u":if("{"===this.source[this.index])++this.index,a+=this.scanUnicodeCodePointEscape();else{var u=this.scanHexEscape(s);null===u&&this.throwUnexpectedToken(),a+=u}break;case"x":var c=this.scanHexEscape(s);null===c&&this.throwUnexpectedToken(o.Messages.InvalidHexEscapeSequence),a+=c;break;case"n":a+="\n";break;case"r":a+="\r";break;case"t":a+="\t";break;case"b":a+="\b";break;case"f":a+="\f";break;case"v":a+="\v";break;case"8":case"9":a+=s,this.tolerateUnexpectedToken();break;default:if(s&&i.Character.isOctalDigit(s.charCodeAt(0))){var l=this.octalToDecimal(s);n=l.octal||n,a+=String.fromCharCode(l.code)}else a+=s;break}else{if(i.Character.isLineTerminator(s.charCodeAt(0)))break;a+=s}}return""!==t&&(this.index=e,this.throwUnexpectedToken()),{type:8,value:a,octal:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanTemplate=function(){var e="",t=!1,n=this.index,r="`"===this.source[n],a=!1,s=2;++this.index;while(!this.eof()){var u=this.source[this.index++];if("`"===u){s=1,a=!0,t=!0;break}if("$"===u){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,t=!0;break}e+=u}else if("\\"===u)if(u=this.source[this.index++],i.Character.isLineTerminator(u.charCodeAt(0)))++this.lineNumber,"\r"===u&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(u){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"u":if("{"===this.source[this.index])++this.index,e+=this.scanUnicodeCodePointEscape();else{var c=this.index,l=this.scanHexEscape(u);null!==l?e+=l:(this.index=c,e+=u)}break;case"x":var h=this.scanHexEscape(u);null===h&&this.throwUnexpectedToken(o.Messages.InvalidHexEscapeSequence),e+=h;break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:"0"===u?(i.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(o.Messages.TemplateOctalLiteral),e+="\0"):i.Character.isOctalDigit(u.charCodeAt(0))?this.throwUnexpectedToken(o.Messages.TemplateOctalLiteral):e+=u;break}else i.Character.isLineTerminator(u.charCodeAt(0))?(++this.lineNumber,"\r"===u&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,e+="\n"):e+=u}return t||this.throwUnexpectedToken(),r||this.curlyStack.pop(),{type:10,value:this.source.slice(n+1,this.index-s),cooked:e,head:r,tail:a,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}},e.prototype.testRegExp=function(e,t){var n="￿",r=e,i=this;t.indexOf("u")>=0&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(e,t,r){var a=parseInt(t||r,16);return a>1114111&&i.throwUnexpectedToken(o.Messages.InvalidRegExp),a<=65535?String.fromCharCode(a):n}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n));try{RegExp(r)}catch(a){this.throwUnexpectedToken(o.Messages.InvalidRegExp)}try{return new RegExp(e,t)}catch(s){return null}},e.prototype.scanRegExpBody=function(){var e=this.source[this.index];r.assert("/"===e,"Regular expression literal must start with a slash");var t=this.source[this.index++],n=!1,a=!1;while(!this.eof())if(e=this.source[this.index++],t+=e,"\\"===e)e=this.source[this.index++],i.Character.isLineTerminator(e.charCodeAt(0))&&this.throwUnexpectedToken(o.Messages.UnterminatedRegExp),t+=e;else if(i.Character.isLineTerminator(e.charCodeAt(0)))this.throwUnexpectedToken(o.Messages.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){a=!0;break}"["===e&&(n=!0)}return a||this.throwUnexpectedToken(o.Messages.UnterminatedRegExp),t.substr(1,t.length-2)},e.prototype.scanRegExpFlags=function(){var e="",t="";while(!this.eof()){var n=this.source[this.index];if(!i.Character.isIdentifierPart(n.charCodeAt(0)))break;if(++this.index,"\\"!==n||this.eof())t+=n,e+=n;else if(n=this.source[this.index],"u"===n){++this.index;var r=this.index,o=this.scanHexEscape("u");if(null!==o)for(t+=o,e+="\\u";r<this.index;++r)e+=this.source[r];else this.index=r,t+="u",e+="\\u";this.tolerateUnexpectedToken()}else e+="\\",this.tolerateUnexpectedToken()}return t},e.prototype.scanRegExp=function(){var e=this.index,t=this.scanRegExpBody(),n=this.scanRegExpFlags(),r=this.testRegExp(t,n);return{type:9,value:"",pattern:t,flags:n,regex:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var e=this.source.charCodeAt(this.index);return i.Character.isIdentifierStart(e)?this.scanIdentifier():40===e||41===e||59===e?this.scanPunctuator():39===e||34===e?this.scanStringLiteral():46===e?i.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():i.Character.isDecimalDigit(e)?this.scanNumericLiteral():96===e||125===e&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():e>=55296&&e<57343&&i.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},e}();t.Scanner=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenName={},t.TokenName[1]="Boolean",t.TokenName[2]="<end>",t.TokenName[3]="Identifier",t.TokenName[4]="Keyword",t.TokenName[5]="Null",t.TokenName[6]="Numeric",t.TokenName[7]="Punctuator",t.TokenName[8]="String",t.TokenName[9]="RegularExpression",t.TokenName[10]="Template"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",lang:"⟨",rang:"⟩"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(12),o=n(13),a=function(){function e(){this.values=[],this.curly=this.paren=-1}return e.prototype.beforeFunctionExpression=function(e){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(e)>=0},e.prototype.isRegexStart=function(){var e=this.values[this.values.length-1],t=null!==e;switch(e){case"this":case"]":t=!1;break;case")":var n=this.values[this.paren-1];t="if"===n||"while"===n||"for"===n||"with"===n;break;case"}":if(t=!1,"function"===this.values[this.curly-3]){var r=this.values[this.curly-4];t=!!r&&!this.beforeFunctionExpression(r)}else if("function"===this.values[this.curly-4]){r=this.values[this.curly-5];t=!r||!this.beforeFunctionExpression(r)}break;default:break}return t},e.prototype.push=function(e){7===e.type||4===e.type?("{"===e.value?this.curly=this.values.length:"("===e.value&&(this.paren=this.values.length),this.values.push(e.value)):this.values.push(null)},e}(),s=function(){function e(e,t){this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=!!t&&("boolean"===typeof t.tolerant&&t.tolerant),this.scanner=new i.Scanner(e,this.errorHandler),this.scanner.trackComment=!!t&&("boolean"===typeof t.comment&&t.comment),this.trackRange=!!t&&("boolean"===typeof t.range&&t.range),this.trackLoc=!!t&&("boolean"===typeof t.loc&&t.loc),this.buffer=[],this.reader=new a}return e.prototype.errors=function(){return this.errorHandler.errors},e.prototype.getNextToken=function(){if(0===this.buffer.length){var e=this.scanner.scanComments();if(this.scanner.trackComment)for(var t=0;t<e.length;++t){var n=e[t],r=this.scanner.source.slice(n.slice[0],n.slice[1]),i={type:n.multiLine?"BlockComment":"LineComment",value:r};this.trackRange&&(i.range=n.range),this.trackLoc&&(i.loc=n.loc),this.buffer.push(i)}if(!this.scanner.eof()){var a=void 0;this.trackLoc&&(a={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var s="/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart(),u=s?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(u);var c={type:o.TokenName[u.type],value:this.scanner.source.slice(u.start,u.end)};if(this.trackRange&&(c.range=[u.start,u.end]),this.trackLoc&&(a.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},c.loc=a),9===u.type){var l=u.pattern,h=u.flags;c.regex={pattern:l,flags:h}}this.buffer.push(c)}}return this.buffer.shift()},e}();t.Tokenizer=s}])})},function(e,t,n){"use strict";var r=n(19),i=n(22),o=n(25),a=n(23),s=Object.prototype.toString,u=Object.prototype.hasOwnProperty,c=9,l=10,h=32,p=33,f=34,d=35,m=37,y=38,v=39,x=42,g=44,D=45,w=58,b=62,E=63,S=64,C=91,k=93,A=96,F=123,O=124,T=125,P={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},I=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function B(e,t){var n,r,i,o,a,s,c;if(null===t)return{};for(n={},r=Object.keys(t),i=0,o=r.length;i<o;i+=1)a=r[i],s=String(t[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),c=e.compiledTypeMap["fallback"][a],c&&u.call(c.styleAliases,s)&&(s=c.styleAliases[s]),n[a]=s;return n}function N(e){var t,n,o;if(t=e.toString(16).toUpperCase(),e<=255)n="x",o=2;else if(e<=65535)n="u",o=4;else{if(!(e<=4294967295))throw new i("code point within a string may not be greater than 0xFFFFFFFF");n="U",o=8}return"\\"+n+r.repeat("0",o-t.length)+t}function _(e){this.schema=e["schema"]||o,this.indent=Math.max(1,e["indent"]||2),this.noArrayIndent=e["noArrayIndent"]||!1,this.skipInvalid=e["skipInvalid"]||!1,this.flowLevel=r.isNothing(e["flowLevel"])?-1:e["flowLevel"],this.styleMap=B(this.schema,e["styles"]||null),this.sortKeys=e["sortKeys"]||!1,this.lineWidth=e["lineWidth"]||80,this.noRefs=e["noRefs"]||!1,this.noCompatMode=e["noCompatMode"]||!1,this.condenseFlow=e["condenseFlow"]||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function j(e,t){var n,i=r.repeat(" ",t),o=0,a=-1,s="",u=e.length;while(o<u)a=e.indexOf("\n",o),-1===a?(n=e.slice(o),o=u):(n=e.slice(o,a+1),o=a+1),n.length&&"\n"!==n&&(s+=i),s+=n;return s}function R(e,t){return"\n"+r.repeat(" ",e.indent*t)}function M(e,t){var n,r,i;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(i=e.implicitTypes[n],i.resolve(t))return!0;return!1}function U(e){return e===h||e===c}function L(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&65279!==e||65536<=e&&e<=1114111}function z(e){return L(e)&&65279!==e&&e!==g&&e!==C&&e!==k&&e!==F&&e!==T&&e!==w&&e!==d}function J(e){return L(e)&&65279!==e&&!U(e)&&e!==D&&e!==E&&e!==w&&e!==g&&e!==C&&e!==k&&e!==F&&e!==T&&e!==d&&e!==y&&e!==x&&e!==p&&e!==O&&e!==b&&e!==v&&e!==f&&e!==m&&e!==S&&e!==A}function X(e){var t=/^\n* /;return t.test(e)}var q=1,H=2,K=3,W=4,G=5;function V(e,t,n,r,i){var o,a,s=!1,u=!1,c=-1!==r,h=-1,p=J(e.charCodeAt(0))&&!U(e.charCodeAt(e.length-1));if(t)for(o=0;o<e.length;o++){if(a=e.charCodeAt(o),!L(a))return G;p=p&&z(a)}else{for(o=0;o<e.length;o++){if(a=e.charCodeAt(o),a===l)s=!0,c&&(u=u||o-h-1>r&&" "!==e[h+1],h=o);else if(!L(a))return G;p=p&&z(a)}u=u||c&&o-h-1>r&&" "!==e[h+1]}return s||u?n>9&&X(e)?G:u?W:K:p&&!i(e)?q:H}function Y(e,t,n,r){e.dump=function(){if(0===t.length)return"''";if(!e.noCompatMode&&-1!==I.indexOf(t))return"'"+t+"'";var o=e.indent*Math.max(1,n),a=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),s=r||e.flowLevel>-1&&n>=e.flowLevel;function u(t){return M(e,t)}switch(V(t,s,e.indent,a,u)){case q:return t;case H:return"'"+t.replace(/'/g,"''")+"'";case K:return"|"+$(t,e.indent)+Z(j(t,o));case W:return">"+$(t,e.indent)+Z(j(Q(t,a),o));case G:return'"'+te(t,a)+'"';default:throw new i("impossible error: invalid scalar style")}}()}function $(e,t){var n=X(e)?String(t):"",r="\n"===e[e.length-1],i=r&&("\n"===e[e.length-2]||"\n"===e),o=i?"+":r?"":"-";return n+o+"\n"}function Z(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function Q(e,t){var n,r,i=/(\n+)([^\n]*)/g,o=function(){var n=e.indexOf("\n");return n=-1!==n?n:e.length,i.lastIndex=n,ee(e.slice(0,n),t)}(),a="\n"===e[0]||" "===e[0];while(r=i.exec(e)){var s=r[1],u=r[2];n=" "===u[0],o+=s+(a||n||""===u?"":"\n")+ee(u,t),a=n}return o}function ee(e,t){if(""===e||" "===e[0])return e;var n,r,i=/ [^ ]/g,o=0,a=0,s=0,u="";while(n=i.exec(e))s=n.index,s-o>t&&(r=a>o?a:s,u+="\n"+e.slice(o,r),o=r+1),a=s;return u+="\n",e.length-o>t&&a>o?u+=e.slice(o,a)+"\n"+e.slice(a+1):u+=e.slice(o),u.slice(1)}function te(e){for(var t,n,r,i="",o=0;o<e.length;o++)t=e.charCodeAt(o),t>=55296&&t<=56319&&(n=e.charCodeAt(o+1),n>=56320&&n<=57343)?(i+=N(1024*(t-55296)+n-56320+65536),o++):(r=P[t],i+=!r&&L(t)?e[o]:r||N(t));return i}function ne(e,t,n){var r,i,o="",a=e.tag;for(r=0,i=n.length;r<i;r+=1)se(e,t,n[r],!1,!1)&&(0!==r&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=a,e.dump="["+o+"]"}function re(e,t,n,r){var i,o,a="",s=e.tag;for(i=0,o=n.length;i<o;i+=1)se(e,t+1,n[i],!0,!0)&&(r&&0===i||(a+=R(e,t)),e.dump&&l===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=s,e.dump=a||"[]"}function ie(e,t,n){var r,i,o,a,s,u="",c=e.tag,l=Object.keys(n);for(r=0,i=l.length;r<i;r+=1)s=e.condenseFlow?'"':"",0!==r&&(s+=", "),o=l[r],a=n[o],se(e,t,o,!1,!1)&&(e.dump.length>1024&&(s+="? "),s+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),se(e,t,a,!1,!1)&&(s+=e.dump,u+=s));e.tag=c,e.dump="{"+u+"}"}function oe(e,t,n,r){var o,a,s,u,c,h,p="",f=e.tag,d=Object.keys(n);if(!0===e.sortKeys)d.sort();else if("function"===typeof e.sortKeys)d.sort(e.sortKeys);else if(e.sortKeys)throw new i("sortKeys must be a boolean or a function");for(o=0,a=d.length;o<a;o+=1)h="",r&&0===o||(h+=R(e,t)),s=d[o],u=n[s],se(e,t+1,s,!0,!0,!0)&&(c=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024,c&&(e.dump&&l===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,c&&(h+=R(e,t)),se(e,t+1,u,!0,c)&&(e.dump&&l===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,p+=h));e.tag=f,e.dump=p||"{}"}function ae(e,t,n){var r,o,a,c,l,h;for(o=n?e.explicitTypes:e.implicitTypes,a=0,c=o.length;a<c;a+=1)if(l=o[a],(l.instanceOf||l.predicate)&&(!l.instanceOf||"object"===typeof t&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(e.tag=n?l.tag:"?",l.represent){if(h=e.styleMap[l.tag]||l.defaultStyle,"[object Function]"===s.call(l.represent))r=l.represent(t,h);else{if(!u.call(l.represent,h))throw new i("!<"+l.tag+'> tag resolver accepts not "'+h+'" style');r=l.represent[h](t,h)}e.dump=r}return!0}return!1}function se(e,t,n,r,o,a){e.tag=null,e.dump=n,ae(e,n,!1)||ae(e,n,!0);var u=s.call(e.dump);r&&(r=e.flowLevel<0||e.flowLevel>t);var c,l,h="[object Object]"===u||"[object Array]"===u;if(h&&(c=e.duplicates.indexOf(n),l=-1!==c),(null!==e.tag&&"?"!==e.tag||l||2!==e.indent&&t>0)&&(o=!1),l&&e.usedDuplicates[c])e.dump="*ref_"+c;else{if(h&&l&&!e.usedDuplicates[c]&&(e.usedDuplicates[c]=!0),"[object Object]"===u)r&&0!==Object.keys(e.dump).length?(oe(e,t,e.dump,o),l&&(e.dump="&ref_"+c+e.dump)):(ie(e,t,e.dump),l&&(e.dump="&ref_"+c+" "+e.dump));else if("[object Array]"===u){var p=e.noArrayIndent?t-1:t;r&&0!==e.dump.length?(re(e,p,e.dump,o),l&&(e.dump="&ref_"+c+e.dump)):(ne(e,p,e.dump),l&&(e.dump="&ref_"+c+" "+e.dump))}else{if("[object String]"!==u){if(e.skipInvalid)return!1;throw new i("unacceptable kind of an object to dump "+u)}"?"!==e.tag&&Y(e,e.dump,t,a)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function ue(e,t){var n,r,i=[],o=[];for(ce(e,i,o),n=0,r=o.length;n<r;n+=1)t.duplicates.push(i[o[n]]);t.usedDuplicates=new Array(r)}function ce(e,t,n){var r,i,o;if(null!==e&&"object"===typeof e)if(i=t.indexOf(e),-1!==i)-1===n.indexOf(i)&&n.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)ce(e[i],t,n);else for(r=Object.keys(e),i=0,o=r.length;i<o;i+=1)ce(e[r[i]],t,n)}function le(e,t){t=t||{};var n=new _(t);return n.noRefs||ue(e,n),se(n,0,e,!0,!0)?n.dump+"\n":""}function he(e,t){return le(e,r.extend({schema:a},t))}e.exports.dump=le,e.exports.safeDump=he},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";n.r(t),n.d(t,"MacUpdater",function(){return D});var r=n(2),i=n(46),o=n(3),a=n(1),s=n(16),u=n(9);function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)})}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function m(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}var D=function(e){function t(e,r){var i;return p(this,t),i=m(this,v(t).call(this,e,r)),i.nativeUpdater=n(17).autoUpdater,i.updateInfoForPendingUpdateDownloadedEvent=null,i.nativeUpdater.on("error",function(e){i._logger.warn(e),i.emit("error",e)}),i.nativeUpdater.on("update-downloaded",function(){var e=i.updateInfoForPendingUpdateDownloadedEvent;i.updateInfoForPendingUpdateDownloadedEvent=null,i.dispatchUpdateDownloaded(e)}),i}return x(t,e),d(t,[{key:"doDownloadUpdate",value:function(e){var t=this;this.updateInfoForPendingUpdateDownloadedEvent=null;var n=e.updateInfoAndProvider.provider.resolveFiles(e.updateInfoAndProvider.info),s=Object(u["b"])(n,"zip",["pkg","dmg"]);if(null==s)throw Object(a["d"])("ZIP file not provided: ".concat(Object(o["h"])(n)),"ERR_UPDATER_ZIP_FILE_NOT_FOUND");var c=Object(i["createServer"])();function l(){var e=c.address();return"http://127.0.0.1:".concat(e.port)}return c.on("close",function(){t._logger.info("Proxy server for native Squirrel.Mac is closed (was started to download ".concat(s.url.href,")"))}),this.executeDownload({fileExtension:"zip",fileInfo:s,downloadUpdateOptions:e,task:function(e,n){return t.httpExecutor.download(s.url,e,n)},done:function(){var e=h(regeneratorRuntime.mark(function e(n){var i,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=n.downloadedFile,t.updateInfoForPendingUpdateDownloadedEvent=n,o=s.info.size,null!=o){e.next=7;break}return e.next=6,Object(r["stat"])(i);case 6:o=e.sent.size;case 7:return e.next=9,new Promise(function(e,n){var a="/".concat(Date.now(),"-").concat(Math.floor(9999*Math.random()),".zip");c.on("request",function(s,u){var h=s.url;if(t._logger.info("".concat(h," requested")),"/"===h){var p=Buffer.from('{ "url": "'.concat(l()).concat(a,'" }'));return u.writeHead(200,{"Content-Type":"application/json","Content-Length":p.length}),void u.end(p)}if(!h.startsWith(a))return t._logger.warn("".concat(h," requested, but not supported")),u.writeHead(404),void u.end();t._logger.info("".concat(a," requested by Squirrel.Mac, pipe ").concat(i));var f=!1;u.on("finish",function(){try{setImmediate(function(){return c.close()})}finally{f||(t.nativeUpdater.removeListener("error",n),e([]))}});var d=Object(r["createReadStream"])(i);d.on("error",function(e){try{u.end()}catch(r){t._logger.warn("cannot end response: ".concat(r))}f=!0,t.nativeUpdater.removeListener("error",n),n(new Error('Cannot pipe "'.concat(i,'": ').concat(e)))}),u.writeHead(200,{"Content-Type":"application/zip","Content-Length":o}),d.pipe(u)}),c.listen(0,"127.0.0.1",function(){t.nativeUpdater.setFeedURL({url:l(),headers:{"Cache-Control":"no-cache"}}),t.nativeUpdater.once("error",n),t.nativeUpdater.checkForUpdates()})});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}()})}},{key:"quitAndInstall",value:function(){this.nativeUpdater.quitAndInstall()}}]),t}(s["a"])},function(e,t,n){"use strict";n.r(t),n.d(t,"AppImageUpdater",function(){return C});var r=n(13),i=n(2),o=n(0),a=n(1),s=n(29),u=n(30),c=n(9);function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){f(o,r,i,a,s,"next",e)}function s(e){f(o,r,i,a,s,"throw",e)}a(void 0)})}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function x(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t,n){return D="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=w(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},D(e,t,n||e)}function w(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=b(e),null===e)break;return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}var C=function(e){function t(e,n){return m(this,t),x(this,b(t).call(this,e,n))}return E(t,e),v(t,[{key:"isUpdaterActive",value:function(){return null==process.env.APPIMAGE?(null==process.env.SNAP?this._logger.warn("APPIMAGE env is not defined, current application is not an AppImage"):this._logger.info("SNAP env is defined, updater is disabled"),!1):D(b(t.prototype),"isUpdaterActive",this).call(this)}},{key:"doDownloadUpdate",value:function(e){var t=this,n=e.updateInfoAndProvider.provider,r=Object(c["b"])(n.resolveFiles(e.updateInfoAndProvider.info),"AppImage");return this.executeDownload({fileExtension:"AppImage",fileInfo:r,downloadUpdateOptions:e,task:function(){var o=d(regeneratorRuntime.mark(function o(s,c){var l,h;return regeneratorRuntime.wrap(function(o){while(1)switch(o.prev=o.next){case 0:if(l=process.env.APPIMAGE,null!=l){o.next=3;break}throw Object(a["d"])("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");case 3:return h=!1,o.prev=4,o.next=7,new u["a"](r.info,t.httpExecutor,{newUrl:r.url,oldFile:l,logger:t._logger,newFile:s,isUseMultipleRangeRequest:n.isUseMultipleRangeRequest,requestHeaders:e.requestHeaders}).download();case 7:o.next=13;break;case 9:o.prev=9,o.t0=o["catch"](4),t._logger.error("Cannot download differentially, fallback to full download: ".concat(o.t0.stack||o.t0)),h="linux"===process.platform;case 13:if(!h){o.next=16;break}return o.next=16,t.httpExecutor.download(r.url,s,c);case 16:return o.next=18,Object(i["chmod"])(s,493);case 18:case"end":return o.stop()}},o,this,[[4,9]])}));function s(e,t){return o.apply(this,arguments)}return s}()})}},{key:"doInstall",value:function(e){var t,n=process.env.APPIMAGE;if(null==n)throw Object(a["d"])("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");Object(i["unlinkSync"])(n);var s=o["basename"](n);t=o["basename"](e.installerPath)!==s&&/\d+\.\d+\.\d+/.test(s)?o["join"](o["dirname"](n),o["basename"](e.installerPath)):n,Object(r["execFileSync"])("mv",["-f",e.installerPath,t]);var u=h({},process.env,{APPIMAGE_SILENT_INSTALL:"true"});return e.isForceRunAfter?Object(r["spawn"])(t,[],{detached:!0,stdio:"ignore",env:u}).unref():(u.APPIMAGE_EXIT_AFTER_INSTALL="true",Object(r["execFileSync"])(t,[],{env:u})),!0}}]),t}(s["a"])},function(e,t,n){"use strict";n.r(t);var r=n(13),i=n(0),o=n(2),a=n(10),s=n(1),u=n(29),c=n(30),l=n(31);function h(e){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function m(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}var D=function(e){function t(){return p(this,t),m(this,v(t).apply(this,arguments))}return x(t,e),d(t,[{key:"download",value:function(e,t){return this.doDownload(e,t)}}]),t}(l["a"]),w=n(6),b=n(9),E=n(26);function S(e){var t=!1,n=null,r="",i=0;e=e.trim();for(var o=new Map,a=0;a<=e.length;a++){if(a===e.length){null!==n&&o.set(n,r);break}var s=e[a];if(t){if('"'===s){t=!1;continue}}else{if('"'===s){t=!0;continue}if("\\"===s){a++;var u=parseInt(e.slice(a,a+2),16);Number.isNaN(u)?r+=e[a]:(a++,r+=String.fromCharCode(u));continue}if(null===n&&"="===s){n=r,r="";continue}if(","===s||";"===s||"+"===s){null!==n&&o.set(n,r),n=null,r="";continue}}if(" "===s&&!t){if(0===r.length)continue;if(a>i){var c=a;while(" "===e[c])c++;i=c}if(i>=e.length||","===e[i]||";"===e[i]||null===n&&"="===e[i]||null!==n&&"+"===e[i]){a=i-1;continue}}r+=s}return o}function C(e,t,n){return new Promise(function(i){Object(r["execFile"])("powershell.exe",["-NoProfile","-NonInteractive","-InputFormat","None","-Command","Get-AuthenticodeSignature '".concat(t,"' | ConvertTo-Json -Compress")],{timeout:2e4},function(t,r,o){try{if(null!=t||o)return A(n,t,o),void i(null);var a=k(r);if(0===a.Status){var s=S(a.SignerCertificate.Subject).get("CN");if(e.includes(s))return void i(null)}var u="publisherNames: ".concat(e.join(" | "),", raw info: ").concat(JSON.stringify(a,function(e,t){return"RawData"===e?void 0:t},2));n.warn("Sign verification failed, installer signed with incorrect certificate: ".concat(u)),i(u)}catch(c){n.warn("Cannot execute Get-AuthenticodeSignature: ".concat(t,". Ignoring signature validation due to unknown error.")),i(null)}})})}function k(e){var t=JSON.parse(e);delete t.PrivateKey,delete t.IsOSBinary,delete t.SignatureType;var n=t.SignerCertificate;return null!=n&&(delete n.Archived,delete n.Extensions,delete n.Handle,delete n.HasPrivateKey,delete n.SubjectName),delete t.Path,t}function A(e,t,n){if(F())e.warn("Cannot execute Get-AuthenticodeSignature: ".concat(t||n,". Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher."));else{try{Object(r["execFileSync"])("powershell.exe",["-NoProfile","-NonInteractive","-Command","ConvertTo-Json test"],{timeout:1e4})}catch(i){return void e.warn("Cannot execute ConvertTo-Json: ".concat(i.message,". Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher."))}if(null!=t)throw t;n&&e.warn("Cannot execute Get-AuthenticodeSignature, stderr: ".concat(n,". Ignoring signature validation due to unknown stderr."))}}function F(){var e=E["release"]();return e.startsWith("6.")&&!e.startsWith("6.3")}function O(e){return O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function T(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function P(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){T(o,r,i,a,s,"next",e)}function s(e){T(o,r,i,a,s,"throw",e)}a(void 0)})}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),e}function _(e,t){return!t||"object"!==O(t)&&"function"!==typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function M(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}function U(e,t){return U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},U(e,t)}n.d(t,"NsisUpdater",function(){return z});var L=null,z=function(e){function t(e,n){return I(this,t),_(this,R(t).call(this,e,n))}return M(t,e),N(t,[{key:"doDownloadUpdate",value:function(e){var t=this,n=e.updateInfoAndProvider.provider,r=Object(b["b"])(n.resolveFiles(e.updateInfoAndProvider.info),"exe");return this.executeDownload({fileExtension:"exe",downloadUpdateOptions:e,fileInfo:r,task:function(){var i=P(regeneratorRuntime.mark(function i(u,c,l,h){var p,f,d;return regeneratorRuntime.wrap(function(i){while(1)switch(i.prev=i.next){case 0:if(p=r.packageInfo,f=null!=p&&null!=l,i.t0=f,i.t0){i.next=7;break}return i.next=6,t.differentialDownloadInstaller(r,e,u,n);case 6:i.t0=i.sent;case 7:if(!i.t0){i.next=10;break}return i.next=10,t.httpExecutor.download(r.url,u,c);case 10:return i.next=12,t.verifySignature(u);case 12:if(d=i.sent,null==d){i.next=17;break}return i.next=16,h();case 16:throw Object(s["d"])("New version ".concat(e.updateInfoAndProvider.info.version," is not signed by the application owner: ").concat(d),"ERR_UPDATER_INVALID_SIGNATURE");case 17:if(!f){i.next=36;break}return i.next=20,t.differentialDownloadWebPackage(p,l,n);case 20:if(!i.sent){i.next=36;break}return i.prev=21,i.next=24,t.httpExecutor.download(new a["URL"](p.path),l,{headers:e.requestHeaders,cancellationToken:e.cancellationToken,sha512:p.sha512});case 24:i.next=36;break;case 26:return i.prev=26,i.t1=i["catch"](21),i.prev=28,i.next=31,Object(o["unlink"])(l);case 31:i.next=35;break;case 33:i.prev=33,i.t2=i["catch"](28);case 35:throw i.t1;case 36:case"end":return i.stop()}},i,this,[[21,26],[28,33]])}));function u(e,t,n,r){return i.apply(this,arguments)}return u}()})}},{key:"verifySignature",value:function(){var e=P(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.configOnDisk.value;case 3:if(n=e.sent.publisherName,null!=n){e.next=6;break}return e.abrupt("return",null);case 6:e.next=13;break;case 8:if(e.prev=8,e.t0=e["catch"](0),"ENOENT"!==e.t0.code){e.next=12;break}return e.abrupt("return",null);case 12:throw e.t0;case 13:return e.next=15,C(Array.isArray(n)?n:[n],t,this._logger);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}},e,this,[[0,8]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"doInstall",value:function(e){var t=this,n=["--updated"];e.isSilent&&n.push("/S"),e.isForceRunAfter&&n.push("--force-run");var r=null==this.downloadedUpdateHelper?null:this.downloadedUpdateHelper.packageFile;null!=r&&n.push("--package-file=".concat(r));var o=function(){J(i["join"](process.resourcesPath,"elevate.exe"),[e.installerPath].concat(n)).catch(function(e){return t.dispatchError(e)})};return e.isAdminRightsRequired?(this._logger.info("isAdminRightsRequired is set to true, run installer using elevate.exe"),o(),!0):(J(e.installerPath,n).catch(function(e){var n=e.code;t._logger.info("Cannot run installer: error code: ".concat(n,', error message: "').concat(e.message,'", will be executed again using elevate if EACCES"')),"UNKNOWN"===n||"EACCES"===n?o():t.dispatchError(e)}),!0)}},{key:"differentialDownloadInstaller",value:function(){var e=P(regeneratorRuntime.mark(function e(t,r,o,a){var u,c,l,h,p=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,null==this._testOnlyOptions||this._testOnlyOptions.isUseDifferentialDownload){e.next=3;break}return e.abrupt("return",!0);case 3:return u=Object(w["newUrlFromBase"])("".concat(t.url.pathname,".blockmap"),t.url),c=Object(w["newUrlFromBase"])("".concat(t.url.pathname.replace(new RegExp(r.updateInfoAndProvider.info.version,"g"),this.currentVersion.version),".blockmap"),t.url),this._logger.info('Download block maps (old: "'.concat(c.href,'", new: ').concat(u.href,")")),l=function(){var e=P(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.httpExecutor.downloadToBuffer(t,{headers:r.requestHeaders,cancellationToken:r.cancellationToken});case 2:if(i=e.sent,null!=i&&0!==i.length){e.next=5;break}throw new Error('Blockmap "'.concat(t.href,'" is empty'));case 5:return null==L&&(L=n(45)),e.prev=6,e.abrupt("return",JSON.parse(L.inflateSync(i)));case 10:throw e.prev=10,e.t0=e["catch"](6),new Error('Cannot parse blockmap "'.concat(t.href,'", error: ').concat(e.t0,", raw data: ").concat(i));case 13:case"end":return e.stop()}},e,this,[[6,10]])}));return function(t){return e.apply(this,arguments)}}(),e.next=9,Promise.all([l(c),l(u)]);case 9:return h=e.sent,e.next=12,new D(t.info,this.httpExecutor,{newUrl:t.url,oldFile:i["join"](this.downloadedUpdateHelper.cacheDir,s["a"]),logger:this._logger,newFile:o,isUseMultipleRangeRequest:a.isUseMultipleRangeRequest,requestHeaders:r.requestHeaders}).download(h[0],h[1]);case 12:return e.abrupt("return",!1);case 15:if(e.prev=15,e.t0=e["catch"](0),this._logger.error("Cannot download differentially, fallback to full download: ".concat(e.t0.stack||e.t0)),null==this._testOnlyOptions){e.next=20;break}throw e.t0;case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}},e,this,[[0,15]])}));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"differentialDownloadWebPackage",value:function(){var e=P(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(null!=t.blockMapSize){e.next=2;break}return e.abrupt("return",!0);case 2:return e.prev=2,e.next=5,new c["a"](t,this.httpExecutor,{newUrl:new a["URL"](t.path),oldFile:i["join"](this.downloadedUpdateHelper.cacheDir,s["b"]),logger:this._logger,newFile:n,requestHeaders:this.requestHeaders,isUseMultipleRangeRequest:r.isUseMultipleRangeRequest}).download();case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e["catch"](2),this._logger.error("Cannot download differentially, fallback to full download: ".concat(e.t0.stack||e.t0)),e.abrupt("return","win32"===process.platform);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,this,[[2,7]])}));function t(t,n,r){return e.apply(this,arguments)}return t}()}]),t}(u["a"]);function J(e,t){return X.apply(this,arguments)}function X(){return X=P(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,i){try{var o=Object(r["spawn"])(t,n,{detached:!0,stdio:"ignore"});o.on("error",function(e){i(e)}),o.unref(),void 0!==o.pid&&e(!0)}catch(a){i(a)}}));case 1:case"end":return e.stop()}},e,this)})),X.apply(this,arguments)}}])});